var E;(function(e){e[e.NONE=0]="NONE";const r=1;e[e._abstract=r]="_abstract";const n=r+1;e[e._accessor=n]="_accessor";const s=n+1;e[e._as=s]="_as";const i=s+1;e[e._assert=i]="_assert";const c=i+1;e[e._asserts=c]="_asserts";const l=c+1;e[e._async=l]="_async";const f=l+1;e[e._await=f]="_await";const d=f+1;e[e._checks=d]="_checks";const g=d+1;e[e._constructor=g]="_constructor";const w=g+1;e[e._declare=w]="_declare";const k=w+1;e[e._enum=k]="_enum";const x=k+1;e[e._exports=x]="_exports";const A=x+1;e[e._from=A]="_from";const P=A+1;e[e._get=P]="_get";const R=P+1;e[e._global=R]="_global";const L=R+1;e[e._implements=L]="_implements";const F=L+1;e[e._infer=F]="_infer";const O=F+1;e[e._interface=O]="_interface";const V=O+1;e[e._is=V]="_is";const te=V+1;e[e._keyof=te]="_keyof";const ce=te+1;e[e._mixins=ce]="_mixins";const ae=ce+1;e[e._module=ae]="_module";const he=ae+1;e[e._namespace=he]="_namespace";const Se=he+1;e[e._of=Se]="_of";const De=Se+1;e[e._opaque=De]="_opaque";const Ae=De+1;e[e._out=Ae]="_out";const Oe=Ae+1;e[e._override=Oe]="_override";const Qe=Oe+1;e[e._private=Qe]="_private";const Ne=Qe+1;e[e._protected=Ne]="_protected";const je=Ne+1;e[e._proto=je]="_proto";const qe=je+1;e[e._public=qe]="_public";const Le=qe+1;e[e._readonly=Le]="_readonly";const me=Le+1;e[e._require=me]="_require";const Ye=me+1;e[e._satisfies=Ye]="_satisfies";const Je=Ye+1;e[e._set=Je]="_set";const Be=Je+1;e[e._static=Be]="_static";const We=Be+1;e[e._symbol=We]="_symbol";const Ct=We+1;e[e._type=Ct]="_type";const Vt=Ct+1;e[e._unique=Vt]="_unique";const j=Vt+1;e[e._using=j]="_using"})(E||(E={}));var o;(function(e){e[e.PRECEDENCE_MASK=15]="PRECEDENCE_MASK";const r=16;e[e.IS_KEYWORD=r]="IS_KEYWORD";const n=32;e[e.IS_ASSIGN=n]="IS_ASSIGN";const s=64;e[e.IS_RIGHT_ASSOCIATIVE=s]="IS_RIGHT_ASSOCIATIVE";const i=128;e[e.IS_PREFIX=i]="IS_PREFIX";const c=256;e[e.IS_POSTFIX=c]="IS_POSTFIX";const l=512;e[e.IS_EXPRESSION_START=l]="IS_EXPRESSION_START";const f=512;e[e.num=f]="num";const d=1536;e[e.bigint=d]="bigint";const g=2560;e[e.decimal=g]="decimal";const w=3584;e[e.regexp=w]="regexp";const k=4608;e[e.string=k]="string";const x=5632;e[e.name=x]="name";const A=6144;e[e.eof=A]="eof";const P=7680;e[e.bracketL=P]="bracketL";const R=8192;e[e.bracketR=R]="bracketR";const L=9728;e[e.braceL=L]="braceL";const F=10752;e[e.braceBarL=F]="braceBarL";const O=11264;e[e.braceR=O]="braceR";const V=12288;e[e.braceBarR=V]="braceBarR";const te=13824;e[e.parenL=te]="parenL";const ce=14336;e[e.parenR=ce]="parenR";const ae=15360;e[e.comma=ae]="comma";const he=16384;e[e.semi=he]="semi";const Se=17408;e[e.colon=Se]="colon";const De=18432;e[e.doubleColon=De]="doubleColon";const Ae=19456;e[e.dot=Ae]="dot";const Oe=20480;e[e.question=Oe]="question";const Qe=21504;e[e.questionDot=Qe]="questionDot";const Ne=22528;e[e.arrow=Ne]="arrow";const je=23552;e[e.template=je]="template";const qe=24576;e[e.ellipsis=qe]="ellipsis";const Le=25600;e[e.backQuote=Le]="backQuote";const me=27136;e[e.dollarBraceL=me]="dollarBraceL";const Ye=27648;e[e.at=Ye]="at";const Je=29184;e[e.hash=Je]="hash";const Be=29728;e[e.eq=Be]="eq";const We=30752;e[e.assign=We]="assign";const Ct=32640;e[e.preIncDec=Ct]="preIncDec";const Vt=33664;e[e.postIncDec=Vt]="postIncDec";const j=34432;e[e.bang=j]="bang";const H=35456;e[e.tilde=H]="tilde";const q=35841;e[e.pipeline=q]="pipeline";const W=36866;e[e.nullishCoalescing=W]="nullishCoalescing";const K=37890;e[e.logicalOR=K]="logicalOR";const fe=38915;e[e.logicalAND=fe]="logicalAND";const M=39940;e[e.bitwiseOR=M]="bitwiseOR";const re=40965;e[e.bitwiseXOR=re]="bitwiseXOR";const Ie=41990;e[e.bitwiseAND=Ie]="bitwiseAND";const Ve=43015;e[e.equality=Ve]="equality";const ht=44040;e[e.lessThan=ht]="lessThan";const It=45064;e[e.greaterThan=It]="greaterThan";const et=46088;e[e.relationalOrEqual=et]="relationalOrEqual";const kt=47113;e[e.bitShiftL=kt]="bitShiftL";const wt=48137;e[e.bitShiftR=wt]="bitShiftR";const kr=49802;e[e.plus=kr]="plus";const Lr=50826;e[e.minus=Lr]="minus";const sn=51723;e[e.modulo=sn]="modulo";const es=52235;e[e.star=es]="star";const ts=53259;e[e.slash=ts]="slash";const rs=54348;e[e.exponent=rs]="exponent";const Zt=55296;e[e.jsxName=Zt]="jsxName";const wr=56320;e[e.jsxText=wr]="jsxText";const xo=57344;e[e.jsxEmptyText=xo]="jsxEmptyText";const on=58880;e[e.jsxTagStart=on]="jsxTagStart";const Fr=59392;e[e.jsxTagEnd=Fr]="jsxTagEnd";const zt=60928;e[e.typeParameterStart=zt]="typeParameterStart";const ns=61440;e[e.nonNullAssertion=ns]="nonNullAssertion";const En=62480;e[e._break=En]="_break";const An=63504;e[e._case=An]="_case";const bt=64528;e[e._catch=bt]="_catch";const In=65552;e[e._continue=In]="_continue";const ss=66576;e[e._debugger=ss]="_debugger";const os=67600;e[e._default=os]="_default";const at=68624;e[e._do=at]="_do";const Mt=69648;e[e._else=Mt]="_else";const is=70672;e[e._finally=is]="_finally";const an=71696;e[e._for=an]="_for";const Nr=73232;e[e._function=Nr]="_function";const Mr=73744;e[e._if=Mr]="_if";const as=74768;e[e._return=as]="_return";const cs=75792;e[e._switch=cs]="_switch";const us=77456;e[e._throw=us]="_throw";const ls=77840;e[e._try=ls]="_try";const Pe=78864;e[e._var=Pe]="_var";const fs=79888;e[e._let=fs]="_let";const Bt=80912;e[e._const=Bt]="_const";const Kt=81936;e[e._while=Kt]="_while";const hs=82960;e[e._with=hs]="_with";const ps=84496;e[e._new=ps]="_new";const Cn=85520;e[e._this=Cn]="_this";const ge=86544;e[e._super=ge]="_super";const ds=87568;e[e._class=ds]="_class";const y=88080;e[e._extends=y]="_extends";const Re=89104;e[e._export=Re]="_export";const ms=90640;e[e._import=ms]="_import";const gs=91664;e[e._yield=gs]="_yield";const vs=92688;e[e._null=vs]="_null";const ys=93712;e[e._true=ys]="_true";const ks=94736;e[e._false=ks]="_false";const ws=95256;e[e._in=ws]="_in";const _s=96280;e[e._instanceof=_s]="_instanceof";const bs=97936;e[e._typeof=bs]="_typeof";const xs=98960;e[e._void=xs]="_void";const Hi=99984;e[e._delete=Hi]="_delete";const qi=100880;e[e._async=qi]="_async";const Pn=101904;e[e._get=Pn]="_get";const Wi=102928;e[e._set=Wi]="_set";const So=103952;e[e._declare=So]="_declare";const xt=104976;e[e._readonly=xt]="_readonly";const Br=106e3;e[e._abstract=Br]="_abstract";const _r=107024;e[e._static=_r]="_static";const Rn=107536;e[e._public=Rn]="_public";const Vi=108560;e[e._private=Vi]="_private";const zi=109584;e[e._protected=zi]="_protected";const Dn=110608;e[e._override=Dn]="_override";const On=112144;e[e._as=On]="_as";const Ss=113168;e[e._enum=Ss]="_enum";const Ur=114192;e[e._type=Ur]="_type";const Fe=115216;e[e._implements=Fe]="_implements"})(o||(o={}));function md(e){switch(e){case o.num:return"num";case o.bigint:return"bigint";case o.decimal:return"decimal";case o.regexp:return"regexp";case o.string:return"string";case o.name:return"name";case o.eof:return"eof";case o.bracketL:return"[";case o.bracketR:return"]";case o.braceL:return"{";case o.braceBarL:return"{|";case o.braceR:return"}";case o.braceBarR:return"|}";case o.parenL:return"(";case o.parenR:return")";case o.comma:return",";case o.semi:return";";case o.colon:return":";case o.doubleColon:return"::";case o.dot:return".";case o.question:return"?";case o.questionDot:return"?.";case o.arrow:return"=>";case o.template:return"template";case o.ellipsis:return"...";case o.backQuote:return"`";case o.dollarBraceL:return"${";case o.at:return"@";case o.hash:return"#";case o.eq:return"=";case o.assign:return"_=";case o.preIncDec:return"++/--";case o.postIncDec:return"++/--";case o.bang:return"!";case o.tilde:return"~";case o.pipeline:return"|>";case o.nullishCoalescing:return"??";case o.logicalOR:return"||";case o.logicalAND:return"&&";case o.bitwiseOR:return"|";case o.bitwiseXOR:return"^";case o.bitwiseAND:return"&";case o.equality:return"==/!=";case o.lessThan:return"<";case o.greaterThan:return">";case o.relationalOrEqual:return"<=/>=";case o.bitShiftL:return"<<";case o.bitShiftR:return">>/>>>";case o.plus:return"+";case o.minus:return"-";case o.modulo:return"%";case o.star:return"*";case o.slash:return"/";case o.exponent:return"**";case o.jsxName:return"jsxName";case o.jsxText:return"jsxText";case o.jsxEmptyText:return"jsxEmptyText";case o.jsxTagStart:return"jsxTagStart";case o.jsxTagEnd:return"jsxTagEnd";case o.typeParameterStart:return"typeParameterStart";case o.nonNullAssertion:return"nonNullAssertion";case o._break:return"break";case o._case:return"case";case o._catch:return"catch";case o._continue:return"continue";case o._debugger:return"debugger";case o._default:return"default";case o._do:return"do";case o._else:return"else";case o._finally:return"finally";case o._for:return"for";case o._function:return"function";case o._if:return"if";case o._return:return"return";case o._switch:return"switch";case o._throw:return"throw";case o._try:return"try";case o._var:return"var";case o._let:return"let";case o._const:return"const";case o._while:return"while";case o._with:return"with";case o._new:return"new";case o._this:return"this";case o._super:return"super";case o._class:return"class";case o._extends:return"extends";case o._export:return"export";case o._import:return"import";case o._yield:return"yield";case o._null:return"null";case o._true:return"true";case o._false:return"false";case o._in:return"in";case o._instanceof:return"instanceof";case o._typeof:return"typeof";case o._void:return"void";case o._delete:return"delete";case o._async:return"async";case o._get:return"get";case o._set:return"set";case o._declare:return"declare";case o._readonly:return"readonly";case o._abstract:return"abstract";case o._static:return"static";case o._public:return"public";case o._private:return"private";case o._protected:return"protected";case o._override:return"override";case o._as:return"as";case o._enum:return"enum";case o._type:return"type";case o._implements:return"implements";default:return""}}class vr{constructor(t,r,n){this.startTokenIndex=t,this.endTokenIndex=r,this.isFunctionScope=n}}class gd{constructor(t,r,n,s,i,c,l,f,d,g,w,k,x){this.potentialArrowAt=t,this.noAnonFunctionType=r,this.inDisallowConditionalTypesContext=n,this.tokensLength=s,this.scopesLength=i,this.pos=c,this.type=l,this.contextualKeyword=f,this.start=d,this.end=g,this.isType=w,this.scopeDepth=k,this.error=x}}let vd=class Ft{constructor(){Ft.prototype.__init.call(this),Ft.prototype.__init2.call(this),Ft.prototype.__init3.call(this),Ft.prototype.__init4.call(this),Ft.prototype.__init5.call(this),Ft.prototype.__init6.call(this),Ft.prototype.__init7.call(this),Ft.prototype.__init8.call(this),Ft.prototype.__init9.call(this),Ft.prototype.__init10.call(this),Ft.prototype.__init11.call(this),Ft.prototype.__init12.call(this),Ft.prototype.__init13.call(this)}__init(){this.potentialArrowAt=-1}__init2(){this.noAnonFunctionType=!1}__init3(){this.inDisallowConditionalTypesContext=!1}__init4(){this.tokens=[]}__init5(){this.scopes=[]}__init6(){this.pos=0}__init7(){this.type=o.eof}__init8(){this.contextualKeyword=E.NONE}__init9(){this.start=0}__init10(){this.end=0}__init11(){this.isType=!1}__init12(){this.scopeDepth=0}__init13(){this.error=null}snapshot(){return new gd(this.potentialArrowAt,this.noAnonFunctionType,this.inDisallowConditionalTypesContext,this.tokens.length,this.scopes.length,this.pos,this.type,this.contextualKeyword,this.start,this.end,this.isType,this.scopeDepth,this.error)}restoreFromSnapshot(t){this.potentialArrowAt=t.potentialArrowAt,this.noAnonFunctionType=t.noAnonFunctionType,this.inDisallowConditionalTypesContext=t.inDisallowConditionalTypesContext,this.tokens.length=t.tokensLength,this.scopes.length=t.scopesLength,this.pos=t.pos,this.type=t.type,this.contextualKeyword=t.contextualKeyword,this.start=t.start,this.end=t.end,this.isType=t.isType,this.scopeDepth=t.scopeDepth,this.error=t.error}};var I;(function(e){e[e.backSpace=8]="backSpace";const r=10;e[e.lineFeed=r]="lineFeed";const n=9;e[e.tab=n]="tab";const s=13;e[e.carriageReturn=s]="carriageReturn";const i=14;e[e.shiftOut=i]="shiftOut";const c=32;e[e.space=c]="space";const l=33;e[e.exclamationMark=l]="exclamationMark";const f=34;e[e.quotationMark=f]="quotationMark";const d=35;e[e.numberSign=d]="numberSign";const g=36;e[e.dollarSign=g]="dollarSign";const w=37;e[e.percentSign=w]="percentSign";const k=38;e[e.ampersand=k]="ampersand";const x=39;e[e.apostrophe=x]="apostrophe";const A=40;e[e.leftParenthesis=A]="leftParenthesis";const P=41;e[e.rightParenthesis=P]="rightParenthesis";const R=42;e[e.asterisk=R]="asterisk";const L=43;e[e.plusSign=L]="plusSign";const F=44;e[e.comma=F]="comma";const O=45;e[e.dash=O]="dash";const V=46;e[e.dot=V]="dot";const te=47;e[e.slash=te]="slash";const ce=48;e[e.digit0=ce]="digit0";const ae=49;e[e.digit1=ae]="digit1";const he=50;e[e.digit2=he]="digit2";const Se=51;e[e.digit3=Se]="digit3";const De=52;e[e.digit4=De]="digit4";const Ae=53;e[e.digit5=Ae]="digit5";const Oe=54;e[e.digit6=Oe]="digit6";const Qe=55;e[e.digit7=Qe]="digit7";const Ne=56;e[e.digit8=Ne]="digit8";const je=57;e[e.digit9=je]="digit9";const qe=58;e[e.colon=qe]="colon";const Le=59;e[e.semicolon=Le]="semicolon";const me=60;e[e.lessThan=me]="lessThan";const Ye=61;e[e.equalsTo=Ye]="equalsTo";const Je=62;e[e.greaterThan=Je]="greaterThan";const Be=63;e[e.questionMark=Be]="questionMark";const We=64;e[e.atSign=We]="atSign";const Ct=65;e[e.uppercaseA=Ct]="uppercaseA";const Vt=66;e[e.uppercaseB=Vt]="uppercaseB";const j=67;e[e.uppercaseC=j]="uppercaseC";const H=68;e[e.uppercaseD=H]="uppercaseD";const q=69;e[e.uppercaseE=q]="uppercaseE";const W=70;e[e.uppercaseF=W]="uppercaseF";const K=71;e[e.uppercaseG=K]="uppercaseG";const fe=72;e[e.uppercaseH=fe]="uppercaseH";const M=73;e[e.uppercaseI=M]="uppercaseI";const re=74;e[e.uppercaseJ=re]="uppercaseJ";const Ie=75;e[e.uppercaseK=Ie]="uppercaseK";const Ve=76;e[e.uppercaseL=Ve]="uppercaseL";const ht=77;e[e.uppercaseM=ht]="uppercaseM";const It=78;e[e.uppercaseN=It]="uppercaseN";const et=79;e[e.uppercaseO=et]="uppercaseO";const kt=80;e[e.uppercaseP=kt]="uppercaseP";const wt=81;e[e.uppercaseQ=wt]="uppercaseQ";const kr=82;e[e.uppercaseR=kr]="uppercaseR";const Lr=83;e[e.uppercaseS=Lr]="uppercaseS";const sn=84;e[e.uppercaseT=sn]="uppercaseT";const es=85;e[e.uppercaseU=es]="uppercaseU";const ts=86;e[e.uppercaseV=ts]="uppercaseV";const rs=87;e[e.uppercaseW=rs]="uppercaseW";const Zt=88;e[e.uppercaseX=Zt]="uppercaseX";const wr=89;e[e.uppercaseY=wr]="uppercaseY";const xo=90;e[e.uppercaseZ=xo]="uppercaseZ";const on=91;e[e.leftSquareBracket=on]="leftSquareBracket";const Fr=92;e[e.backslash=Fr]="backslash";const zt=93;e[e.rightSquareBracket=zt]="rightSquareBracket";const ns=94;e[e.caret=ns]="caret";const En=95;e[e.underscore=En]="underscore";const An=96;e[e.graveAccent=An]="graveAccent";const bt=97;e[e.lowercaseA=bt]="lowercaseA";const In=98;e[e.lowercaseB=In]="lowercaseB";const ss=99;e[e.lowercaseC=ss]="lowercaseC";const os=100;e[e.lowercaseD=os]="lowercaseD";const at=101;e[e.lowercaseE=at]="lowercaseE";const Mt=102;e[e.lowercaseF=Mt]="lowercaseF";const is=103;e[e.lowercaseG=is]="lowercaseG";const an=104;e[e.lowercaseH=an]="lowercaseH";const Nr=105;e[e.lowercaseI=Nr]="lowercaseI";const Mr=106;e[e.lowercaseJ=Mr]="lowercaseJ";const as=107;e[e.lowercaseK=as]="lowercaseK";const cs=108;e[e.lowercaseL=cs]="lowercaseL";const us=109;e[e.lowercaseM=us]="lowercaseM";const ls=110;e[e.lowercaseN=ls]="lowercaseN";const Pe=111;e[e.lowercaseO=Pe]="lowercaseO";const fs=112;e[e.lowercaseP=fs]="lowercaseP";const Bt=113;e[e.lowercaseQ=Bt]="lowercaseQ";const Kt=114;e[e.lowercaseR=Kt]="lowercaseR";const hs=115;e[e.lowercaseS=hs]="lowercaseS";const ps=116;e[e.lowercaseT=ps]="lowercaseT";const Cn=117;e[e.lowercaseU=Cn]="lowercaseU";const ge=118;e[e.lowercaseV=ge]="lowercaseV";const ds=119;e[e.lowercaseW=ds]="lowercaseW";const y=120;e[e.lowercaseX=y]="lowercaseX";const Re=121;e[e.lowercaseY=Re]="lowercaseY";const ms=122;e[e.lowercaseZ=ms]="lowercaseZ";const gs=123;e[e.leftCurlyBrace=gs]="leftCurlyBrace";const vs=124;e[e.verticalBar=vs]="verticalBar";const ys=125;e[e.rightCurlyBrace=ys]="rightCurlyBrace";const ks=126;e[e.tilde=ks]="tilde";const ws=160;e[e.nonBreakingSpace=ws]="nonBreakingSpace";const _s=5760;e[e.oghamSpaceMark=_s]="oghamSpaceMark";const bs=8232;e[e.lineSeparator=bs]="lineSeparator";const xs=8233;e[e.paragraphSeparator=xs]="paragraphSeparator"})(I||(I={}));let Ai,Ce,Me,p,X,zu;function Vs(){return zu++}function yd(e){if("pos"in e){const t=wd(e.pos);e.message+=` (${t.line}:${t.column})`,e.loc=t}return e}class kd{constructor(t,r){this.line=t,this.column=r}}function wd(e){let t=1,r=1;for(let n=0;n<e;n++)X.charCodeAt(n)===I.lineFeed?(t++,r=1):r++;return new kd(t,r)}function _d(e,t,r,n){X=e,p=new vd,zu=1,Ai=t,Ce=r,Me=n}function ie(e){return p.contextualKeyword===e}function Ja(e){const t=ao();return t.type===o.name&&t.contextualKeyword===e}function vt(e){return p.contextualKeyword===e&&D(o.name)}function lt(e){vt(e)||ye()}function Ut(){return b(o.eof)||b(o.braceR)||Ot()}function Ot(){const e=p.tokens[p.tokens.length-1],t=e?e.end:0;for(let r=t;r<p.start;r++){const n=X.charCodeAt(r);if(n===I.lineFeed||n===I.carriageReturn||n===8232||n===8233)return!0}return!1}function $u(){const e=ec();for(let t=p.end;t<e;t++){const r=X.charCodeAt(t);if(r===I.lineFeed||r===I.carriageReturn||r===8232||r===8233)return!0}return!1}function fr(){return D(o.semi)||Ut()}function Ze(){fr()||ye('Unexpected token, expected ";"')}function U(e){D(e)||ye(`Unexpected token, expected "${md(e)}"`)}function ye(e="Unexpected token",t=p.start){if(p.error)return;const r=new SyntaxError(e);r.pos=t,p.error=r,p.pos=X.length,ve(o.eof)}const Xu=[9,11,12,I.space,I.nonBreakingSpace,I.oghamSpaceMark,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],f1=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Yu=new Uint8Array(65536);for(const e of Xu)Yu[e]=1;function bd(e){if(e<48)return e===36;if(e<58)return!0;if(e<65)return!1;if(e<91)return!0;if(e<97)return e===95;if(e<123)return!0;if(e<128)return!1;throw new Error("Should not be called with non-ASCII char code.")}const rr=new Uint8Array(65536);for(let e=0;e<128;e++)rr[e]=bd(e)?1:0;for(let e=128;e<65536;e++)rr[e]=1;for(const e of Xu)rr[e]=0;rr[8232]=0;rr[8233]=0;const io=rr.slice();for(let e=I.digit0;e<=I.digit9;e++)io[e]=0;const h1=new Int32Array([-1,27,783,918,1755,2376,2862,3483,-1,3699,-1,4617,4752,4833,5130,5508,5940,-1,6480,6939,7749,8181,8451,8613,-1,8829,-1,-1,-1,54,243,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,432,-1,-1,-1,675,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,81,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,108,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,135,-1,-1,-1,-1,-1,-1,-1,-1,-1,162,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,189,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,216,-1,-1,-1,-1,-1,-1,E._abstract<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,270,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,297,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,324,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,351,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,378,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,405,-1,-1,-1,-1,-1,-1,-1,-1,E._accessor<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._as<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,459,-1,-1,-1,-1,-1,594,-1,-1,-1,-1,-1,-1,486,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,513,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,540,-1,-1,-1,-1,-1,-1,E._assert<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,567,-1,-1,-1,-1,-1,-1,-1,E._asserts<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,621,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,648,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._async<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,702,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,729,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,756,-1,-1,-1,-1,-1,-1,E._await<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,810,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,837,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,864,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,891,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._break<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,945,-1,-1,-1,-1,-1,-1,1107,-1,-1,-1,1242,-1,-1,1350,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,972,1026,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,999,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._case<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1053,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1080,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._catch<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1134,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1161,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1188,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1215,-1,-1,-1,-1,-1,-1,-1,E._checks<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1269,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1296,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1323,-1,-1,-1,-1,-1,-1,-1,(o._class<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1377,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1404,1620,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1431,-1,-1,-1,-1,-1,-1,(o._const<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1458,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1485,-1,-1,-1,-1,-1,-1,-1,-1,1512,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1539,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1566,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1593,-1,-1,-1,-1,-1,-1,-1,-1,E._constructor<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1647,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1674,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1701,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1728,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._continue<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1782,-1,-1,-1,-1,-1,-1,-1,-1,-1,2349,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1809,1971,-1,-1,2106,-1,-1,-1,-1,-1,2241,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1836,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1863,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1890,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1917,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1944,-1,-1,-1,-1,-1,-1,-1,-1,(o._debugger<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1998,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2025,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2052,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2079,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._declare<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2133,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2160,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2187,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2214,-1,-1,-1,-1,-1,-1,(o._default<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2268,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2295,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2322,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._delete<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._do<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2403,-1,2484,-1,-1,-1,-1,-1,-1,-1,-1,-1,2565,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2430,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2457,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._else<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2538,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._enum<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2592,-1,-1,-1,2727,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2619,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2646,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2673,-1,-1,-1,-1,-1,-1,(o._export<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2700,-1,-1,-1,-1,-1,-1,-1,E._exports<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2754,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2781,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2808,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2835,-1,-1,-1,-1,-1,-1,-1,(o._extends<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2889,-1,-1,-1,-1,-1,-1,-1,2997,-1,-1,-1,-1,-1,3159,-1,-1,3213,-1,-1,3294,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2916,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2943,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2970,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._false<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3024,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3051,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3078,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3105,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3132,-1,(o._finally<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3186,-1,-1,-1,-1,-1,-1,-1,-1,(o._for<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3240,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3267,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._from<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3321,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3348,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3375,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3402,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3429,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3456,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._function<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3510,-1,-1,-1,-1,-1,-1,3564,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3537,-1,-1,-1,-1,-1,-1,E._get<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3591,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3618,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3645,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3672,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._global<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3726,-1,-1,-1,-1,-1,-1,3753,4077,-1,-1,-1,-1,4590,-1,-1,-1,-1,-1,-1,-1,(o._if<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3780,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3807,-1,-1,3996,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3834,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3861,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3888,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3915,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3942,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3969,-1,-1,-1,-1,-1,-1,-1,E._implements<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4023,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4050,-1,-1,-1,-1,-1,-1,(o._import<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._in<<1)+1,-1,-1,-1,-1,-1,4104,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4185,4401,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4131,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4158,-1,-1,-1,-1,-1,-1,-1,-1,E._infer<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4212,-1,-1,-1,-1,-1,-1,-1,4239,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4266,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4293,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4320,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4347,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4374,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._instanceof<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4428,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4455,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4482,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4509,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4536,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4563,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._interface<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._is<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4644,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4671,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4698,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4725,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._keyof<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4779,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4806,-1,-1,-1,-1,-1,-1,(o._let<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4860,-1,-1,-1,-1,-1,4995,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4887,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4914,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4941,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4968,-1,-1,-1,-1,-1,-1,-1,E._mixins<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5022,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5049,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5076,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5103,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._module<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5157,-1,-1,-1,5373,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5427,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5184,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5211,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5238,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5265,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5292,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5319,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5346,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._namespace<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5400,-1,-1,-1,(o._new<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5454,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5481,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._null<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5535,-1,-1,-1,-1,-1,-1,-1,-1,-1,5562,-1,-1,-1,-1,5697,5751,-1,-1,-1,-1,E._of<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5589,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5616,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5643,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5670,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._opaque<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5724,-1,-1,-1,-1,-1,-1,E._out<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5778,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5805,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5832,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5859,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5886,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5913,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._override<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5967,-1,-1,6345,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5994,-1,-1,-1,-1,-1,6129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6021,-1,-1,-1,-1,-1,6048,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6075,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6102,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._private<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6156,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6183,-1,-1,-1,-1,-1,-1,-1,-1,-1,6318,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6210,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6237,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6264,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6291,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._protected<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._proto<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6372,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6399,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6426,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6453,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._public<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6507,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6534,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6696,-1,-1,6831,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6561,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6588,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6615,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6642,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6669,-1,E._readonly<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6723,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6750,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6777,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6804,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._require<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6858,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6885,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6912,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._return<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6966,-1,-1,-1,7182,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7236,7371,-1,7479,-1,7614,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6993,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7020,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7074,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7101,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7128,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7155,-1,-1,-1,-1,-1,-1,-1,E._satisfies<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7209,-1,-1,-1,-1,-1,-1,E._set<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7263,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7290,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7317,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7344,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._static<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7398,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7425,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7452,-1,-1,-1,-1,-1,-1,-1,-1,(o._super<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7506,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7533,-1,-1,-1,-1,-1,-1,-1,-1,-1,7560,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7587,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._switch<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7641,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7668,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7695,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7722,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._symbol<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7776,-1,-1,-1,-1,-1,-1,-1,-1,-1,7938,-1,-1,-1,-1,-1,-1,8046,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7803,-1,-1,-1,-1,-1,-1,-1,-1,7857,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7830,-1,-1,-1,-1,-1,-1,-1,(o._this<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7884,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7911,-1,-1,-1,(o._throw<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7965,-1,-1,-1,8019,-1,-1,-1,-1,-1,-1,7992,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._true<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._try<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8073,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8100,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._type<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8154,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._typeof<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8208,-1,-1,-1,-1,8343,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8235,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8262,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8289,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8316,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._unique<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8370,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8397,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8424,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,E._using<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8478,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8532,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8505,-1,-1,-1,-1,-1,-1,-1,-1,(o._var<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8559,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8586,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._void<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8640,8748,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8667,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8694,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8721,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._while<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8775,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8802,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._with<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8856,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8883,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8910,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8937,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(o._yield<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);function xd(){let e=0,t=0,r=p.pos;for(;r<X.length&&(t=X.charCodeAt(r),!(t<I.lowercaseA||t>I.lowercaseZ));){const s=h1[e+(t-I.lowercaseA)+1];if(s===-1)break;e=s,r++}const n=h1[e];if(n>-1&&!rr[t]){p.pos=r,n&1?ve(n>>>1):ve(o.name,n>>>1);return}for(;r<X.length;){const s=X.charCodeAt(r);if(rr[s])r++;else if(s===I.backslash){if(r+=2,X.charCodeAt(r)===I.leftCurlyBrace){for(;r<X.length&&X.charCodeAt(r)!==I.rightCurlyBrace;)r++;r++}}else if(s===I.atSign&&X.charCodeAt(r+1)===I.atSign)r+=2;else break}p.pos=r,ve(o.name)}var le;(function(e){e[e.Access=0]="Access";const r=1;e[e.ExportAccess=r]="ExportAccess";const n=r+1;e[e.TopLevelDeclaration=n]="TopLevelDeclaration";const s=n+1;e[e.FunctionScopedDeclaration=s]="FunctionScopedDeclaration";const i=s+1;e[e.BlockScopedDeclaration=i]="BlockScopedDeclaration";const c=i+1;e[e.ObjectShorthandTopLevelDeclaration=c]="ObjectShorthandTopLevelDeclaration";const l=c+1;e[e.ObjectShorthandFunctionScopedDeclaration=l]="ObjectShorthandFunctionScopedDeclaration";const f=l+1;e[e.ObjectShorthandBlockScopedDeclaration=f]="ObjectShorthandBlockScopedDeclaration";const d=f+1;e[e.ObjectShorthand=d]="ObjectShorthand";const g=d+1;e[e.ImportDeclaration=g]="ImportDeclaration";const w=g+1;e[e.ObjectKey=w]="ObjectKey";const k=w+1;e[e.ImportAccess=k]="ImportAccess"})(le||(le={}));var tr;(function(e){e[e.NoChildren=0]="NoChildren";const r=1;e[e.OneChild=r]="OneChild";const n=r+1;e[e.StaticChildren=n]="StaticChildren";const s=n+1;e[e.KeyAfterPropSpread=s]="KeyAfterPropSpread"})(tr||(tr={}));function Zu(e){const t=e.identifierRole;return t===le.TopLevelDeclaration||t===le.FunctionScopedDeclaration||t===le.BlockScopedDeclaration||t===le.ObjectShorthandTopLevelDeclaration||t===le.ObjectShorthandFunctionScopedDeclaration||t===le.ObjectShorthandBlockScopedDeclaration}function Sd(e){const t=e.identifierRole;return t===le.FunctionScopedDeclaration||t===le.BlockScopedDeclaration||t===le.ObjectShorthandFunctionScopedDeclaration||t===le.ObjectShorthandBlockScopedDeclaration}function Ku(e){const t=e.identifierRole;return t===le.TopLevelDeclaration||t===le.ObjectShorthandTopLevelDeclaration||t===le.ImportDeclaration}function Td(e){const t=e.identifierRole;return t===le.TopLevelDeclaration||t===le.BlockScopedDeclaration||t===le.ObjectShorthandTopLevelDeclaration||t===le.ObjectShorthandBlockScopedDeclaration}function Ed(e){const t=e.identifierRole;return t===le.FunctionScopedDeclaration||t===le.ObjectShorthandFunctionScopedDeclaration}function Ad(e){return e.identifierRole===le.ObjectShorthandTopLevelDeclaration||e.identifierRole===le.ObjectShorthandBlockScopedDeclaration||e.identifierRole===le.ObjectShorthandFunctionScopedDeclaration}let Ii=class{constructor(){this.type=p.type,this.contextualKeyword=p.contextualKeyword,this.start=p.start,this.end=p.end,this.scopeDepth=p.scopeDepth,this.isType=p.isType,this.identifierRole=null,this.jsxRole=null,this.shadowsGlobal=!1,this.isAsyncOperation=!1,this.contextId=null,this.rhsEndIndex=null,this.isExpression=!1,this.numNullishCoalesceStarts=0,this.numNullishCoalesceEnds=0,this.isOptionalChainStart=!1,this.isOptionalChainEnd=!1,this.subscriptStartIndex=null,this.nullishStartIndex=null}};function G(){p.tokens.push(new Ii),tl()}function zr(){p.tokens.push(new Ii),p.start=p.pos,Wd()}function Id(){p.type===o.assign&&--p.pos,jd()}function _e(e){for(let r=p.tokens.length-e;r<p.tokens.length;r++)p.tokens[r].isType=!0;const t=p.isType;return p.isType=!0,t}function ke(e){p.isType=e}function D(e){return b(e)?(G(),!0):!1}function Qu(e){const t=p.isType;p.isType=!0,D(e),p.isType=t}function b(e){return p.type===e}function st(){const e=p.snapshot();G();const t=p.type;return p.restoreFromSnapshot(e),t}class Cd{constructor(t,r){this.type=t,this.contextualKeyword=r}}function ao(){const e=p.snapshot();G();const t=p.type,r=p.contextualKeyword;return p.restoreFromSnapshot(e),new Cd(t,r)}function ec(){return Ju(p.pos)}function Ju(e){f1.lastIndex=e;const t=f1.exec(X);return e+t[0].length}function el(){return X.charCodeAt(ec())}function tl(){if(nl(),p.start=p.pos,p.pos>=X.length){const e=p.tokens;e.length>=2&&e[e.length-1].start>=X.length&&e[e.length-2].start>=X.length&&ye("Unexpectedly reached the end of input."),ve(o.eof);return}Pd(X.charCodeAt(p.pos))}function Pd(e){io[e]||e===I.backslash||e===I.atSign&&X.charCodeAt(p.pos+1)===I.atSign?xd():il(e)}function Rd(){for(;X.charCodeAt(p.pos)!==I.asterisk||X.charCodeAt(p.pos+1)!==I.slash;)if(p.pos++,p.pos>X.length){ye("Unterminated comment",p.pos-2);return}p.pos+=2}function rl(e){let t=X.charCodeAt(p.pos+=e);if(p.pos<X.length)for(;t!==I.lineFeed&&t!==I.carriageReturn&&t!==I.lineSeparator&&t!==I.paragraphSeparator&&++p.pos<X.length;)t=X.charCodeAt(p.pos)}function nl(){for(;p.pos<X.length;){const e=X.charCodeAt(p.pos);switch(e){case I.carriageReturn:X.charCodeAt(p.pos+1)===I.lineFeed&&++p.pos;case I.lineFeed:case I.lineSeparator:case I.paragraphSeparator:++p.pos;break;case I.slash:switch(X.charCodeAt(p.pos+1)){case I.asterisk:p.pos+=2,Rd();break;case I.slash:rl(2);break;default:return}break;default:if(Yu[e])++p.pos;else return}}}function ve(e,t=E.NONE){p.end=p.pos,p.type=e,p.contextualKeyword=t}function Dd(){const e=X.charCodeAt(p.pos+1);if(e>=I.digit0&&e<=I.digit9){al(!0);return}e===I.dot&&X.charCodeAt(p.pos+2)===I.dot?(p.pos+=3,ve(o.ellipsis)):(++p.pos,ve(o.dot))}function Od(){X.charCodeAt(p.pos+1)===I.equalsTo?Ge(o.assign,2):Ge(o.slash,1)}function Ld(e){let t=e===I.asterisk?o.star:o.modulo,r=1,n=X.charCodeAt(p.pos+1);e===I.asterisk&&n===I.asterisk&&(r++,n=X.charCodeAt(p.pos+2),t=o.exponent),n===I.equalsTo&&X.charCodeAt(p.pos+2)!==I.greaterThan&&(r++,t=o.assign),Ge(t,r)}function Fd(e){const t=X.charCodeAt(p.pos+1);if(t===e){X.charCodeAt(p.pos+2)===I.equalsTo?Ge(o.assign,3):Ge(e===I.verticalBar?o.logicalOR:o.logicalAND,2);return}if(e===I.verticalBar){if(t===I.greaterThan){Ge(o.pipeline,2);return}else if(t===I.rightCurlyBrace&&Me){Ge(o.braceBarR,2);return}}if(t===I.equalsTo){Ge(o.assign,2);return}Ge(e===I.verticalBar?o.bitwiseOR:o.bitwiseAND,1)}function Nd(){X.charCodeAt(p.pos+1)===I.equalsTo?Ge(o.assign,2):Ge(o.bitwiseXOR,1)}function Md(e){const t=X.charCodeAt(p.pos+1);if(t===e){Ge(o.preIncDec,2);return}t===I.equalsTo?Ge(o.assign,2):e===I.plusSign?Ge(o.plus,1):Ge(o.minus,1)}function Bd(){const e=X.charCodeAt(p.pos+1);if(e===I.lessThan){if(X.charCodeAt(p.pos+2)===I.equalsTo){Ge(o.assign,3);return}p.isType?Ge(o.lessThan,1):Ge(o.bitShiftL,2);return}e===I.equalsTo?Ge(o.relationalOrEqual,2):Ge(o.lessThan,1)}function sl(){if(p.isType){Ge(o.greaterThan,1);return}const e=X.charCodeAt(p.pos+1);if(e===I.greaterThan){const t=X.charCodeAt(p.pos+2)===I.greaterThan?3:2;if(X.charCodeAt(p.pos+t)===I.equalsTo){Ge(o.assign,t+1);return}Ge(o.bitShiftR,t);return}e===I.equalsTo?Ge(o.relationalOrEqual,2):Ge(o.greaterThan,1)}function ol(){p.type===o.greaterThan&&(p.pos-=1,sl())}function Ud(e){const t=X.charCodeAt(p.pos+1);if(t===I.equalsTo){Ge(o.equality,X.charCodeAt(p.pos+2)===I.equalsTo?3:2);return}if(e===I.equalsTo&&t===I.greaterThan){p.pos+=2,ve(o.arrow);return}Ge(e===I.equalsTo?o.eq:o.bang,1)}function Gd(){const e=X.charCodeAt(p.pos+1),t=X.charCodeAt(p.pos+2);e===I.questionMark&&!(Me&&p.isType)?t===I.equalsTo?Ge(o.assign,3):Ge(o.nullishCoalescing,2):e===I.dot&&!(t>=I.digit0&&t<=I.digit9)?(p.pos+=2,ve(o.questionDot)):(++p.pos,ve(o.question))}function il(e){switch(e){case I.numberSign:++p.pos,ve(o.hash);return;case I.dot:Dd();return;case I.leftParenthesis:++p.pos,ve(o.parenL);return;case I.rightParenthesis:++p.pos,ve(o.parenR);return;case I.semicolon:++p.pos,ve(o.semi);return;case I.comma:++p.pos,ve(o.comma);return;case I.leftSquareBracket:++p.pos,ve(o.bracketL);return;case I.rightSquareBracket:++p.pos,ve(o.bracketR);return;case I.leftCurlyBrace:Me&&X.charCodeAt(p.pos+1)===I.verticalBar?Ge(o.braceBarL,2):(++p.pos,ve(o.braceL));return;case I.rightCurlyBrace:++p.pos,ve(o.braceR);return;case I.colon:X.charCodeAt(p.pos+1)===I.colon?Ge(o.doubleColon,2):(++p.pos,ve(o.colon));return;case I.questionMark:Gd();return;case I.atSign:++p.pos,ve(o.at);return;case I.graveAccent:++p.pos,ve(o.backQuote);return;case I.digit0:{const t=X.charCodeAt(p.pos+1);if(t===I.lowercaseX||t===I.uppercaseX||t===I.lowercaseO||t===I.uppercaseO||t===I.lowercaseB||t===I.uppercaseB){Hd();return}}case I.digit1:case I.digit2:case I.digit3:case I.digit4:case I.digit5:case I.digit6:case I.digit7:case I.digit8:case I.digit9:al(!1);return;case I.quotationMark:case I.apostrophe:qd(e);return;case I.slash:Od();return;case I.percentSign:case I.asterisk:Ld(e);return;case I.verticalBar:case I.ampersand:Fd(e);return;case I.caret:Nd();return;case I.plusSign:case I.dash:Md(e);return;case I.lessThan:Bd();return;case I.greaterThan:sl();return;case I.equalsTo:case I.exclamationMark:Ud(e);return;case I.tilde:Ge(o.tilde,1);return}ye(`Unexpected character '${String.fromCharCode(e)}'`,p.pos)}function Ge(e,t){p.pos+=t,ve(e)}function jd(){const e=p.pos;let t=!1,r=!1;for(;;){if(p.pos>=X.length){ye("Unterminated regular expression",e);return}const n=X.charCodeAt(p.pos);if(t)t=!1;else{if(n===I.leftSquareBracket)r=!0;else if(n===I.rightSquareBracket&&r)r=!1;else if(n===I.slash&&!r)break;t=n===I.backslash}++p.pos}++p.pos,Vd(),ve(o.regexp)}function ca(){for(;;){const e=X.charCodeAt(p.pos);if(e>=I.digit0&&e<=I.digit9||e===I.underscore)p.pos++;else break}}function Hd(){for(p.pos+=2;;){const t=X.charCodeAt(p.pos);if(t>=I.digit0&&t<=I.digit9||t>=I.lowercaseA&&t<=I.lowercaseF||t>=I.uppercaseA&&t<=I.uppercaseF||t===I.underscore)p.pos++;else break}X.charCodeAt(p.pos)===I.lowercaseN?(++p.pos,ve(o.bigint)):ve(o.num)}function al(e){let t=!1,r=!1;e||ca();let n=X.charCodeAt(p.pos);if(n===I.dot&&(++p.pos,ca(),n=X.charCodeAt(p.pos)),(n===I.uppercaseE||n===I.lowercaseE)&&(n=X.charCodeAt(++p.pos),(n===I.plusSign||n===I.dash)&&++p.pos,ca(),n=X.charCodeAt(p.pos)),n===I.lowercaseN?(++p.pos,t=!0):n===I.lowercaseM&&(++p.pos,r=!0),t){ve(o.bigint);return}if(r){ve(o.decimal);return}ve(o.num)}function qd(e){for(p.pos++;;){if(p.pos>=X.length){ye("Unterminated string constant");return}const t=X.charCodeAt(p.pos);if(t===I.backslash)p.pos++;else if(t===e)break;p.pos++}p.pos++,ve(o.string)}function Wd(){for(;;){if(p.pos>=X.length){ye("Unterminated template");return}const e=X.charCodeAt(p.pos);if(e===I.graveAccent||e===I.dollarSign&&X.charCodeAt(p.pos+1)===I.leftCurlyBrace){if(p.pos===p.start&&b(o.template))if(e===I.dollarSign){p.pos+=2,ve(o.dollarBraceL);return}else{++p.pos,ve(o.backQuote);return}ve(o.template);return}e===I.backslash&&p.pos++,p.pos++}}function Vd(){for(;p.pos<X.length;){const e=X.charCodeAt(p.pos);if(rr[e])p.pos++;else if(e===I.backslash){if(p.pos+=2,X.charCodeAt(p.pos)===I.leftCurlyBrace){for(;p.pos<X.length&&X.charCodeAt(p.pos)!==I.rightCurlyBrace;)p.pos++;p.pos++}}else break}}function zs(e,t=e.currentIndex()){let r=t+1;if(Mo(e,r)){const n=e.identifierNameAtIndex(t);return{isType:!1,leftName:n,rightName:n,endIndex:r}}if(r++,Mo(e,r))return{isType:!0,leftName:null,rightName:null,endIndex:r};if(r++,Mo(e,r))return{isType:!1,leftName:e.identifierNameAtIndex(t),rightName:e.identifierNameAtIndex(t+2),endIndex:r};if(r++,Mo(e,r))return{isType:!0,leftName:null,rightName:null,endIndex:r};throw new Error(`Unexpected import/export specifier at ${t}`)}function Mo(e,t){const r=e.tokens[t];return r.type===o.braceR||r.type===o.comma}const zd=new Map([["quot",'"'],["amp","&"],["apos","'"],["lt","<"],["gt",">"],["nbsp",""],["iexcl",""],["cent",""],["pound",""],["curren",""],["yen",""],["brvbar",""],["sect",""],["uml",""],["copy",""],["ordf",""],["laquo",""],["not",""],["shy",""],["reg",""],["macr",""],["deg",""],["plusmn",""],["sup2",""],["sup3",""],["acute",""],["micro",""],["para",""],["middot",""],["cedil",""],["sup1",""],["ordm",""],["raquo",""],["frac14",""],["frac12",""],["frac34",""],["iquest",""],["Agrave",""],["Aacute",""],["Acirc",""],["Atilde",""],["Auml",""],["Aring",""],["AElig",""],["Ccedil",""],["Egrave",""],["Eacute",""],["Ecirc",""],["Euml",""],["Igrave",""],["Iacute",""],["Icirc",""],["Iuml",""],["ETH",""],["Ntilde",""],["Ograve",""],["Oacute",""],["Ocirc",""],["Otilde",""],["Ouml",""],["times",""],["Oslash",""],["Ugrave",""],["Uacute",""],["Ucirc",""],["Uuml",""],["Yacute",""],["THORN",""],["szlig",""],["agrave",""],["aacute",""],["acirc",""],["atilde",""],["auml",""],["aring",""],["aelig",""],["ccedil",""],["egrave",""],["eacute",""],["ecirc",""],["euml",""],["igrave",""],["iacute",""],["icirc",""],["iuml",""],["eth",""],["ntilde",""],["ograve",""],["oacute",""],["ocirc",""],["otilde",""],["ouml",""],["divide",""],["oslash",""],["ugrave",""],["uacute",""],["ucirc",""],["uuml",""],["yacute",""],["thorn",""],["yuml",""],["OElig",""],["oelig",""],["Scaron",""],["scaron",""],["Yuml",""],["fnof",""],["circ",""],["tilde",""],["Alpha",""],["Beta",""],["Gamma",""],["Delta",""],["Epsilon",""],["Zeta",""],["Eta",""],["Theta",""],["Iota",""],["Kappa",""],["Lambda",""],["Mu",""],["Nu",""],["Xi",""],["Omicron",""],["Pi",""],["Rho",""],["Sigma",""],["Tau",""],["Upsilon",""],["Phi",""],["Chi",""],["Psi",""],["Omega",""],["alpha",""],["beta",""],["gamma",""],["delta",""],["epsilon",""],["zeta",""],["eta",""],["theta",""],["iota",""],["kappa",""],["lambda",""],["mu",""],["nu",""],["xi",""],["omicron",""],["pi",""],["rho",""],["sigmaf",""],["sigma",""],["tau",""],["upsilon",""],["phi",""],["chi",""],["psi",""],["omega",""],["thetasym",""],["upsih",""],["piv",""],["ensp",""],["emsp",""],["thinsp",""],["zwnj",""],["zwj",""],["lrm",""],["rlm",""],["ndash",""],["mdash",""],["lsquo",""],["rsquo",""],["sbquo",""],["ldquo",""],["rdquo",""],["bdquo",""],["dagger",""],["Dagger",""],["bull",""],["hellip",""],["permil",""],["prime",""],["Prime",""],["lsaquo",""],["rsaquo",""],["oline",""],["frasl",""],["euro",""],["image",""],["weierp",""],["real",""],["trade",""],["alefsym",""],["larr",""],["uarr",""],["rarr",""],["darr",""],["harr",""],["crarr",""],["lArr",""],["uArr",""],["rArr",""],["dArr",""],["hArr",""],["forall",""],["part",""],["exist",""],["empty",""],["nabla",""],["isin",""],["notin",""],["ni",""],["prod",""],["sum",""],["minus",""],["lowast",""],["radic",""],["prop",""],["infin",""],["ang",""],["and",""],["or",""],["cap",""],["cup",""],["int",""],["there4",""],["sim",""],["cong",""],["asymp",""],["ne",""],["equiv",""],["le",""],["ge",""],["sub",""],["sup",""],["nsub",""],["sube",""],["supe",""],["oplus",""],["otimes",""],["perp",""],["sdot",""],["lceil",""],["rceil",""],["lfloor",""],["rfloor",""],["lang",""],["rang",""],["loz",""],["spades",""],["clubs",""],["hearts",""],["diams",""]]);function cl(e){const[t,r]=p1(e.jsxPragma||"React.createElement"),[n,s]=p1(e.jsxFragmentPragma||"React.Fragment");return{base:t,suffix:r,fragmentBase:n,fragmentSuffix:s}}function p1(e){let t=e.indexOf(".");return t===-1&&(t=e.length),[e.slice(0,t),e.slice(t)]}class or{getPrefixCode(){return""}getHoistedCode(){return""}getSuffixCode(){return""}}class fn extends or{__init(){this.lastLineNumber=1}__init2(){this.lastIndex=0}__init3(){this.filenameVarName=null}__init4(){this.esmAutomaticImportNameResolutions={}}__init5(){this.cjsAutomaticModuleNameResolutions={}}constructor(t,r,n,s,i){super(),this.rootTransformer=t,this.tokens=r,this.importProcessor=n,this.nameManager=s,this.options=i,fn.prototype.__init.call(this),fn.prototype.__init2.call(this),fn.prototype.__init3.call(this),fn.prototype.__init4.call(this),fn.prototype.__init5.call(this),this.jsxPragmaInfo=cl(i),this.isAutomaticRuntime=i.jsxRuntime==="automatic",this.jsxImportSource=i.jsxImportSource||"react"}process(){return this.tokens.matches1(o.jsxTagStart)?(this.processJSXTag(),!0):!1}getPrefixCode(){let t="";if(this.filenameVarName&&(t+=`const ${this.filenameVarName} = ${JSON.stringify(this.options.filePath||"")};`),this.isAutomaticRuntime)if(this.importProcessor)for(const[r,n]of Object.entries(this.cjsAutomaticModuleNameResolutions))t+=`var ${n} = require("${r}");`;else{const{createElement:r,...n}=this.esmAutomaticImportNameResolutions;r&&(t+=`import {createElement as ${r}} from "${this.jsxImportSource}";`);const s=Object.entries(n).map(([i,c])=>`${i} as ${c}`).join(", ");if(s){const i=this.jsxImportSource+(this.options.production?"/jsx-runtime":"/jsx-dev-runtime");t+=`import {${s}} from "${i}";`}}return t}processJSXTag(){const{jsxRole:t,start:r}=this.tokens.currentToken(),n=this.options.production?null:this.getElementLocationCode(r);this.isAutomaticRuntime&&t!==tr.KeyAfterPropSpread?this.transformTagToJSXFunc(n,t):this.transformTagToCreateElement(n)}getElementLocationCode(t){return`lineNumber: ${this.getLineNumberForIndex(t)}`}getLineNumberForIndex(t){const r=this.tokens.code;for(;this.lastIndex<t&&this.lastIndex<r.length;)r[this.lastIndex]===`
`&&this.lastLineNumber++,this.lastIndex++;return this.lastLineNumber}transformTagToJSXFunc(t,r){const n=r===tr.StaticChildren;this.tokens.replaceToken(this.getJSXFuncInvocationCode(n));let s=null;if(this.tokens.matches1(o.jsxTagEnd))this.tokens.replaceToken(`${this.getFragmentCode()}, {`),this.processAutomaticChildrenAndEndProps(r);else{if(this.processTagIntro(),this.tokens.appendCode(", {"),s=this.processProps(!0),this.tokens.matches2(o.slash,o.jsxTagEnd))this.tokens.appendCode("}");else if(this.tokens.matches1(o.jsxTagEnd))this.tokens.removeToken(),this.processAutomaticChildrenAndEndProps(r);else throw new Error("Expected either /> or > at the end of the tag.");s&&this.tokens.appendCode(`, ${s}`)}for(this.options.production||(s===null&&this.tokens.appendCode(", void 0"),this.tokens.appendCode(`, ${n}, ${this.getDevSource(t)}, this`)),this.tokens.removeInitialToken();!this.tokens.matches1(o.jsxTagEnd);)this.tokens.removeToken();this.tokens.replaceToken(")")}transformTagToCreateElement(t){if(this.tokens.replaceToken(this.getCreateElementInvocationCode()),this.tokens.matches1(o.jsxTagEnd))this.tokens.replaceToken(`${this.getFragmentCode()}, null`),this.processChildren(!0);else if(this.processTagIntro(),this.processPropsObjectWithDevInfo(t),!this.tokens.matches2(o.slash,o.jsxTagEnd))if(this.tokens.matches1(o.jsxTagEnd))this.tokens.removeToken(),this.processChildren(!0);else throw new Error("Expected either /> or > at the end of the tag.");for(this.tokens.removeInitialToken();!this.tokens.matches1(o.jsxTagEnd);)this.tokens.removeToken();this.tokens.replaceToken(")")}getJSXFuncInvocationCode(t){return this.options.production?t?this.claimAutoImportedFuncInvocation("jsxs","/jsx-runtime"):this.claimAutoImportedFuncInvocation("jsx","/jsx-runtime"):this.claimAutoImportedFuncInvocation("jsxDEV","/jsx-dev-runtime")}getCreateElementInvocationCode(){if(this.isAutomaticRuntime)return this.claimAutoImportedFuncInvocation("createElement","");{const{jsxPragmaInfo:t}=this;return`${this.importProcessor&&this.importProcessor.getIdentifierReplacement(t.base)||t.base}${t.suffix}(`}}getFragmentCode(){if(this.isAutomaticRuntime)return this.claimAutoImportedName("Fragment",this.options.production?"/jsx-runtime":"/jsx-dev-runtime");{const{jsxPragmaInfo:t}=this;return(this.importProcessor&&this.importProcessor.getIdentifierReplacement(t.fragmentBase)||t.fragmentBase)+t.fragmentSuffix}}claimAutoImportedFuncInvocation(t,r){const n=this.claimAutoImportedName(t,r);return this.importProcessor?`${n}.call(void 0, `:`${n}(`}claimAutoImportedName(t,r){if(this.importProcessor){const n=this.jsxImportSource+r;return this.cjsAutomaticModuleNameResolutions[n]||(this.cjsAutomaticModuleNameResolutions[n]=this.importProcessor.getFreeIdentifierForPath(n)),`${this.cjsAutomaticModuleNameResolutions[n]}.${t}`}else return this.esmAutomaticImportNameResolutions[t]||(this.esmAutomaticImportNameResolutions[t]=this.nameManager.claimFreeName(`_${t}`)),this.esmAutomaticImportNameResolutions[t]}processTagIntro(){let t=this.tokens.currentIndex()+1;for(;this.tokens.tokens[t].isType||!this.tokens.matches2AtIndex(t-1,o.jsxName,o.jsxName)&&!this.tokens.matches2AtIndex(t-1,o.greaterThan,o.jsxName)&&!this.tokens.matches1AtIndex(t,o.braceL)&&!this.tokens.matches1AtIndex(t,o.jsxTagEnd)&&!this.tokens.matches2AtIndex(t,o.slash,o.jsxTagEnd);)t++;if(t===this.tokens.currentIndex()+1){const r=this.tokens.identifierName();ul(r)&&this.tokens.replaceToken(`'${r}'`)}for(;this.tokens.currentIndex()<t;)this.rootTransformer.processToken()}processPropsObjectWithDevInfo(t){const r=this.options.production?"":`__self: this, __source: ${this.getDevSource(t)}`;if(!this.tokens.matches1(o.jsxName)&&!this.tokens.matches1(o.braceL)){r?this.tokens.appendCode(`, {${r}}`):this.tokens.appendCode(", null");return}this.tokens.appendCode(", {"),this.processProps(!1),r?this.tokens.appendCode(` ${r}}`):this.tokens.appendCode("}")}processProps(t){let r=null;for(;;){if(this.tokens.matches2(o.jsxName,o.eq)){const n=this.tokens.identifierName();if(t&&n==="key"){r!==null&&this.tokens.appendCode(r.replace(/[^\n]/g,"")),this.tokens.removeToken(),this.tokens.removeToken();const s=this.tokens.snapshot();this.processPropValue(),r=this.tokens.dangerouslyGetAndRemoveCodeSinceSnapshot(s);continue}else this.processPropName(n),this.tokens.replaceToken(": "),this.processPropValue()}else if(this.tokens.matches1(o.jsxName)){const n=this.tokens.identifierName();this.processPropName(n),this.tokens.appendCode(": true")}else if(this.tokens.matches1(o.braceL))this.tokens.replaceToken(""),this.rootTransformer.processBalancedCode(),this.tokens.replaceToken("");else break;this.tokens.appendCode(",")}return r}processPropName(t){t.includes("-")?this.tokens.replaceToken(`'${t}'`):this.tokens.copyToken()}processPropValue(){this.tokens.matches1(o.braceL)?(this.tokens.replaceToken(""),this.rootTransformer.processBalancedCode(),this.tokens.replaceToken("")):this.tokens.matches1(o.jsxTagStart)?this.processJSXTag():this.processStringPropValue()}processStringPropValue(){const t=this.tokens.currentToken(),r=this.tokens.code.slice(t.start+1,t.end-1),n=d1(r),s=Xd(r);this.tokens.replaceToken(s+n)}processAutomaticChildrenAndEndProps(t){t===tr.StaticChildren?(this.tokens.appendCode(" children: ["),this.processChildren(!1),this.tokens.appendCode("]}")):(t===tr.OneChild&&this.tokens.appendCode(" children: "),this.processChildren(!1),this.tokens.appendCode("}"))}processChildren(t){let r=t;for(;;){if(this.tokens.matches2(o.jsxTagStart,o.slash))return;let n=!1;if(this.tokens.matches1(o.braceL))this.tokens.matches2(o.braceL,o.braceR)?(this.tokens.replaceToken(""),this.tokens.replaceToken("")):(this.tokens.replaceToken(r?", ":""),this.rootTransformer.processBalancedCode(),this.tokens.replaceToken(""),n=!0);else if(this.tokens.matches1(o.jsxTagStart))this.tokens.appendCode(r?", ":""),this.processJSXTag(),n=!0;else if(this.tokens.matches1(o.jsxText)||this.tokens.matches1(o.jsxEmptyText))n=this.processChildTextElement(r);else throw new Error("Unexpected token when processing JSX children.");n&&(r=!0)}}processChildTextElement(t){const r=this.tokens.currentToken(),n=this.tokens.code.slice(r.start,r.end),s=d1(n),i=$d(n);return i==='""'?(this.tokens.replaceToken(s),!1):(this.tokens.replaceToken(`${t?", ":""}${i}${s}`),!0)}getDevSource(t){return`{fileName: ${this.getFilenameVarName()}, ${t}}`}getFilenameVarName(){return this.filenameVarName||(this.filenameVarName=this.nameManager.claimFreeName("_jsxFileName")),this.filenameVarName}}function ul(e){const t=e.charCodeAt(0);return t>=I.lowercaseA&&t<=I.lowercaseZ}function $d(e){let t="",r="",n=!1,s=!1;for(let i=0;i<e.length;i++){const c=e[i];if(c===" "||c==="	"||c==="\r")n||(r+=c);else if(c===`
`)r="",n=!0;else{if(s&&n&&(t+=" "),t+=r,r="",c==="&"){const{entity:l,newI:f}=ll(e,i+1);i=f-1,t+=l}else t+=c;s=!0,n=!1}}return n||(t+=r),JSON.stringify(t)}function d1(e){let t=0,r=0;for(const n of e)n===`
`?(t++,r=0):n===" "&&r++;return`
`.repeat(t)+" ".repeat(r)}function Xd(e){let t="";for(let r=0;r<e.length;r++){const n=e[r];if(n===`
`)if(/\s/.test(e[r+1]))for(t+=" ";r<e.length&&/\s/.test(e[r+1]);)r++;else t+=`
`;else if(n==="&"){const{entity:s,newI:i}=ll(e,r+1);t+=s,r=i-1}else t+=n}return JSON.stringify(t)}function ll(e,t){let r="",n=0,s,i=t;if(e[i]==="#"){let c=10;i++;let l;if(e[i]==="x")for(c=16,i++,l=i;i<e.length&&Zd(e.charCodeAt(i));)i++;else for(l=i;i<e.length&&Yd(e.charCodeAt(i));)i++;if(e[i]===";"){const f=e.slice(l,i);f&&(i++,s=String.fromCodePoint(parseInt(f,c)))}}else for(;i<e.length&&n++<10;){const c=e[i];if(i++,c===";"){s=zd.get(r);break}r+=c}return s?{entity:s,newI:i}:{entity:"&",newI:t}}function Yd(e){return e>=I.digit0&&e<=I.digit9}function Zd(e){return e>=I.digit0&&e<=I.digit9||e>=I.lowercaseA&&e<=I.lowercaseF||e>=I.uppercaseA&&e<=I.uppercaseF}function fl(e,t){const r=cl(t),n=new Set;for(let s=0;s<e.tokens.length;s++){const i=e.tokens[s];if(i.type===o.name&&!i.isType&&(i.identifierRole===le.Access||i.identifierRole===le.ObjectShorthand||i.identifierRole===le.ExportAccess)&&!i.shadowsGlobal&&n.add(e.identifierNameForToken(i)),i.type===o.jsxTagStart&&n.add(r.base),i.type===o.jsxTagStart&&s+1<e.tokens.length&&e.tokens[s+1].type===o.jsxTagEnd&&(n.add(r.base),n.add(r.fragmentBase)),i.type===o.jsxName&&i.identifierRole===le.Access){const c=e.identifierNameForToken(i);(!ul(c)||e.tokens[s+1].type===o.dot)&&n.add(e.identifierNameForToken(i))}}return n}class hn{__init(){this.nonTypeIdentifiers=new Set}__init2(){this.importInfoByPath=new Map}__init3(){this.importsToReplace=new Map}__init4(){this.identifierReplacements=new Map}__init5(){this.exportBindingsByLocalName=new Map}constructor(t,r,n,s,i,c,l){this.nameManager=t,this.tokens=r,this.enableLegacyTypeScriptModuleInterop=n,this.options=s,this.isTypeScriptTransformEnabled=i,this.keepUnusedImports=c,this.helperManager=l,hn.prototype.__init.call(this),hn.prototype.__init2.call(this),hn.prototype.__init3.call(this),hn.prototype.__init4.call(this),hn.prototype.__init5.call(this)}preprocessTokens(){for(let t=0;t<this.tokens.tokens.length;t++)this.tokens.matches1AtIndex(t,o._import)&&!this.tokens.matches3AtIndex(t,o._import,o.name,o.eq)&&this.preprocessImportAtIndex(t),this.tokens.matches1AtIndex(t,o._export)&&!this.tokens.matches2AtIndex(t,o._export,o.eq)&&this.preprocessExportAtIndex(t);this.generateImportReplacements()}pruneTypeOnlyImports(){this.nonTypeIdentifiers=fl(this.tokens,this.options);for(const[t,r]of this.importInfoByPath.entries()){if(r.hasBareImport||r.hasStarExport||r.exportStarNames.length>0||r.namedExports.length>0)continue;[...r.defaultNames,...r.wildcardNames,...r.namedImports.map(({localName:s})=>s)].every(s=>this.shouldAutomaticallyElideImportedName(s))&&this.importsToReplace.set(t,"")}}shouldAutomaticallyElideImportedName(t){return this.isTypeScriptTransformEnabled&&!this.keepUnusedImports&&!this.nonTypeIdentifiers.has(t)}generateImportReplacements(){for(const[t,r]of this.importInfoByPath.entries()){const{defaultNames:n,wildcardNames:s,namedImports:i,namedExports:c,exportStarNames:l,hasStarExport:f}=r;if(n.length===0&&s.length===0&&i.length===0&&c.length===0&&l.length===0&&!f){this.importsToReplace.set(t,`require('${t}');`);continue}const d=this.getFreeIdentifierForPath(t);let g;this.enableLegacyTypeScriptModuleInterop?g=d:g=s.length>0?s[0]:this.getFreeIdentifierForPath(t);let w=`var ${d} = require('${t}');`;if(s.length>0)for(const k of s){const x=this.enableLegacyTypeScriptModuleInterop?d:`${this.helperManager.getHelperName("interopRequireWildcard")}(${d})`;w+=` var ${k} = ${x};`}else l.length>0&&g!==d?w+=` var ${g} = ${this.helperManager.getHelperName("interopRequireWildcard")}(${d});`:n.length>0&&g!==d&&(w+=` var ${g} = ${this.helperManager.getHelperName("interopRequireDefault")}(${d});`);for(const{importedName:k,localName:x}of c)w+=` ${this.helperManager.getHelperName("createNamedExportFrom")}(${d}, '${x}', '${k}');`;for(const k of l)w+=` exports.${k} = ${g};`;f&&(w+=` ${this.helperManager.getHelperName("createStarExport")}(${d});`),this.importsToReplace.set(t,w);for(const k of n)this.identifierReplacements.set(k,`${g}.default`);for(const{importedName:k,localName:x}of i)this.identifierReplacements.set(x,`${d}.${k}`)}}getFreeIdentifierForPath(t){const r=t.split("/"),s=r[r.length-1].replace(/\W/g,"");return this.nameManager.claimFreeName(`_${s}`)}preprocessImportAtIndex(t){const r=[],n=[],s=[];if(t++,(this.tokens.matchesContextualAtIndex(t,E._type)||this.tokens.matches1AtIndex(t,o._typeof))&&!this.tokens.matches1AtIndex(t+1,o.comma)&&!this.tokens.matchesContextualAtIndex(t+1,E._from)||this.tokens.matches1AtIndex(t,o.parenL))return;if(this.tokens.matches1AtIndex(t,o.name)&&(r.push(this.tokens.identifierNameAtIndex(t)),t++,this.tokens.matches1AtIndex(t,o.comma)&&t++),this.tokens.matches1AtIndex(t,o.star)&&(t+=2,n.push(this.tokens.identifierNameAtIndex(t)),t++),this.tokens.matches1AtIndex(t,o.braceL)){const l=this.getNamedImports(t+1);t=l.newIndex;for(const f of l.namedImports)f.importedName==="default"?r.push(f.localName):s.push(f)}if(this.tokens.matchesContextualAtIndex(t,E._from)&&t++,!this.tokens.matches1AtIndex(t,o.string))throw new Error("Expected string token at the end of import statement.");const i=this.tokens.stringValueAtIndex(t),c=this.getImportInfo(i);c.defaultNames.push(...r),c.wildcardNames.push(...n),c.namedImports.push(...s),r.length===0&&n.length===0&&s.length===0&&(c.hasBareImport=!0)}preprocessExportAtIndex(t){if(this.tokens.matches2AtIndex(t,o._export,o._var)||this.tokens.matches2AtIndex(t,o._export,o._let)||this.tokens.matches2AtIndex(t,o._export,o._const))this.preprocessVarExportAtIndex(t);else if(this.tokens.matches2AtIndex(t,o._export,o._function)||this.tokens.matches2AtIndex(t,o._export,o._class)){const r=this.tokens.identifierNameAtIndex(t+2);this.addExportBinding(r,r)}else if(this.tokens.matches3AtIndex(t,o._export,o.name,o._function)){const r=this.tokens.identifierNameAtIndex(t+3);this.addExportBinding(r,r)}else this.tokens.matches2AtIndex(t,o._export,o.braceL)?this.preprocessNamedExportAtIndex(t):this.tokens.matches2AtIndex(t,o._export,o.star)&&this.preprocessExportStarAtIndex(t)}preprocessVarExportAtIndex(t){let r=0;for(let n=t+2;;n++)if(this.tokens.matches1AtIndex(n,o.braceL)||this.tokens.matches1AtIndex(n,o.dollarBraceL)||this.tokens.matches1AtIndex(n,o.bracketL))r++;else if(this.tokens.matches1AtIndex(n,o.braceR)||this.tokens.matches1AtIndex(n,o.bracketR))r--;else{if(r===0&&!this.tokens.matches1AtIndex(n,o.name))break;if(this.tokens.matches1AtIndex(1,o.eq)){const s=this.tokens.currentToken().rhsEndIndex;if(s==null)throw new Error("Expected = token with an end index.");n=s-1}else{const s=this.tokens.tokens[n];if(Zu(s)){const i=this.tokens.identifierNameAtIndex(n);this.identifierReplacements.set(i,`exports.${i}`)}}}}preprocessNamedExportAtIndex(t){t+=2;const{newIndex:r,namedImports:n}=this.getNamedImports(t);if(t=r,this.tokens.matchesContextualAtIndex(t,E._from))t++;else{for(const{importedName:c,localName:l}of n)this.addExportBinding(c,l);return}if(!this.tokens.matches1AtIndex(t,o.string))throw new Error("Expected string token at the end of import statement.");const s=this.tokens.stringValueAtIndex(t);this.getImportInfo(s).namedExports.push(...n)}preprocessExportStarAtIndex(t){let r=null;if(this.tokens.matches3AtIndex(t,o._export,o.star,o._as)?(t+=3,r=this.tokens.identifierNameAtIndex(t),t+=2):t+=3,!this.tokens.matches1AtIndex(t,o.string))throw new Error("Expected string token at the end of star export statement.");const n=this.tokens.stringValueAtIndex(t),s=this.getImportInfo(n);r!==null?s.exportStarNames.push(r):s.hasStarExport=!0}getNamedImports(t){const r=[];for(;;){if(this.tokens.matches1AtIndex(t,o.braceR)){t++;break}const n=zs(this.tokens,t);if(t=n.endIndex,n.isType||r.push({importedName:n.leftName,localName:n.rightName}),this.tokens.matches2AtIndex(t,o.comma,o.braceR)){t+=2;break}else if(this.tokens.matches1AtIndex(t,o.braceR)){t++;break}else if(this.tokens.matches1AtIndex(t,o.comma))t++;else throw new Error(`Unexpected token: ${JSON.stringify(this.tokens.tokens[t])}`)}return{newIndex:t,namedImports:r}}getImportInfo(t){const r=this.importInfoByPath.get(t);if(r)return r;const n={defaultNames:[],wildcardNames:[],namedImports:[],namedExports:[],hasBareImport:!1,exportStarNames:[],hasStarExport:!1};return this.importInfoByPath.set(t,n),n}addExportBinding(t,r){this.exportBindingsByLocalName.has(t)||this.exportBindingsByLocalName.set(t,[]),this.exportBindingsByLocalName.get(t).push(r)}claimImportCode(t){const r=this.importsToReplace.get(t);return this.importsToReplace.set(t,""),r||""}getIdentifierReplacement(t){return this.identifierReplacements.get(t)||null}resolveExportBinding(t){const r=this.exportBindingsByLocalName.get(t);return!r||r.length===0?null:r.map(n=>`exports.${n}`).join(" = ")}getGlobalNames(){return new Set([...this.identifierReplacements.keys(),...this.exportBindingsByLocalName.keys()])}}var Kd=44,Qd=59,m1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hl=new Uint8Array(64),Jd=new Uint8Array(128);for(let e=0;e<m1.length;e++){const t=m1.charCodeAt(e);hl[e]=t,Jd[t]=e}function Rs(e,t,r){let n=t-r;n=n<0?-n<<1|1:n<<1;do{let s=n&31;n>>>=5,n>0&&(s|=32),e.write(hl[s])}while(n>0);return t}var g1=1024*16,v1=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString()}}:{decode(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}},em=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array(g1)}write(e){const{buffer:t}=this;t[this.pos++]=e,this.pos===g1&&(this.out+=v1.decode(t),this.pos=0)}flush(){const{buffer:e,out:t,pos:r}=this;return r>0?t+v1.decode(e.subarray(0,r)):t}};function tm(e){const t=new em;let r=0,n=0,s=0,i=0;for(let c=0;c<e.length;c++){const l=e[c];if(c>0&&t.write(Qd),l.length===0)continue;let f=0;for(let d=0;d<l.length;d++){const g=l[d];d>0&&t.write(Kd),f=Rs(t,g[0],f),g.length!==1&&(r=Rs(t,g[1],r),n=Rs(t,g[2],n),s=Rs(t,g[3],s),g.length!==4&&(i=Rs(t,g[4],i)))}}return t.flush()}var Vo={exports:{}},rm=Vo.exports,y1;function nm(){return y1||(y1=1,(function(e,t){(function(r,n){e.exports=n()})(rm,(function(){const r=/^[\w+.-]+:\/\//,n=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,s=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function i(F){return r.test(F)}function c(F){return F.startsWith("//")}function l(F){return F.startsWith("/")}function f(F){return F.startsWith("file:")}function d(F){return/^[.?#]/.test(F)}function g(F){const O=n.exec(F);return k(O[1],O[2]||"",O[3],O[4]||"",O[5]||"/",O[6]||"",O[7]||"")}function w(F){const O=s.exec(F),V=O[2];return k("file:","",O[1]||"","",l(V)?V:"/"+V,O[3]||"",O[4]||"")}function k(F,O,V,te,ce,ae,he){return{scheme:F,user:O,host:V,port:te,path:ce,query:ae,hash:he,type:7}}function x(F){if(c(F)){const V=g("http:"+F);return V.scheme="",V.type=6,V}if(l(F)){const V=g("http://foo.com"+F);return V.scheme="",V.host="",V.type=5,V}if(f(F))return w(F);if(i(F))return g(F);const O=g("http://foo.com/"+F);return O.scheme="",O.host="",O.type=F?F.startsWith("?")?3:F.startsWith("#")?2:4:1,O}function A(F){if(F.endsWith("/.."))return F;const O=F.lastIndexOf("/");return F.slice(0,O+1)}function P(F,O){R(O,O.type),F.path==="/"?F.path=O.path:F.path=A(O.path)+F.path}function R(F,O){const V=O<=4,te=F.path.split("/");let ce=1,ae=0,he=!1;for(let De=1;De<te.length;De++){const Ae=te[De];if(!Ae){he=!0;continue}if(he=!1,Ae!=="."){if(Ae===".."){ae?(he=!0,ae--,ce--):V&&(te[ce++]=Ae);continue}te[ce++]=Ae,ae++}}let Se="";for(let De=1;De<ce;De++)Se+="/"+te[De];(!Se||he&&!Se.endsWith("/.."))&&(Se+="/"),F.path=Se}function L(F,O){if(!F&&!O)return"";const V=x(F);let te=V.type;if(O&&te!==7){const ae=x(O),he=ae.type;switch(te){case 1:V.hash=ae.hash;case 2:V.query=ae.query;case 3:case 4:P(V,ae);case 5:V.user=ae.user,V.host=ae.host,V.port=ae.port;case 6:V.scheme=ae.scheme}he>te&&(te=he)}R(V,te);const ce=V.query+V.hash;switch(te){case 2:case 3:return ce;case 4:{const ae=V.path.slice(1);return ae?d(O||F)&&!d(ae)?"./"+ae+ce:ae+ce:ce||"."}case 5:return V.path+ce;default:return V.scheme+"//"+V.user+V.host+V.port+V.path+ce}}return L}))})(Vo)),Vo.exports}nm();var ua=class{constructor(){this._indexes={__proto__:null},this.array=[]}};function sm(e,t){return e._indexes[t]}function om(e,t){const r=sm(e,t);if(r!==void 0)return r;const{array:n,_indexes:s}=e,i=n.push(t);return s[t]=i-1}var im=0,am=1,cm=2,um=3,lm=4,pl=-1,fm=class{constructor({file:e,sourceRoot:t}={}){this._names=new ua,this._sources=new ua,this._sourcesContent=[],this._mappings=[],this.file=e,this.sourceRoot=t,this._ignoreList=new ua}};var la=(e,t,r,n,s,i,c,l)=>dm(!0,e,t,r,n,s,i);function hm(e){const{_mappings:t,_sources:r,_sourcesContent:n,_names:s,_ignoreList:i}=e;return vm(t),{version:3,file:e.file||void 0,names:s.array,sourceRoot:e.sourceRoot||void 0,sources:r.array,sourcesContent:n,mappings:t,ignoreList:i.array}}function pm(e){const t=hm(e);return Object.assign({},t,{mappings:tm(t.mappings)})}function dm(e,t,r,n,s,i,c,l,f){const{_mappings:d,_sources:g,_sourcesContent:w,_names:k}=t,x=mm(d,r),A=gm(x,n);if(!s)return ym(x,A)?void 0:k1(x,A,[n]);const P=om(g,s),R=pl;if(P===w.length&&(w[P]=null),!km(x,A,P,i,c,R))return k1(x,A,[n,P,i,c])}function mm(e,t){for(let r=e.length;r<=t;r++)e[r]=[];return e[t]}function gm(e,t){let r=e.length;for(let n=r-1;n>=0;r=n--){const s=e[n];if(t>=s[im])break}return r}function k1(e,t,r){for(let n=e.length;n>t;n--)e[n]=e[n-1];e[t]=r}function vm(e){const{length:t}=e;let r=t;for(let n=r-1;n>=0&&!(e[n].length>0);r=n,n--);r<t&&(e.length=r)}function ym(e,t){return t===0?!0:e[t-1].length===1}function km(e,t,r,n,s,i){if(t===0)return!1;const c=e[t-1];return c.length===1?!1:r===c[am]&&n===c[cm]&&s===c[um]&&i===(c.length===5?c[lm]:pl)}function wm({code:e,mappings:t},r,n,s,i){const c=_m(s,i),l=new fm({file:n.compiledFilename});let f=0,d=t[0];for(;d===void 0&&f<t.length-1;)f++,d=t[f];let g=0,w=0;d!==w&&la(l,g,0,r,g,0);for(let P=0;P<e.length;P++){if(P===d){const R=d-w,L=c[f];for(la(l,g,R,r,g,L);(d===P||d===void 0)&&f<t.length-1;)f++,d=t[f]}e.charCodeAt(P)===I.lineFeed&&(g++,w=P+1,d!==w&&la(l,g,0,r,g,0))}const{sourceRoot:k,sourcesContent:x,...A}=pm(l);return A}function _m(e,t){const r=new Array(t.length);let n=0,s=t[n].start,i=0;for(let c=0;c<e.length;c++)c===s&&(r[n]=s-i,n++,s=t[n].start),e.charCodeAt(c)===I.lineFeed&&(i=c+1);return r}const bm={require:`
    import {createRequire as CREATE_REQUIRE_NAME} from "module";
    const require = CREATE_REQUIRE_NAME(import.meta.url);
  `,interopRequireWildcard:`
    function interopRequireWildcard(obj) {
      if (obj && obj.__esModule) {
        return obj;
      } else {
        var newObj = {};
        if (obj != null) {
          for (var key in obj) {
            if (Object.prototype.hasOwnProperty.call(obj, key)) {
              newObj[key] = obj[key];
            }
          }
        }
        newObj.default = obj;
        return newObj;
      }
    }
  `,interopRequireDefault:`
    function interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
  `,createNamedExportFrom:`
    function createNamedExportFrom(obj, localName, importedName) {
      Object.defineProperty(exports, localName, {enumerable: true, configurable: true, get: () => obj[importedName]});
    }
  `,createStarExport:`
    function createStarExport(obj) {
      Object.keys(obj)
        .filter((key) => key !== "default" && key !== "__esModule")
        .forEach((key) => {
          if (exports.hasOwnProperty(key)) {
            return;
          }
          Object.defineProperty(exports, key, {enumerable: true, configurable: true, get: () => obj[key]});
        });
    }
  `,nullishCoalesce:`
    function nullishCoalesce(lhs, rhsFn) {
      if (lhs != null) {
        return lhs;
      } else {
        return rhsFn();
      }
    }
  `,asyncNullishCoalesce:`
    async function asyncNullishCoalesce(lhs, rhsFn) {
      if (lhs != null) {
        return lhs;
      } else {
        return await rhsFn();
      }
    }
  `,optionalChain:`
    function optionalChain(ops) {
      let lastAccessLHS = undefined;
      let value = ops[0];
      let i = 1;
      while (i < ops.length) {
        const op = ops[i];
        const fn = ops[i + 1];
        i += 2;
        if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {
          return undefined;
        }
        if (op === 'access' || op === 'optionalAccess') {
          lastAccessLHS = value;
          value = fn(value);
        } else if (op === 'call' || op === 'optionalCall') {
          value = fn((...args) => value.call(lastAccessLHS, ...args));
          lastAccessLHS = undefined;
        }
      }
      return value;
    }
  `,asyncOptionalChain:`
    async function asyncOptionalChain(ops) {
      let lastAccessLHS = undefined;
      let value = ops[0];
      let i = 1;
      while (i < ops.length) {
        const op = ops[i];
        const fn = ops[i + 1];
        i += 2;
        if ((op === 'optionalAccess' || op === 'optionalCall') && value == null) {
          return undefined;
        }
        if (op === 'access' || op === 'optionalAccess') {
          lastAccessLHS = value;
          value = await fn(value);
        } else if (op === 'call' || op === 'optionalCall') {
          value = await fn((...args) => value.call(lastAccessLHS, ...args));
          lastAccessLHS = undefined;
        }
      }
      return value;
    }
  `,optionalChainDelete:`
    function optionalChainDelete(ops) {
      const result = OPTIONAL_CHAIN_NAME(ops);
      return result == null ? true : result;
    }
  `,asyncOptionalChainDelete:`
    async function asyncOptionalChainDelete(ops) {
      const result = await ASYNC_OPTIONAL_CHAIN_NAME(ops);
      return result == null ? true : result;
    }
  `};class ti{__init(){this.helperNames={}}__init2(){this.createRequireName=null}constructor(t){this.nameManager=t,ti.prototype.__init.call(this),ti.prototype.__init2.call(this)}getHelperName(t){let r=this.helperNames[t];return r||(r=this.nameManager.claimFreeName(`_${t}`),this.helperNames[t]=r,r)}emitHelpers(){let t="";this.helperNames.optionalChainDelete&&this.getHelperName("optionalChain"),this.helperNames.asyncOptionalChainDelete&&this.getHelperName("asyncOptionalChain");for(const[r,n]of Object.entries(bm)){const s=this.helperNames[r];let i=n;r==="optionalChainDelete"?i=i.replace("OPTIONAL_CHAIN_NAME",this.helperNames.optionalChain):r==="asyncOptionalChainDelete"?i=i.replace("ASYNC_OPTIONAL_CHAIN_NAME",this.helperNames.asyncOptionalChain):r==="require"&&(this.createRequireName===null&&(this.createRequireName=this.nameManager.claimFreeName("_createRequire")),i=i.replace(/CREATE_REQUIRE_NAME/g,this.createRequireName)),s&&(t+=" ",t+=i.replace(r,s).replace(/\s+/g," ").trim())}return t}}function w1(e,t,r){xm(e,r)&&Sm(e,t,r)}function xm(e,t){for(const r of e.tokens)if(r.type===o.name&&!r.isType&&Sd(r)&&t.has(e.identifierNameForToken(r)))return!0;return!1}function Sm(e,t,r){const n=[];let s=t.length-1;for(let i=e.tokens.length-1;;i--){for(;n.length>0&&n[n.length-1].startTokenIndex===i+1;)n.pop();for(;s>=0&&t[s].endTokenIndex===i+1;)n.push(t[s]),s--;if(i<0)break;const c=e.tokens[i],l=e.identifierNameForToken(c);if(n.length>1&&!c.isType&&c.type===o.name&&r.has(l)){if(Td(c))_1(n[n.length-1],e,l);else if(Ed(c)){let f=n.length-1;for(;f>0&&!n[f].isFunctionScope;)f--;if(f<0)throw new Error("Did not find parent function scope.");_1(n[f],e,l)}}}if(n.length>0)throw new Error("Expected empty scope stack after processing file.")}function _1(e,t,r){for(let n=e.startTokenIndex;n<e.endTokenIndex;n++){const s=t.tokens[n];(s.type===o.name||s.type===o.jsxName)&&t.identifierNameForToken(s)===r&&(s.shadowsGlobal=!0)}}function Tm(e,t){const r=[];for(const n of t)n.type===o.name&&r.push(e.slice(n.start,n.end));return r}class tc{__init(){this.usedNames=new Set}constructor(t,r){tc.prototype.__init.call(this),this.usedNames=new Set(Tm(t,r))}claimFreeName(t){const r=this.findFreeName(t);return this.usedNames.add(r),r}findFreeName(t){if(!this.usedNames.has(t))return t;let r=2;for(;this.usedNames.has(t+String(r));)r++;return t+String(r)}}var Ds={},Os={},Jt={},b1;function Ca(){if(b1)return Jt;b1=1;var e=Jt&&Jt.__extends||(function(){var i=function(c,l){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var g in d)d.hasOwnProperty(g)&&(f[g]=d[g])},i(c,l)};return function(c,l){i(c,l);function f(){this.constructor=c}c.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})();Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.DetailContext=Jt.NoopContext=Jt.VError=void 0;var t=(function(i){e(c,i);function c(l,f){var d=i.call(this,f)||this;return d.path=l,Object.setPrototypeOf(d,c.prototype),d}return c})(Error);Jt.VError=t;var r=(function(){function i(){}return i.prototype.fail=function(c,l,f){return!1},i.prototype.unionResolver=function(){return this},i.prototype.createContext=function(){return this},i.prototype.resolveUnion=function(c){},i})();Jt.NoopContext=r;var n=(function(){function i(){this._propNames=[""],this._messages=[null],this._score=0}return i.prototype.fail=function(c,l,f){return this._propNames.push(c),this._messages.push(l),this._score+=f,!1},i.prototype.unionResolver=function(){return new s},i.prototype.resolveUnion=function(c){for(var l,f,d=c,g=null,w=0,k=d.contexts;w<k.length;w++){var x=k[w];(!g||x._score>=g._score)&&(g=x)}g&&g._score>0&&((l=this._propNames).push.apply(l,g._propNames),(f=this._messages).push.apply(f,g._messages))},i.prototype.getError=function(c){for(var l=[],f=this._propNames.length-1;f>=0;f--){var d=this._propNames[f];c+=typeof d=="number"?"["+d+"]":d?"."+d:"";var g=this._messages[f];g&&l.push(c+" "+g)}return new t(c,l.join("; "))},i.prototype.getErrorDetail=function(c){for(var l=[],f=this._propNames.length-1;f>=0;f--){var d=this._propNames[f];c+=typeof d=="number"?"["+d+"]":d?"."+d:"";var g=this._messages[f];g&&l.push({path:c,message:g})}for(var w=null,f=l.length-1;f>=0;f--)w&&(l[f].nested=[w]),w=l[f];return w},i})();Jt.DetailContext=n;var s=(function(){function i(){this.contexts=[]}return i.prototype.createContext=function(){var c=new n;return this.contexts.push(c),c},i})();return Jt}var x1;function S1(){return x1||(x1=1,(function(e){var t=Os&&Os.__extends||(function(){var j=function(H,q){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,K){W.__proto__=K}||function(W,K){for(var fe in K)K.hasOwnProperty(fe)&&(W[fe]=K[fe])},j(H,q)};return function(H,q){j(H,q);function W(){this.constructor=H}H.prototype=q===null?Object.create(q):(W.prototype=q.prototype,new W)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.basicTypes=e.BasicType=e.TParamList=e.TParam=e.param=e.TFunc=e.func=e.TProp=e.TOptional=e.opt=e.TIface=e.iface=e.TEnumLiteral=e.enumlit=e.TEnumType=e.enumtype=e.TIntersection=e.intersection=e.TUnion=e.union=e.TTuple=e.tuple=e.TArray=e.array=e.TLiteral=e.lit=e.TName=e.name=e.TType=void 0;var r=Ca(),n=(function(){function j(){}return j})();e.TType=n;function s(j){return typeof j=="string"?c(j):j}function i(j,H){var q=j[H];if(!q)throw new Error("Unknown type "+H);return q}function c(j){return new l(j)}e.name=c;var l=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.name=q,W._failMsg="is not a "+q,W}return H.prototype.getChecker=function(q,W,K){var fe=this,M=i(q,this.name),re=M.getChecker(q,W,K);return M instanceof me||M instanceof H?re:function(Ie,Ve){return re(Ie,Ve)?!0:Ve.fail(null,fe._failMsg,0)}},H})(n);e.TName=l;function f(j){return new d(j)}e.lit=f;var d=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.value=q,W.name=JSON.stringify(q),W._failMsg="is not "+W.name,W}return H.prototype.getChecker=function(q,W){var K=this;return function(fe,M){return fe===K.value?!0:M.fail(null,K._failMsg,-1)}},H})(n);e.TLiteral=d;function g(j){return new w(s(j))}e.array=g;var w=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.ttype=q,W}return H.prototype.getChecker=function(q,W){var K=this.ttype.getChecker(q,W);return function(fe,M){if(!Array.isArray(fe))return M.fail(null,"is not an array",0);for(var re=0;re<fe.length;re++){var Ie=K(fe[re],M);if(!Ie)return M.fail(re,null,1)}return!0}},H})(n);e.TArray=w;function k(){for(var j=[],H=0;H<arguments.length;H++)j[H]=arguments[H];return new x(j.map(function(q){return s(q)}))}e.tuple=k;var x=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.ttypes=q,W}return H.prototype.getChecker=function(q,W){var K=this.ttypes.map(function(M){return M.getChecker(q,W)}),fe=function(M,re){if(!Array.isArray(M))return re.fail(null,"is not an array",0);for(var Ie=0;Ie<K.length;Ie++){var Ve=K[Ie](M[Ie],re);if(!Ve)return re.fail(Ie,null,1)}return!0};return W?function(M,re){return fe(M,re)?M.length<=K.length?!0:re.fail(K.length,"is extraneous",2):!1}:fe},H})(n);e.TTuple=x;function A(){for(var j=[],H=0;H<arguments.length;H++)j[H]=arguments[H];return new P(j.map(function(q){return s(q)}))}e.union=A;var P=(function(j){t(H,j);function H(q){var W=j.call(this)||this;W.ttypes=q;var K=q.map(function(M){return M instanceof l||M instanceof d?M.name:null}).filter(function(M){return M}),fe=q.length-K.length;return K.length?(fe>0&&K.push(fe+" more"),W._failMsg="is none of "+K.join(", ")):W._failMsg="is none of "+fe+" types",W}return H.prototype.getChecker=function(q,W){var K=this,fe=this.ttypes.map(function(M){return M.getChecker(q,W)});return function(M,re){for(var Ie=re.unionResolver(),Ve=0;Ve<fe.length;Ve++){var ht=fe[Ve](M,Ie.createContext());if(ht)return!0}return re.resolveUnion(Ie),re.fail(null,K._failMsg,0)}},H})(n);e.TUnion=P;function R(){for(var j=[],H=0;H<arguments.length;H++)j[H]=arguments[H];return new L(j.map(function(q){return s(q)}))}e.intersection=R;var L=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.ttypes=q,W}return H.prototype.getChecker=function(q,W){var K=new Set,fe=this.ttypes.map(function(M){return M.getChecker(q,W,K)});return function(M,re){var Ie=fe.every(function(Ve){return Ve(M,re)});return Ie?!0:re.fail(null,null,0)}},H})(n);e.TIntersection=L;function F(j){return new O(j)}e.enumtype=F;var O=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.members=q,W.validValues=new Set,W._failMsg="is not a valid enum value",W.validValues=new Set(Object.keys(q).map(function(K){return q[K]})),W}return H.prototype.getChecker=function(q,W){var K=this;return function(fe,M){return K.validValues.has(fe)?!0:M.fail(null,K._failMsg,0)}},H})(n);e.TEnumType=O;function V(j,H){return new te(j,H)}e.enumlit=V;var te=(function(j){t(H,j);function H(q,W){var K=j.call(this)||this;return K.enumName=q,K.prop=W,K._failMsg="is not "+q+"."+W,K}return H.prototype.getChecker=function(q,W){var K=this,fe=i(q,this.enumName);if(!(fe instanceof O))throw new Error("Type "+this.enumName+" used in enumlit is not an enum type");var M=fe.members[this.prop];if(!fe.members.hasOwnProperty(this.prop))throw new Error("Unknown value "+this.enumName+"."+this.prop+" used in enumlit");return function(re,Ie){return re===M?!0:Ie.fail(null,K._failMsg,-1)}},H})(n);e.TEnumLiteral=te;function ce(j){return Object.keys(j).map(function(H){return ae(H,j[H])})}function ae(j,H){return H instanceof Ae?new Oe(j,H.ttype,!0):new Oe(j,s(H),!1)}function he(j,H){return new Se(j,ce(H))}e.iface=he;var Se=(function(j){t(H,j);function H(q,W){var K=j.call(this)||this;return K.bases=q,K.props=W,K.propSet=new Set(W.map(function(fe){return fe.name})),K}return H.prototype.getChecker=function(q,W,K){var fe=this,M=this.bases.map(function(et){return i(q,et).getChecker(q,W)}),re=this.props.map(function(et){return et.ttype.getChecker(q,W)}),Ie=new r.NoopContext,Ve=this.props.map(function(et,kt){return!et.isOpt&&!re[kt](void 0,Ie)}),ht=function(et,kt){if(typeof et!="object"||et===null)return kt.fail(null,"is not an object",0);for(var wt=0;wt<M.length;wt++)if(!M[wt](et,kt))return!1;for(var wt=0;wt<re.length;wt++){var kr=fe.props[wt].name,Lr=et[kr];if(Lr===void 0){if(Ve[wt])return kt.fail(kr,"is missing",1)}else{var sn=re[wt](Lr,kt);if(!sn)return kt.fail(kr,null,1)}}return!0};if(!W)return ht;var It=this.propSet;return K&&(this.propSet.forEach(function(et){return K.add(et)}),It=K),function(et,kt){if(!ht(et,kt))return!1;for(var wt in et)if(!It.has(wt))return kt.fail(wt,"is extraneous",2);return!0}},H})(n);e.TIface=Se;function De(j){return new Ae(s(j))}e.opt=De;var Ae=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.ttype=q,W}return H.prototype.getChecker=function(q,W){var K=this.ttype.getChecker(q,W);return function(fe,M){return fe===void 0||K(fe,M)}},H})(n);e.TOptional=Ae;var Oe=(function(){function j(H,q,W){this.name=H,this.ttype=q,this.isOpt=W}return j})();e.TProp=Oe;function Qe(j){for(var H=[],q=1;q<arguments.length;q++)H[q-1]=arguments[q];return new Ne(new Le(H),s(j))}e.func=Qe;var Ne=(function(j){t(H,j);function H(q,W){var K=j.call(this)||this;return K.paramList=q,K.result=W,K}return H.prototype.getChecker=function(q,W){return function(K,fe){return typeof K=="function"?!0:fe.fail(null,"is not a function",0)}},H})(n);e.TFunc=Ne;function je(j,H,q){return new qe(j,s(H),!!q)}e.param=je;var qe=(function(){function j(H,q,W){this.name=H,this.ttype=q,this.isOpt=W}return j})();e.TParam=qe;var Le=(function(j){t(H,j);function H(q){var W=j.call(this)||this;return W.params=q,W}return H.prototype.getChecker=function(q,W){var K=this,fe=this.params.map(function(Ve){return Ve.ttype.getChecker(q,W)}),M=new r.NoopContext,re=this.params.map(function(Ve,ht){return!Ve.isOpt&&!fe[ht](void 0,M)}),Ie=function(Ve,ht){if(!Array.isArray(Ve))return ht.fail(null,"is not an array",0);for(var It=0;It<fe.length;It++){var et=K.params[It];if(Ve[It]===void 0){if(re[It])return ht.fail(et.name,"is missing",1)}else{var kt=fe[It](Ve[It],ht);if(!kt)return ht.fail(et.name,null,1)}}return!0};return W?function(Ve,ht){return Ie(Ve,ht)?Ve.length<=fe.length?!0:ht.fail(fe.length,"is extraneous",2):!1}:Ie},H})(n);e.TParamList=Le;var me=(function(j){t(H,j);function H(q,W){var K=j.call(this)||this;return K.validator=q,K.message=W,K}return H.prototype.getChecker=function(q,W){var K=this;return function(fe,M){return K.validator(fe)?!0:M.fail(null,K.message,0)}},H})(n);e.BasicType=me,e.basicTypes={any:new me(function(j){return!0},"is invalid"),number:new me(function(j){return typeof j=="number"},"is not a number"),object:new me(function(j){return typeof j=="object"&&j},"is not an object"),boolean:new me(function(j){return typeof j=="boolean"},"is not a boolean"),string:new me(function(j){return typeof j=="string"},"is not a string"),symbol:new me(function(j){return typeof j=="symbol"},"is not a symbol"),void:new me(function(j){return j==null},"is not void"),undefined:new me(function(j){return j===void 0},"is not undefined"),null:new me(function(j){return j===null},"is not null"),never:new me(function(j){return!1},"is unexpected"),Date:new me(Je("[object Date]"),"is not a Date"),RegExp:new me(Je("[object RegExp]"),"is not a RegExp")};var Ye=Object.prototype.toString;function Je(j){return function(H){return typeof H=="object"&&H&&Ye.call(H)===j}}typeof Buffer<"u"&&(e.basicTypes.Buffer=new me(function(j){return Buffer.isBuffer(j)},"is not a Buffer"));for(var Be=function(j){e.basicTypes[j.name]=new me(function(H){return H instanceof j},"is not a "+j.name)},We=0,Ct=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,ArrayBuffer];We<Ct.length;We++){var Vt=Ct[We];Be(Vt)}})(Os)),Os}var T1;function Em(){return T1||(T1=1,(function(e){var t=Ds&&Ds.__spreadArrays||function(){for(var f=0,d=0,g=arguments.length;d<g;d++)f+=arguments[d].length;for(var w=Array(f),k=0,d=0;d<g;d++)for(var x=arguments[d],A=0,P=x.length;A<P;A++,k++)w[k]=x[A];return w};Object.defineProperty(e,"__esModule",{value:!0}),e.Checker=e.createCheckers=void 0;var r=S1(),n=Ca(),s=S1();Object.defineProperty(e,"TArray",{enumerable:!0,get:function(){return s.TArray}}),Object.defineProperty(e,"TEnumType",{enumerable:!0,get:function(){return s.TEnumType}}),Object.defineProperty(e,"TEnumLiteral",{enumerable:!0,get:function(){return s.TEnumLiteral}}),Object.defineProperty(e,"TFunc",{enumerable:!0,get:function(){return s.TFunc}}),Object.defineProperty(e,"TIface",{enumerable:!0,get:function(){return s.TIface}}),Object.defineProperty(e,"TLiteral",{enumerable:!0,get:function(){return s.TLiteral}}),Object.defineProperty(e,"TName",{enumerable:!0,get:function(){return s.TName}}),Object.defineProperty(e,"TOptional",{enumerable:!0,get:function(){return s.TOptional}}),Object.defineProperty(e,"TParam",{enumerable:!0,get:function(){return s.TParam}}),Object.defineProperty(e,"TParamList",{enumerable:!0,get:function(){return s.TParamList}}),Object.defineProperty(e,"TProp",{enumerable:!0,get:function(){return s.TProp}}),Object.defineProperty(e,"TTuple",{enumerable:!0,get:function(){return s.TTuple}}),Object.defineProperty(e,"TType",{enumerable:!0,get:function(){return s.TType}}),Object.defineProperty(e,"TUnion",{enumerable:!0,get:function(){return s.TUnion}}),Object.defineProperty(e,"TIntersection",{enumerable:!0,get:function(){return s.TIntersection}}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return s.array}}),Object.defineProperty(e,"enumlit",{enumerable:!0,get:function(){return s.enumlit}}),Object.defineProperty(e,"enumtype",{enumerable:!0,get:function(){return s.enumtype}}),Object.defineProperty(e,"func",{enumerable:!0,get:function(){return s.func}}),Object.defineProperty(e,"iface",{enumerable:!0,get:function(){return s.iface}}),Object.defineProperty(e,"lit",{enumerable:!0,get:function(){return s.lit}}),Object.defineProperty(e,"name",{enumerable:!0,get:function(){return s.name}}),Object.defineProperty(e,"opt",{enumerable:!0,get:function(){return s.opt}}),Object.defineProperty(e,"param",{enumerable:!0,get:function(){return s.param}}),Object.defineProperty(e,"tuple",{enumerable:!0,get:function(){return s.tuple}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return s.union}}),Object.defineProperty(e,"intersection",{enumerable:!0,get:function(){return s.intersection}}),Object.defineProperty(e,"BasicType",{enumerable:!0,get:function(){return s.BasicType}});var i=Ca();Object.defineProperty(e,"VError",{enumerable:!0,get:function(){return i.VError}});function c(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];for(var g=Object.assign.apply(Object,t([{},r.basicTypes],f)),w={},k=0,x=f;k<x.length;k++)for(var A=x[k],P=0,R=Object.keys(A);P<R.length;P++){var L=R[P];w[L]=new l(g,A[L])}return w}e.createCheckers=c;var l=(function(){function f(d,g,w){if(w===void 0&&(w="value"),this.suite=d,this.ttype=g,this._path=w,this.props=new Map,g instanceof r.TIface)for(var k=0,x=g.props;k<x.length;k++){var A=x[k];this.props.set(A.name,A.ttype)}this.checkerPlain=this.ttype.getChecker(d,!1),this.checkerStrict=this.ttype.getChecker(d,!0)}return f.prototype.setReportedPath=function(d){this._path=d},f.prototype.check=function(d){return this._doCheck(this.checkerPlain,d)},f.prototype.test=function(d){return this.checkerPlain(d,new n.NoopContext)},f.prototype.validate=function(d){return this._doValidate(this.checkerPlain,d)},f.prototype.strictCheck=function(d){return this._doCheck(this.checkerStrict,d)},f.prototype.strictTest=function(d){return this.checkerStrict(d,new n.NoopContext)},f.prototype.strictValidate=function(d){return this._doValidate(this.checkerStrict,d)},f.prototype.getProp=function(d){var g=this.props.get(d);if(!g)throw new Error("Type has no property "+d);return new f(this.suite,g,this._path+"."+d)},f.prototype.methodArgs=function(d){var g=this._getMethod(d);return new f(this.suite,g.paramList)},f.prototype.methodResult=function(d){var g=this._getMethod(d);return new f(this.suite,g.result)},f.prototype.getArgs=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getArgs() applied to non-function");return new f(this.suite,this.ttype.paramList)},f.prototype.getResult=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getResult() applied to non-function");return new f(this.suite,this.ttype.result)},f.prototype.getType=function(){return this.ttype},f.prototype._doCheck=function(d,g){var w=new n.NoopContext;if(!d(g,w)){var k=new n.DetailContext;throw d(g,k),k.getError(this._path)}},f.prototype._doValidate=function(d,g){var w=new n.NoopContext;if(d(g,w))return null;var k=new n.DetailContext;return d(g,k),k.getErrorDetail(this._path)},f.prototype._getMethod=function(d){var g=this.props.get(d);if(!g)throw new Error("Type has no property "+d);if(!(g instanceof r.TFunc))throw new Error("Property "+d+" is not a method");return g},f})();e.Checker=l})(Ds)),Ds}var $e=Em();const Am=$e.union($e.lit("jsx"),$e.lit("typescript"),$e.lit("flow"),$e.lit("imports"),$e.lit("react-hot-loader"),$e.lit("jest")),Im=$e.iface([],{compiledFilename:"string"}),Cm=$e.iface([],{transforms:$e.array("Transform"),disableESTransforms:$e.opt("boolean"),jsxRuntime:$e.opt($e.union($e.lit("classic"),$e.lit("automatic"),$e.lit("preserve"))),production:$e.opt("boolean"),jsxImportSource:$e.opt("string"),jsxPragma:$e.opt("string"),jsxFragmentPragma:$e.opt("string"),keepUnusedImports:$e.opt("boolean"),preserveDynamicImport:$e.opt("boolean"),injectCreateRequireForImportRequire:$e.opt("boolean"),enableLegacyTypeScriptModuleInterop:$e.opt("boolean"),enableLegacyBabel5ModuleInterop:$e.opt("boolean"),sourceMapOptions:$e.opt("SourceMapOptions"),filePath:$e.opt("string")}),Pm={Transform:Am,SourceMapOptions:Im,Options:Cm},{Options:Rm}=$e.createCheckers(Pm);function Dm(e){Rm.strictCheck(e)}function dl(){G(),At(!1)}function ml(e){G(),Ci(e)}function rn(e){pe(),rc(e)}function ri(){pe(),p.tokens[p.tokens.length-1].identifierRole=le.ImportDeclaration}function rc(e){let t;p.scopeDepth===0?t=le.TopLevelDeclaration:e?t=le.BlockScopedDeclaration:t=le.FunctionScopedDeclaration,p.tokens[p.tokens.length-1].identifierRole=t}function Ci(e){switch(p.type){case o._this:{const t=_e(0);G(),ke(t);return}case o._yield:case o.name:{p.type=o.name,rn(e);return}case o.bracketL:{G(),nc(o.bracketR,e,!0);return}case o.braceL:dc(!0,e);return;default:ye()}}function nc(e,t,r=!1,n=!1,s=0){let i=!0,c=!1;const l=p.tokens.length;for(;!D(e)&&!p.error;)if(i?i=!1:(U(o.comma),p.tokens[p.tokens.length-1].contextId=s,!c&&p.tokens[l].isType&&(p.tokens[p.tokens.length-1].isType=!0,c=!0)),!(r&&b(o.comma))){if(D(e))break;if(b(o.ellipsis)){ml(t),gl(),D(o.comma),U(e);break}else Om(n,t)}}function Om(e,t){e&&sc([E._public,E._protected,E._private,E._readonly,E._override]),ni(t),gl(),ni(t,!0)}function gl(){Me?Kv():Ce&&jg()}function ni(e,t=!1){if(t||Ci(e),!D(o.eq))return;const r=p.tokens.length-1;At(),p.tokens[r].rhsEndIndex=p.tokens.length}function Pa(){return b(o.name)}function Lm(){return b(o.name)||!!(p.type&o.IS_KEYWORD)||b(o.string)||b(o.num)||b(o.bigint)||b(o.decimal)}function vl(){const e=p.snapshot();return G(),(b(o.bracketL)||b(o.braceL)||b(o.star)||b(o.ellipsis)||b(o.hash)||Lm())&&!Ot()?!0:(p.restoreFromSnapshot(e),!1)}function sc(e){for(;yl(e)!==null;);}function yl(e){if(!b(o.name))return null;const t=p.contextualKeyword;if(e.indexOf(t)!==-1&&vl()){switch(t){case E._readonly:p.tokens[p.tokens.length-1].type=o._readonly;break;case E._abstract:p.tokens[p.tokens.length-1].type=o._abstract;break;case E._static:p.tokens[p.tokens.length-1].type=o._static;break;case E._public:p.tokens[p.tokens.length-1].type=o._public;break;case E._private:p.tokens[p.tokens.length-1].type=o._private;break;case E._protected:p.tokens[p.tokens.length-1].type=o._protected;break;case E._override:p.tokens[p.tokens.length-1].type=o._override;break;case E._declare:p.tokens[p.tokens.length-1].type=o._declare;break}return t}return null}function co(){for(pe();D(o.dot);)pe()}function Fm(){co(),!Ot()&&b(o.lessThan)&&Zn()}function Nm(){G(),uo()}function Mm(){G()}function Bm(){U(o._typeof),b(o._import)?kl():co(),!Ot()&&b(o.lessThan)&&Zn()}function kl(){U(o._import),U(o.parenL),U(o.string),U(o.parenR),D(o.dot)&&co(),b(o.lessThan)&&Zn()}function Um(){D(o._const);const e=D(o._in),t=vt(E._out);D(o._const),(e||t)&&!b(o.name)?p.tokens[p.tokens.length-1].type=o.name:pe(),D(o._extends)&&ot(),D(o.eq)&&ot()}function bn(){b(o.lessThan)&&Pi()}function Pi(){const e=_e(0);for(b(o.lessThan)||b(o.typeParameterStart)?G():ye();!D(o.greaterThan)&&!p.error;)Um(),D(o.comma);ke(e)}function oc(e){const t=e===o.arrow;bn(),U(o.parenL),p.scopeDepth++,Gm(!1),p.scopeDepth--,(t||b(e))&&$s(e)}function Gm(e){nc(o.parenR,e)}function si(){D(o.comma)||Ze()}function E1(){oc(o.colon),si()}function jm(){const e=p.snapshot();G();const t=D(o.name)&&b(o.colon);return p.restoreFromSnapshot(e),t}function wl(){if(!(b(o.bracketL)&&jm()))return!1;const e=_e(0);return U(o.bracketL),pe(),uo(),U(o.bracketR),Yn(),si(),ke(e),!0}function A1(e){D(o.question),!e&&(b(o.parenL)||b(o.lessThan))?(oc(o.colon),si()):(Yn(),si())}function Hm(){if(b(o.parenL)||b(o.lessThan)){E1();return}if(b(o._new)){G(),b(o.parenL)||b(o.lessThan)?E1():A1(!1);return}const e=!!yl([E._readonly]);wl()||((ie(E._get)||ie(E._set))&&vl(),Xs(-1),A1(e))}function qm(){_l()}function _l(){for(U(o.braceL);!D(o.braceR)&&!p.error;)Hm()}function Wm(){const e=p.snapshot(),t=Vm();return p.restoreFromSnapshot(e),t}function Vm(){return G(),D(o.plus)||D(o.minus)?ie(E._readonly):(ie(E._readonly)&&G(),!b(o.bracketL)||(G(),!Pa())?!1:(G(),b(o._in)))}function zm(){pe(),U(o._in),ot()}function $m(){U(o.braceL),b(o.plus)||b(o.minus)?(G(),lt(E._readonly)):vt(E._readonly),U(o.bracketL),zm(),vt(E._as)&&ot(),U(o.bracketR),b(o.plus)||b(o.minus)?(G(),U(o.question)):D(o.question),ag(),Ze(),U(o.braceR)}function Xm(){for(U(o.bracketL);!D(o.bracketR)&&!p.error;)Ym(),D(o.comma)}function Ym(){D(o.ellipsis)?ot():(ot(),D(o.question)),D(o.colon)&&ot()}function Zm(){U(o.parenL),ot(),U(o.parenR)}function Km(){for(zr(),zr();!b(o.backQuote)&&!p.error;)U(o.dollarBraceL),ot(),zr(),zr();G()}var Yr;(function(e){e[e.TSFunctionType=0]="TSFunctionType";const r=1;e[e.TSConstructorType=r]="TSConstructorType";const n=r+1;e[e.TSAbstractConstructorType=n]="TSAbstractConstructorType"})(Yr||(Yr={}));function fa(e){e===Yr.TSAbstractConstructorType&&lt(E._abstract),(e===Yr.TSConstructorType||e===Yr.TSAbstractConstructorType)&&U(o._new);const t=p.inDisallowConditionalTypesContext;p.inDisallowConditionalTypesContext=!1,oc(o.arrow),p.inDisallowConditionalTypesContext=t}function Qm(){switch(p.type){case o.name:Fm();return;case o._void:case o._null:G();return;case o.string:case o.num:case o.bigint:case o.decimal:case o._true:case o._false:Hn();return;case o.minus:G(),Hn();return;case o._this:{Mm(),ie(E._is)&&!Ot()&&Nm();return}case o._typeof:Bm();return;case o._import:kl();return;case o.braceL:Wm()?$m():qm();return;case o.bracketL:Xm();return;case o.parenL:Zm();return;case o.backQuote:Km();return;default:if(p.type&o.IS_KEYWORD){G(),p.tokens[p.tokens.length-1].type=o.name;return}break}ye()}function Jm(){for(Qm();!Ot()&&D(o.bracketL);)D(o.bracketR)||(ot(),U(o.bracketR))}function eg(){if(lt(E._infer),pe(),b(o._extends)){const e=p.snapshot();U(o._extends);const t=p.inDisallowConditionalTypesContext;p.inDisallowConditionalTypesContext=!0,ot(),p.inDisallowConditionalTypesContext=t,(p.error||!p.inDisallowConditionalTypesContext&&b(o.question))&&p.restoreFromSnapshot(e)}}function Ra(){if(ie(E._keyof)||ie(E._unique)||ie(E._readonly))G(),Ra();else if(ie(E._infer))eg();else{const e=p.inDisallowConditionalTypesContext;p.inDisallowConditionalTypesContext=!1,Jm(),p.inDisallowConditionalTypesContext=e}}function I1(){if(D(o.bitwiseAND),Ra(),b(o.bitwiseAND))for(;D(o.bitwiseAND);)Ra()}function tg(){if(D(o.bitwiseOR),I1(),b(o.bitwiseOR))for(;D(o.bitwiseOR);)I1()}function rg(){return b(o.lessThan)?!0:b(o.parenL)&&sg()}function ng(){if(b(o.name)||b(o._this))return G(),!0;if(b(o.braceL)||b(o.bracketL)){let e=1;for(G();e>0&&!p.error;)b(o.braceL)||b(o.bracketL)?e++:(b(o.braceR)||b(o.bracketR))&&e--,G();return!0}return!1}function sg(){const e=p.snapshot(),t=og();return p.restoreFromSnapshot(e),t}function og(){return G(),!!(b(o.parenR)||b(o.ellipsis)||ng()&&(b(o.colon)||b(o.comma)||b(o.question)||b(o.eq)||b(o.parenR)&&(G(),b(o.arrow))))}function $s(e){const t=_e(0);U(e),cg()||ot(),ke(t)}function ig(){b(o.colon)&&$s(o.colon)}function Yn(){b(o.colon)&&uo()}function ag(){D(o.colon)&&ot()}function cg(){const e=p.snapshot();return ie(E._asserts)?(G(),vt(E._is)?(ot(),!0):Pa()||b(o._this)?(G(),vt(E._is)&&ot(),!0):(p.restoreFromSnapshot(e),!1)):Pa()||b(o._this)?(G(),ie(E._is)&&!Ot()?(G(),ot(),!0):(p.restoreFromSnapshot(e),!1)):!1}function uo(){const e=_e(0);U(o.colon),ot(),ke(e)}function ot(){if(C1(),p.inDisallowConditionalTypesContext||Ot()||!D(o._extends))return;const e=p.inDisallowConditionalTypesContext;p.inDisallowConditionalTypesContext=!0,C1(),p.inDisallowConditionalTypesContext=e,U(o.question),ot(),U(o.colon),ot()}function ug(){return ie(E._abstract)&&st()===o._new}function C1(){if(rg()){fa(Yr.TSFunctionType);return}if(b(o._new)){fa(Yr.TSConstructorType);return}else if(ug()){fa(Yr.TSAbstractConstructorType);return}tg()}function lg(){const e=_e(1);ot(),U(o.greaterThan),ke(e),lo()}function fg(){if(D(o.jsxTagStart)){p.tokens[p.tokens.length-1].type=o.typeParameterStart;const e=_e(1);for(;!b(o.greaterThan)&&!p.error;)ot(),D(o.comma);$t(),ke(e)}}function bl(){for(;!b(o.braceL)&&!p.error;)hg(),D(o.comma)}function hg(){co(),b(o.lessThan)&&Zn()}function pg(){rn(!1),bn(),D(o._extends)&&bl(),_l()}function dg(){rn(!1),bn(),U(o.eq),ot(),Ze()}function mg(){if(b(o.string)?Hn():pe(),D(o.eq)){const e=p.tokens.length-1;At(),p.tokens[e].rhsEndIndex=p.tokens.length}}function ic(){for(rn(!1),U(o.braceL);!D(o.braceR)&&!p.error;)mg(),D(o.comma)}function ac(){U(o.braceL),Li(o.braceR)}function Da(){rn(!1),D(o.dot)?Da():ac()}function xl(){ie(E._global)?pe():b(o.string)?Rr():ye(),b(o.braceL)?ac():Ze()}function Oa(){ri(),U(o.eq),vg(),Ze()}function gg(){return ie(E._require)&&st()===o.parenL}function vg(){gg()?yg():co()}function yg(){lt(E._require),U(o.parenL),b(o.string)||ye(),Hn(),U(o.parenR)}function kg(){if(fr())return!1;switch(p.type){case o._function:{const e=_e(1);G();const t=p.start;return vn(t,!0),ke(e),!0}case o._class:{const e=_e(1);return yn(!0,!1),ke(e),!0}case o._const:if(b(o._const)&&Ja(E._enum)){const e=_e(1);return U(o._const),lt(E._enum),p.tokens[p.tokens.length-1].type=o._enum,ic(),ke(e),!0}case o._var:case o._let:{const e=_e(1);return Xo(p.type!==o._var),ke(e),!0}case o.name:{const e=_e(1),t=p.contextualKeyword;let r=!1;return t===E._global?(xl(),r=!0):r=Ri(t,!0),ke(e),r}default:return!1}}function P1(){return Ri(p.contextualKeyword,!0)}function wg(e){switch(e){case E._declare:{const t=p.tokens.length-1;if(kg())return p.tokens[t].type=o._declare,!0;break}case E._global:if(b(o.braceL))return ac(),!0;break;default:return Ri(e,!1)}return!1}function Ri(e,t){switch(e){case E._abstract:if(Ln(t)&&b(o._class))return p.tokens[p.tokens.length-1].type=o._abstract,yn(!0,!1),!0;break;case E._enum:if(Ln(t)&&b(o.name))return p.tokens[p.tokens.length-1].type=o._enum,ic(),!0;break;case E._interface:if(Ln(t)&&b(o.name)){const r=_e(t?2:1);return pg(),ke(r),!0}break;case E._module:if(Ln(t)){if(b(o.string)){const r=_e(t?2:1);return xl(),ke(r),!0}else if(b(o.name)){const r=_e(t?2:1);return Da(),ke(r),!0}}break;case E._namespace:if(Ln(t)&&b(o.name)){const r=_e(t?2:1);return Da(),ke(r),!0}break;case E._type:if(Ln(t)&&b(o.name)){const r=_e(t?2:1);return dg(),ke(r),!0}break}return!1}function Ln(e){return e?(G(),!0):!fr()}function _g(){const e=p.snapshot();return Pi(),Kn(),ig(),U(o.arrow),p.error?(p.restoreFromSnapshot(e),!1):(fo(!0),!0)}function cc(){p.type===o.bitShiftL&&(p.pos-=1,ve(o.lessThan)),Zn()}function Zn(){const e=_e(0);for(U(o.lessThan);!b(o.greaterThan)&&!p.error;)ot(),D(o.comma);e?(U(o.greaterThan),ke(e)):(ke(e),ol(),U(o.greaterThan),p.tokens[p.tokens.length-1].isType=!0)}function Sl(){if(b(o.name))switch(p.contextualKeyword){case E._abstract:case E._declare:case E._enum:case E._interface:case E._module:case E._namespace:case E._type:return!0}return!1}function bg(e,t){if(b(o.colon)&&$s(o.colon),!b(o.braceL)&&fr()){let r=p.tokens.length-1;for(;r>=0&&(p.tokens[r].start>=e||p.tokens[r].type===o._default||p.tokens[r].type===o._export);)p.tokens[r].isType=!0,r--;return}fo(!1,t)}function xg(e,t,r){if(!Ot()&&D(o.bang)){p.tokens[p.tokens.length-1].type=o.nonNullAssertion;return}if(b(o.lessThan)||b(o.bitShiftL)){const n=p.snapshot();if(!t&&Dl()&&_g())return;if(cc(),!t&&D(o.parenL)?(p.tokens[p.tokens.length-1].subscriptStartIndex=e,Zr()):b(o.backQuote)?pc():(p.type===o.greaterThan||p.type!==o.parenL&&p.type&o.IS_EXPRESSION_START&&!Ot())&&ye(),p.error)p.restoreFromSnapshot(n);else return}else!t&&b(o.questionDot)&&st()===o.lessThan&&(G(),p.tokens[e].isOptionalChainStart=!0,p.tokens[p.tokens.length-1].subscriptStartIndex=e,Zn(),U(o.parenL),Zr());lc(e,t,r)}function Sg(){if(D(o._import))return ie(E._type)&&st()!==o.eq&&lt(E._type),Oa(),!0;if(D(o.eq))return Et(),Ze(),!0;if(vt(E._as))return lt(E._namespace),pe(),Ze(),!0;if(ie(E._type)){const e=st();(e===o.braceL||e===o.star)&&G()}return!1}function Tg(){if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-1].identifierRole=le.ImportDeclaration;return}if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-1].identifierRole=le.ImportDeclaration,p.tokens[p.tokens.length-2].isType=!0,p.tokens[p.tokens.length-1].isType=!0;return}if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-3].identifierRole=le.ImportAccess,p.tokens[p.tokens.length-1].identifierRole=le.ImportDeclaration;return}pe(),p.tokens[p.tokens.length-3].identifierRole=le.ImportAccess,p.tokens[p.tokens.length-1].identifierRole=le.ImportDeclaration,p.tokens[p.tokens.length-4].isType=!0,p.tokens[p.tokens.length-3].isType=!0,p.tokens[p.tokens.length-2].isType=!0,p.tokens[p.tokens.length-1].isType=!0}function Eg(){if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-1].identifierRole=le.ExportAccess;return}if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-1].identifierRole=le.ExportAccess,p.tokens[p.tokens.length-2].isType=!0,p.tokens[p.tokens.length-1].isType=!0;return}if(pe(),b(o.comma)||b(o.braceR)){p.tokens[p.tokens.length-3].identifierRole=le.ExportAccess;return}pe(),p.tokens[p.tokens.length-3].identifierRole=le.ExportAccess,p.tokens[p.tokens.length-4].isType=!0,p.tokens[p.tokens.length-3].isType=!0,p.tokens[p.tokens.length-2].isType=!0,p.tokens[p.tokens.length-1].isType=!0}function Ag(){if(ie(E._abstract)&&st()===o._class)return p.type=o._abstract,G(),yn(!0,!0),!0;if(ie(E._interface)){const e=_e(2);return Ri(E._interface,!0),ke(e),!0}return!1}function Ig(){if(p.type===o._const){const e=ao();if(e.type===o.name&&e.contextualKeyword===E._enum)return U(o._const),lt(E._enum),p.tokens[p.tokens.length-1].type=o._enum,ic(),!0}return!1}function Cg(e){const t=p.tokens.length;sc([E._abstract,E._readonly,E._declare,E._static,E._override]);const r=p.tokens.length;if(wl()){const s=e?t-1:t;for(let i=s;i<r;i++)p.tokens[i].isType=!0;return!0}return!1}function Pg(e){wg(e)||Ze()}function Rg(){const e=vt(E._declare);e&&(p.tokens[p.tokens.length-1].type=o._declare);let t=!1;if(b(o.name))if(e){const r=_e(2);t=P1(),ke(r)}else t=P1();if(!t)if(e){const r=_e(2);Ht(!0),ke(r)}else Ht(!0)}function Dg(e){if(e&&(b(o.lessThan)||b(o.bitShiftL))&&cc(),vt(E._implements)){p.tokens[p.tokens.length-1].type=o._implements;const t=_e(1);bl(),ke(t)}}function Og(){bn()}function Lg(){bn()}function Fg(){const e=_e(0);Ot()||D(o.bang),Yn(),ke(e)}function Ng(){b(o.colon)&&uo()}function Mg(e,t){return Ai?Bg(e,t):Ug(e,t)}function Bg(e,t){if(!b(o.lessThan))return mr(e,t);const r=p.snapshot();let n=mr(e,t);if(p.error)p.restoreFromSnapshot(r);else return n;return p.type=o.typeParameterStart,Pi(),n=mr(e,t),n||ye(),n}function Ug(e,t){if(!b(o.lessThan))return mr(e,t);const r=p.snapshot();Pi();const n=mr(e,t);if(n||ye(),p.error)p.restoreFromSnapshot(r);else return n;return mr(e,t)}function Gg(){if(b(o.colon)){const e=p.snapshot();$s(o.colon),Ut()&&ye(),b(o.arrow)||ye(),p.error&&p.restoreFromSnapshot(e)}return D(o.arrow)}function jg(){const e=_e(0);D(o.question),Yn(),ke(e)}function Hg(){(b(o.lessThan)||b(o.bitShiftL))&&cc(),Wl()}function qg(){let e=!1,t=!1;for(;;){if(p.pos>=X.length){ye("Unterminated JSX contents");return}const r=X.charCodeAt(p.pos);if(r===I.lessThan||r===I.leftCurlyBrace){if(p.pos===p.start){if(r===I.lessThan){p.pos++,ve(o.jsxTagStart);return}il(r);return}ve(e&&!t?o.jsxEmptyText:o.jsxText);return}r===I.lineFeed?e=!0:r!==I.space&&r!==I.carriageReturn&&r!==I.tab&&(t=!0),p.pos++}}function Wg(e){for(p.pos++;;){if(p.pos>=X.length){ye("Unterminated string constant");return}if(X.charCodeAt(p.pos)===e){p.pos++;break}p.pos++}ve(o.string)}function Vg(){let e;do{if(p.pos>X.length){ye("Unexpectedly reached the end of input.");return}e=X.charCodeAt(++p.pos)}while(rr[e]||e===I.dash);ve(o.jsxName)}function La(){$t()}function Tl(e){if(La(),!D(o.colon)){p.tokens[p.tokens.length-1].identifierRole=e;return}La()}function El(){const e=p.tokens.length;Tl(le.Access);let t=!1;for(;b(o.dot);)t=!0,$t(),La();if(!t){const r=p.tokens[e],n=X.charCodeAt(r.start);n>=I.lowercaseA&&n<=I.lowercaseZ&&(r.identifierRole=null)}}function zg(){switch(p.type){case o.braceL:G(),Et(),$t();return;case o.jsxTagStart:Il(),$t();return;case o.string:$t();return;default:ye("JSX value should be either an expression or a quoted JSX text")}}function $g(){U(o.ellipsis),Et()}function Xg(e){if(b(o.jsxTagEnd))return!1;El(),Ce&&fg();let t=!1;for(;!b(o.slash)&&!b(o.jsxTagEnd)&&!p.error;){if(D(o.braceL)){t=!0,U(o.ellipsis),At(),$t();continue}t&&p.end-p.start===3&&X.charCodeAt(p.start)===I.lowercaseK&&X.charCodeAt(p.start+1)===I.lowercaseE&&X.charCodeAt(p.start+2)===I.lowercaseY&&(p.tokens[e].jsxRole=tr.KeyAfterPropSpread),Tl(le.ObjectKey),b(o.eq)&&($t(),zg())}const r=b(o.slash);return r&&$t(),r}function Yg(){b(o.jsxTagEnd)||El()}function Al(){const e=p.tokens.length-1;p.tokens[e].jsxRole=tr.NoChildren;let t=0;if(!Xg(e))for(Fn();;)switch(p.type){case o.jsxTagStart:if($t(),b(o.slash)){$t(),Yg(),p.tokens[e].jsxRole!==tr.KeyAfterPropSpread&&(t===1?p.tokens[e].jsxRole=tr.OneChild:t>1&&(p.tokens[e].jsxRole=tr.StaticChildren));return}t++,Al(),Fn();break;case o.jsxText:t++,Fn();break;case o.jsxEmptyText:Fn();break;case o.braceL:G(),b(o.ellipsis)?($g(),Fn(),t+=2):(b(o.braceR)||(t++,Et()),Fn());break;default:ye();return}}function Il(){$t(),Al()}function $t(){p.tokens.push(new Ii),nl(),p.start=p.pos;const e=X.charCodeAt(p.pos);if(io[e])Vg();else if(e===I.quotationMark||e===I.apostrophe)Wg(e);else switch(++p.pos,e){case I.greaterThan:ve(o.jsxTagEnd);break;case I.lessThan:ve(o.jsxTagStart);break;case I.slash:ve(o.slash);break;case I.equalsTo:ve(o.eq);break;case I.leftCurlyBrace:ve(o.braceL);break;case I.dot:ve(o.dot);break;case I.colon:ve(o.colon);break;default:ye()}}function Fn(){p.tokens.push(new Ii),p.start=p.pos,qg()}function Zg(e){if(b(o.question)){const t=st();if(t===o.colon||t===o.comma||t===o.parenR)return}Cl(e)}function Kg(){Qu(o.question),b(o.colon)&&(Ce?uo():Me&&xn())}class Qg{constructor(t){this.stop=t}}function Et(e=!1){if(At(e),b(o.comma))for(;D(o.comma);)At(e)}function At(e=!1,t=!1){return Ce?Mg(e,t):Me?n0(e,t):mr(e,t)}function mr(e,t){if(b(o._yield))return dv(),!1;(b(o.parenL)||b(o.name)||b(o._yield))&&(p.potentialArrowAt=p.start);const r=Jg(e);return t&&hc(),p.type&o.IS_ASSIGN?(G(),At(e),!1):r}function Jg(e){return tv(e)?!0:(ev(e),!1)}function ev(e){Ce||Me?Zg(e):Cl(e)}function Cl(e){D(o.question)&&(At(),U(o.colon),At(e))}function tv(e){const t=p.tokens.length;return lo()?!0:(zo(t,-1,e),!1)}function zo(e,t,r){if(Ce&&(o._in&o.PRECEDENCE_MASK)>t&&!Ot()&&(vt(E._as)||vt(E._satisfies))){const s=_e(1);ot(),ke(s),ol(),zo(e,t,r);return}const n=p.type&o.PRECEDENCE_MASK;if(n>0&&(!r||!b(o._in))&&n>t){const s=p.type;G(),s===o.nullishCoalescing&&(p.tokens[p.tokens.length-1].nullishStartIndex=e);const i=p.tokens.length;lo(),zo(i,s&o.IS_RIGHT_ASSOCIATIVE?n-1:n,r),s===o.nullishCoalescing&&(p.tokens[e].numNullishCoalesceStarts++,p.tokens[p.tokens.length-1].numNullishCoalesceEnds++),zo(e,t,r)}}function lo(){if(Ce&&!Ai&&D(o.lessThan))return lg(),!1;if(ie(E._module)&&el()===I.leftCurlyBrace&&!$u())return mv(),!1;if(p.type&o.IS_PREFIX)return G(),lo(),!1;if(Pl())return!0;for(;p.type&o.IS_POSTFIX&&!Ut();)p.type===o.preIncDec&&(p.type=o.postIncDec),G();return!1}function Pl(){const e=p.tokens.length;return Rr()?!0:(uc(e),p.tokens.length>e&&p.tokens[e].isOptionalChainStart&&(p.tokens[p.tokens.length-1].isOptionalChainEnd=!0),!1)}function uc(e,t=!1){Me?o0(e,t):Rl(e,t)}function Rl(e,t=!1){const r=new Qg(!1);do rv(e,t,r);while(!r.stop&&!p.error)}function rv(e,t,r){Ce?xg(e,t,r):Me?Uv(e,t,r):lc(e,t,r)}function lc(e,t,r){if(!t&&D(o.doubleColon))fc(),r.stop=!0,uc(e,t);else if(b(o.questionDot)){if(p.tokens[e].isOptionalChainStart=!0,t&&st()===o.parenL){r.stop=!0;return}G(),p.tokens[p.tokens.length-1].subscriptStartIndex=e,D(o.bracketL)?(Et(),U(o.bracketR)):D(o.parenL)?Zr():oi()}else if(D(o.dot))p.tokens[p.tokens.length-1].subscriptStartIndex=e,oi();else if(D(o.bracketL))p.tokens[p.tokens.length-1].subscriptStartIndex=e,Et(),U(o.bracketR);else if(!t&&b(o.parenL))if(Dl()){const n=p.snapshot(),s=p.tokens.length;G(),p.tokens[p.tokens.length-1].subscriptStartIndex=e;const i=Vs();p.tokens[p.tokens.length-1].contextId=i,Zr(),p.tokens[p.tokens.length-1].contextId=i,nv()&&(p.restoreFromSnapshot(n),r.stop=!0,p.scopeDepth++,Kn(),sv(s))}else{G(),p.tokens[p.tokens.length-1].subscriptStartIndex=e;const n=Vs();p.tokens[p.tokens.length-1].contextId=n,Zr(),p.tokens[p.tokens.length-1].contextId=n}else b(o.backQuote)?pc():r.stop=!0}function Dl(){return p.tokens[p.tokens.length-1].contextualKeyword===E._async&&!Ut()}function Zr(){let e=!0;for(;!D(o.parenR)&&!p.error;){if(e)e=!1;else if(U(o.comma),D(o.parenR))break;Nl(!1)}}function nv(){return b(o.colon)||b(o.arrow)}function sv(e){Ce?Ng():Me&&r0(),U(o.arrow),Ys(e)}function fc(){const e=p.tokens.length;Rr(),uc(e,!0)}function Rr(){if(D(o.modulo))return pe(),!1;if(b(o.jsxText)||b(o.jsxEmptyText))return Hn(),!1;if(b(o.lessThan)&&Ai)return p.type=o.jsxTagStart,Il(),G(),!1;const e=p.potentialArrowAt===p.start;switch(p.type){case o.slash:case o.assign:Id();case o._super:case o._this:case o.regexp:case o.num:case o.bigint:case o.decimal:case o.string:case o._null:case o._true:case o._false:return G(),!1;case o._import:return G(),b(o.dot)&&(p.tokens[p.tokens.length-1].type=o.name,G(),pe()),!1;case o.name:{const t=p.tokens.length,r=p.start,n=p.contextualKeyword;return pe(),n===E._await?(pv(),!1):n===E._async&&b(o._function)&&!Ut()?(G(),vn(r,!1),!1):e&&n===E._async&&!Ut()&&b(o.name)?(p.scopeDepth++,rn(!1),U(o.arrow),Ys(t),!0):b(o._do)&&!Ut()?(G(),Kr(),!1):e&&!Ut()&&b(o.arrow)?(p.scopeDepth++,rc(!1),U(o.arrow),Ys(t),!0):(p.tokens[p.tokens.length-1].identifierRole=le.Access,!1)}case o._do:return G(),Kr(),!1;case o.parenL:return Ol(e);case o.bracketL:return G(),Fl(o.bracketR,!0),!1;case o.braceL:return dc(!1,!1),!1;case o._function:return ov(),!1;case o.at:xc();case o._class:return yn(!1),!1;case o._new:return av(),!1;case o.backQuote:return pc(),!1;case o.doubleColon:return G(),fc(),!1;case o.hash:{const t=el();return io[t]||t===I.backslash?oi():G(),!1}default:return ye(),!1}}function oi(){D(o.hash),pe()}function ov(){const e=p.start;pe(),D(o.dot)&&pe(),vn(e,!1)}function Hn(){G()}function Di(){U(o.parenL),Et(),U(o.parenR)}function Ol(e){const t=p.snapshot(),r=p.tokens.length;U(o.parenL);let n=!0;for(;!b(o.parenR)&&!p.error;){if(n)n=!1;else if(U(o.comma),b(o.parenR))break;if(b(o.ellipsis)){ml(!1),hc();break}else At(!1,!0)}return U(o.parenR),e&&iv()&&Fa()?(p.restoreFromSnapshot(t),p.scopeDepth++,Kn(),Fa(),Ys(r),p.error?(p.restoreFromSnapshot(t),Ol(!1),!1):!0):!1}function iv(){return b(o.colon)||!Ut()}function Fa(){return Ce?Gg():Me?s0():D(o.arrow)}function hc(){(Ce||Me)&&Kg()}function av(){if(U(o._new),D(o.dot)){pe();return}cv(),Me&&Gv(),D(o.parenL)&&Fl(o.parenR)}function cv(){fc(),D(o.questionDot)}function pc(){for(zr(),zr();!b(o.backQuote)&&!p.error;)U(o.dollarBraceL),Et(),zr(),zr();G()}function dc(e,t){const r=Vs();let n=!0;for(G(),p.tokens[p.tokens.length-1].contextId=r;!D(o.braceR)&&!p.error;){if(n)n=!1;else if(U(o.comma),D(o.braceR))break;let s=!1;if(b(o.ellipsis)){const i=p.tokens.length;if(dl(),e&&(p.tokens.length===i+2&&rc(t),D(o.braceR)))break;continue}e||(s=D(o.star)),!e&&ie(E._async)?(s&&ye(),pe(),b(o.colon)||b(o.parenL)||b(o.braceR)||b(o.eq)||b(o.comma)||(b(o.star)&&(G(),s=!0),Xs(r))):Xs(r),hv(e,t,r)}p.tokens[p.tokens.length-1].contextId=r}function uv(e){return!e&&(b(o.string)||b(o.num)||b(o.bracketL)||b(o.name)||!!(p.type&o.IS_KEYWORD))}function lv(e,t){const r=p.start;return b(o.parenL)?(e&&ye(),Na(r,!1),!0):uv(e)?(Xs(t),Na(r,!1),!0):!1}function fv(e,t){if(D(o.colon)){e?ni(t):At(!1);return}let r;e?p.scopeDepth===0?r=le.ObjectShorthandTopLevelDeclaration:t?r=le.ObjectShorthandBlockScopedDeclaration:r=le.ObjectShorthandFunctionScopedDeclaration:r=le.ObjectShorthand,p.tokens[p.tokens.length-1].identifierRole=r,ni(t,!0)}function hv(e,t,r){Ce?Og():Me&&Zv(),lv(e,r)||fv(e,t)}function Xs(e){Me&&bc(),D(o.bracketL)?(p.tokens[p.tokens.length-1].contextId=e,At(),U(o.bracketR),p.tokens[p.tokens.length-1].contextId=e):(b(o.num)||b(o.string)||b(o.bigint)||b(o.decimal)?Rr():oi(),p.tokens[p.tokens.length-1].identifierRole=le.ObjectKey,p.tokens[p.tokens.length-1].contextId=e)}function Na(e,t){const r=Vs();p.scopeDepth++;const n=p.tokens.length;Kn(t,r),Ll(e,r);const i=p.tokens.length;p.scopes.push(new vr(n,i,!0)),p.scopeDepth--}function Ys(e){fo(!0);const t=p.tokens.length;p.scopes.push(new vr(e,t,!0)),p.scopeDepth--}function Ll(e,t=0){Ce?bg(e,t):Me?Bv(t):fo(!1,t)}function fo(e,t=0){e&&!b(o.braceL)?At():Kr(!0,t)}function Fl(e,t=!1){let r=!0;for(;!D(e)&&!p.error;){if(r)r=!1;else if(U(o.comma),D(e))break;Nl(t)}}function Nl(e){e&&b(o.comma)||(b(o.ellipsis)?(dl(),hc()):b(o.question)?G():At(!1,!0))}function pe(){G(),p.tokens[p.tokens.length-1].type=o.name}function pv(){lo()}function dv(){G(),!b(o.semi)&&!Ut()&&(D(o.star),At())}function mv(){lt(E._module),U(o.braceL),Li(o.braceR)}function gv(e){return(e.type===o.name||!!(e.type&o.IS_KEYWORD))&&e.contextualKeyword!==E._from}function yr(e){const t=_e(0);U(e||o.colon),Nt(),ke(t)}function R1(){U(o.modulo),lt(E._checks),D(o.parenL)&&(Et(),U(o.parenR))}function mc(){const e=_e(0);U(o.colon),b(o.modulo)?R1():(Nt(),b(o.modulo)&&R1()),ke(e)}function vv(){G(),gc(!0)}function yv(){G(),pe(),b(o.lessThan)&&ir(),U(o.parenL),Ba(),U(o.parenR),mc(),Ze()}function Ma(){b(o._class)?vv():b(o._function)?yv():b(o._var)?kv():vt(E._module)?D(o.dot)?bv():wv():ie(E._type)?xv():ie(E._opaque)?Sv():ie(E._interface)?Tv():b(o._export)?_v():ye()}function kv(){G(),Gl(),Ze()}function wv(){for(b(o.string)?Rr():pe(),U(o.braceL);!b(o.braceR)&&!p.error;)b(o._import)?(G(),Zl()):ye();U(o.braceR)}function _v(){U(o._export),D(o._default)?b(o._function)||b(o._class)?Ma():(Nt(),Ze()):b(o._var)||b(o._function)||b(o._class)||ie(E._opaque)?Ma():b(o.star)||b(o.braceL)||ie(E._interface)||ie(E._type)||ie(E._opaque)?Xl():ye()}function bv(){lt(E._exports),xn(),Ze()}function xv(){G(),yc()}function Sv(){G(),kc(!0)}function Tv(){G(),gc()}function gc(e=!1){if(Oi(),b(o.lessThan)&&ir(),D(o._extends))do $o();while(!e&&D(o.comma));if(ie(E._mixins)){G();do $o();while(D(o.comma))}if(ie(E._implements)){G();do $o();while(D(o.comma))}ii(e,!1,e)}function $o(){Ml(!1),b(o.lessThan)&&gn()}function vc(){gc()}function Oi(){pe()}function yc(){Oi(),b(o.lessThan)&&ir(),yr(o.eq),Ze()}function kc(e){lt(E._type),Oi(),b(o.lessThan)&&ir(),b(o.colon)&&yr(o.colon),e||yr(o.eq),Ze()}function Ev(){bc(),Gl(),D(o.eq)&&Nt()}function ir(){const e=_e(0);b(o.lessThan)||b(o.typeParameterStart)?G():ye();do Ev(),b(o.greaterThan)||U(o.comma);while(!b(o.greaterThan)&&!p.error);U(o.greaterThan),ke(e)}function gn(){const e=_e(0);for(U(o.lessThan);!b(o.greaterThan)&&!p.error;)Nt(),b(o.greaterThan)||U(o.comma);U(o.greaterThan),ke(e)}function Av(){if(lt(E._interface),D(o._extends))do $o();while(D(o.comma));ii(!1,!1,!1)}function wc(){b(o.num)||b(o.string)?Rr():pe()}function Iv(){st()===o.colon?(wc(),yr()):Nt(),U(o.bracketR),yr()}function Cv(){wc(),U(o.bracketR),U(o.bracketR),b(o.lessThan)||b(o.parenL)?_c():(D(o.question),yr())}function _c(){for(b(o.lessThan)&&ir(),U(o.parenL);!b(o.parenR)&&!b(o.ellipsis)&&!p.error;)ai(),b(o.parenR)||U(o.comma);D(o.ellipsis)&&ai(),U(o.parenR),yr()}function Pv(){_c()}function ii(e,t,r){let n;for(t&&b(o.braceBarL)?(U(o.braceBarL),n=o.braceBarR):(U(o.braceL),n=o.braceR);!b(n)&&!p.error;){if(r&&ie(E._proto)){const s=st();s!==o.colon&&s!==o.question&&(G(),e=!1)}if(e&&ie(E._static)){const s=st();s!==o.colon&&s!==o.question&&G()}if(bc(),D(o.bracketL))D(o.bracketL)?Cv():Iv();else if(b(o.parenL)||b(o.lessThan))Pv();else{if(ie(E._get)||ie(E._set)){const s=st();(s===o.name||s===o.string||s===o.num)&&G()}Rv()}Dv()}U(n)}function Rv(){if(b(o.ellipsis)){if(U(o.ellipsis),D(o.comma)||D(o.semi),b(o.braceR))return;Nt()}else wc(),b(o.lessThan)||b(o.parenL)?_c():(D(o.question),yr())}function Dv(){!D(o.semi)&&!D(o.comma)&&!b(o.braceR)&&!b(o.braceBarR)&&ye()}function Ml(e){for(e||pe();D(o.dot);)pe()}function Ov(){Ml(!0),b(o.lessThan)&&gn()}function Lv(){U(o._typeof),Bl()}function Fv(){for(U(o.bracketL);p.pos<X.length&&!b(o.bracketR)&&(Nt(),!b(o.bracketR));)U(o.comma);U(o.bracketR)}function ai(){const e=st();e===o.colon||e===o.question?(pe(),D(o.question),yr()):Nt()}function Ba(){for(;!b(o.parenR)&&!b(o.ellipsis)&&!p.error;)ai(),b(o.parenR)||U(o.comma);D(o.ellipsis)&&ai()}function Bl(){let e=!1;const t=p.noAnonFunctionType;switch(p.type){case o.name:{if(ie(E._interface)){Av();return}pe(),Ov();return}case o.braceL:ii(!1,!1,!1);return;case o.braceBarL:ii(!1,!0,!1);return;case o.bracketL:Fv();return;case o.lessThan:ir(),U(o.parenL),Ba(),U(o.parenR),U(o.arrow),Nt();return;case o.parenL:if(G(),!b(o.parenR)&&!b(o.ellipsis))if(b(o.name)){const r=st();e=r!==o.question&&r!==o.colon}else e=!0;if(e)if(p.noAnonFunctionType=!1,Nt(),p.noAnonFunctionType=t,p.noAnonFunctionType||!(b(o.comma)||b(o.parenR)&&st()===o.arrow)){U(o.parenR);return}else D(o.comma);Ba(),U(o.parenR),U(o.arrow),Nt();return;case o.minus:G(),Hn();return;case o.string:case o.num:case o._true:case o._false:case o._null:case o._this:case o._void:case o.star:G();return;default:if(p.type===o._typeof){Lv();return}else if(p.type&o.IS_KEYWORD){G(),p.tokens[p.tokens.length-1].type=o.name;return}}ye()}function Nv(){for(Bl();!Ut()&&(b(o.bracketL)||b(o.questionDot));)D(o.questionDot),U(o.bracketL),D(o.bracketR)||(Nt(),U(o.bracketR))}function Ul(){D(o.question)?Ul():Nv()}function D1(){Ul(),!p.noAnonFunctionType&&D(o.arrow)&&Nt()}function O1(){for(D(o.bitwiseAND),D1();D(o.bitwiseAND);)D1()}function Mv(){for(D(o.bitwiseOR),O1();D(o.bitwiseOR);)O1()}function Nt(){Mv()}function xn(){yr()}function Gl(){pe(),b(o.colon)&&xn()}function bc(){(b(o.plus)||b(o.minus))&&(G(),p.tokens[p.tokens.length-1].isType=!0)}function Bv(e){b(o.colon)&&mc(),fo(!1,e)}function Uv(e,t,r){if(b(o.questionDot)&&st()===o.lessThan){if(t){r.stop=!0;return}G(),gn(),U(o.parenL),Zr();return}else if(!t&&b(o.lessThan)){const n=p.snapshot();if(gn(),U(o.parenL),Zr(),p.error)p.restoreFromSnapshot(n);else return}lc(e,t,r)}function Gv(){if(b(o.lessThan)){const e=p.snapshot();gn(),p.error&&p.restoreFromSnapshot(e)}}function jv(){if(b(o.name)&&p.contextualKeyword===E._interface){const e=_e(0);return G(),vc(),ke(e),!0}else if(ie(E._enum))return jl(),!0;return!1}function Hv(){return ie(E._enum)?(jl(),!0):!1}function qv(e){if(e===E._declare){if(b(o._class)||b(o.name)||b(o._function)||b(o._var)||b(o._export)){const t=_e(1);Ma(),ke(t)}}else if(b(o.name)){if(e===E._interface){const t=_e(1);vc(),ke(t)}else if(e===E._type){const t=_e(1);yc(),ke(t)}else if(e===E._opaque){const t=_e(1);kc(!1),ke(t)}}Ze()}function Wv(){return ie(E._type)||ie(E._interface)||ie(E._opaque)||ie(E._enum)}function Vv(){return b(o.name)&&(p.contextualKeyword===E._type||p.contextualKeyword===E._interface||p.contextualKeyword===E._opaque||p.contextualKeyword===E._enum)}function zv(){if(ie(E._type)){const e=_e(1);G(),b(o.braceL)?(Sc(),Zs()):yc(),ke(e)}else if(ie(E._opaque)){const e=_e(1);G(),kc(!1),ke(e)}else if(ie(E._interface)){const e=_e(1);G(),vc(),ke(e)}else Ht(!0)}function $v(){return b(o.star)||ie(E._type)&&st()===o.star}function Xv(){if(vt(E._type)){const e=_e(2);Ua(),ke(e)}else Ua()}function Yv(e){if(e&&b(o.lessThan)&&gn(),ie(E._implements)){const t=_e(0);G(),p.tokens[p.tokens.length-1].type=o._implements;do Oi(),b(o.lessThan)&&gn();while(D(o.comma));ke(t)}}function Zv(){b(o.lessThan)&&(ir(),b(o.parenL)||ye())}function Kv(){const e=_e(0);D(o.question),b(o.colon)&&xn(),ke(e)}function Qv(){if(b(o._typeof)||ie(E._type)){const e=ao();(gv(e)||e.type===o.braceL||e.type===o.star)&&G()}}function Jv(){const e=p.contextualKeyword===E._type||p.type===o._typeof;e?G():pe(),ie(E._as)&&!Ja(E._as)?(pe(),e&&!b(o.name)&&!(p.type&o.IS_KEYWORD)||pe()):(e&&(b(o.name)||p.type&o.IS_KEYWORD)&&pe(),vt(E._as)&&pe())}function e0(){if(b(o.lessThan)){const e=_e(0);ir(),ke(e)}}function t0(){b(o.colon)&&xn()}function r0(){if(b(o.colon)){const e=p.noAnonFunctionType;p.noAnonFunctionType=!0,xn(),p.noAnonFunctionType=e}}function n0(e,t){if(b(o.lessThan)){const r=p.snapshot();let n=mr(e,t);if(p.error)p.restoreFromSnapshot(r),p.type=o.typeParameterStart;else return n;const s=_e(0);if(ir(),ke(s),n=mr(e,t),n)return!0;ye()}return mr(e,t)}function s0(){if(b(o.colon)){const e=_e(0),t=p.snapshot(),r=p.noAnonFunctionType;p.noAnonFunctionType=!0,mc(),p.noAnonFunctionType=r,Ut()&&ye(),b(o.arrow)||ye(),p.error&&p.restoreFromSnapshot(t),ke(e)}return D(o.arrow)}function o0(e,t=!1){if(p.tokens[p.tokens.length-1].contextualKeyword===E._async&&b(o.lessThan)){const r=p.snapshot();if(i0()&&!p.error)return;p.restoreFromSnapshot(r)}Rl(e,t)}function i0(){p.scopeDepth++;const e=p.tokens.length;return Kn(),Fa()?(Ys(e),!0):!1}function jl(){lt(E._enum),p.tokens[p.tokens.length-1].type=o._enum,pe(),a0()}function a0(){vt(E._of)&&G(),U(o.braceL),c0(),U(o.braceR)}function c0(){for(;!b(o.braceR)&&!p.error&&!D(o.ellipsis);)u0(),b(o.braceR)||U(o.comma)}function u0(){pe(),D(o.eq)&&G()}function l0(){if(Li(o.eof),p.scopes.push(new vr(0,p.tokens.length,!0)),p.scopeDepth!==0)throw new Error(`Invalid scope depth at end of file: ${p.scopeDepth}`);return new Z0(p.tokens,p.scopes)}function Ht(e){Me&&jv()||(b(o.at)&&xc(),f0(e))}function f0(e){if(Ce&&Ig())return;const t=p.type;switch(t){case o._break:case o._continue:p0();return;case o._debugger:d0();return;case o._do:m0();return;case o._for:g0();return;case o._function:if(st()===o.dot)break;e||ye(),k0();return;case o._class:e||ye(),yn(!0);return;case o._if:w0();return;case o._return:_0();return;case o._switch:b0();return;case o._throw:x0();return;case o._try:T0();return;case o._let:case o._const:e||ye();case o._var:Xo(t!==o._var);return;case o._while:E0();return;case o.braceL:Kr();return;case o.semi:A0();return;case o._export:case o._import:{const s=st();if(s===o.parenL||s===o.dot)break;G(),t===o._import?Zl():Xl();return}case o.name:if(p.contextualKeyword===E._async){const s=p.start,i=p.snapshot();if(G(),b(o._function)&&!Ut()){U(o._function),vn(s,!0);return}else p.restoreFromSnapshot(i)}else if(p.contextualKeyword===E._using&&!$u()&&st()===o.name){Xo(!0);return}else if(Hl()){lt(E._await),Xo(!0);return}}const r=p.tokens.length;Et();let n=null;if(p.tokens.length===r+1){const s=p.tokens[p.tokens.length-1];s.type===o.name&&(n=s.contextualKeyword)}if(n==null){Ze();return}D(o.colon)?I0():C0(n)}function Hl(){if(!ie(E._await))return!1;const e=p.snapshot();return G(),!ie(E._using)||Ot()||(G(),!b(o.name)||Ot())?(p.restoreFromSnapshot(e),!1):(p.restoreFromSnapshot(e),!0)}function xc(){for(;b(o.at);)ql()}function ql(){if(G(),D(o.parenL))Et(),U(o.parenR);else{for(pe();D(o.dot);)pe();h0()}}function h0(){Ce?Hg():Wl()}function Wl(){D(o.parenL)&&Zr()}function p0(){G(),fr()||(pe(),Ze())}function d0(){G(),Ze()}function m0(){G(),Ht(!1),U(o._while),Di(),D(o.semi)}function g0(){p.scopeDepth++;const e=p.tokens.length;y0();const t=p.tokens.length;p.scopes.push(new vr(e,t,!1)),p.scopeDepth--}function v0(){return!(!ie(E._using)||Ja(E._of))}function y0(){G();let e=!1;if(ie(E._await)&&(e=!0,G()),U(o.parenL),b(o.semi)){e&&ye(),ha();return}const t=Hl();if(t||b(o._var)||b(o._let)||b(o._const)||v0()){if(t&&lt(E._await),G(),Vl(!0,p.type!==o._var),b(o._in)||ie(E._of)){L1(e);return}ha();return}if(Et(!0),b(o._in)||ie(E._of)){L1(e);return}e&&ye(),ha()}function k0(){const e=p.start;G(),vn(e,!0)}function w0(){G(),Di(),Ht(!1),D(o._else)&&Ht(!1)}function _0(){G(),fr()||(Et(),Ze())}function b0(){G(),Di(),p.scopeDepth++;const e=p.tokens.length;for(U(o.braceL);!b(o.braceR)&&!p.error;)if(b(o._case)||b(o._default)){const r=b(o._case);G(),r&&Et(),U(o.colon)}else Ht(!0);G();const t=p.tokens.length;p.scopes.push(new vr(e,t,!1)),p.scopeDepth--}function x0(){G(),Et(),Ze()}function S0(){Ci(!0),Ce&&Yn()}function T0(){if(G(),Kr(),b(o._catch)){G();let e=null;if(b(o.parenL)&&(p.scopeDepth++,e=p.tokens.length,U(o.parenL),S0(),U(o.parenR)),Kr(),e!=null){const t=p.tokens.length;p.scopes.push(new vr(e,t,!1)),p.scopeDepth--}}D(o._finally)&&Kr()}function Xo(e){G(),Vl(!1,e),Ze()}function E0(){G(),Di(),Ht(!1)}function A0(){G()}function I0(){Ht(!0)}function C0(e){Ce?Pg(e):Me?qv(e):Ze()}function Kr(e=!1,t=0){const r=p.tokens.length;p.scopeDepth++,U(o.braceL),t&&(p.tokens[p.tokens.length-1].contextId=t),Li(o.braceR),t&&(p.tokens[p.tokens.length-1].contextId=t);const n=p.tokens.length;p.scopes.push(new vr(r,n,e)),p.scopeDepth--}function Li(e){for(;!D(e)&&!p.error;)Ht(!0)}function ha(){U(o.semi),b(o.semi)||Et(),U(o.semi),b(o.parenR)||Et(),U(o.parenR),Ht(!1)}function L1(e){e?vt(E._of):G(),Et(),U(o.parenR),Ht(!1)}function Vl(e,t){for(;;){if(P0(t),D(o.eq)){const r=p.tokens.length-1;At(e),p.tokens[r].rhsEndIndex=p.tokens.length}if(!D(o.comma))break}}function P0(e){Ci(e),Ce?Fg():Me&&t0()}function vn(e,t,r=!1){b(o.star)&&G(),t&&!r&&!b(o.name)&&!b(o._yield)&&ye();let n=null;b(o.name)&&(t||(n=p.tokens.length,p.scopeDepth++),rn(!1));const s=p.tokens.length;p.scopeDepth++,Kn(),Ll(e);const i=p.tokens.length;p.scopes.push(new vr(s,i,!0)),p.scopeDepth--,n!==null&&(p.scopes.push(new vr(n,i,!0)),p.scopeDepth--)}function Kn(e=!1,t=0){Ce?Lg():Me&&e0(),U(o.parenL),t&&(p.tokens[p.tokens.length-1].contextId=t),nc(o.parenR,!1,!1,e,t),t&&(p.tokens[p.tokens.length-1].contextId=t)}function yn(e,t=!1){const r=Vs();G(),p.tokens[p.tokens.length-1].contextId=r,p.tokens[p.tokens.length-1].isExpression=!e;let n=null;e||(n=p.tokens.length,p.scopeDepth++),L0(e,t),F0();const s=p.tokens.length;if(R0(r),!p.error&&(p.tokens[s].contextId=r,p.tokens[p.tokens.length-1].contextId=r,n!==null)){const i=p.tokens.length;p.scopes.push(new vr(n,i,!1)),p.scopeDepth--}}function zl(){return b(o.eq)||b(o.semi)||b(o.braceR)||b(o.bang)||b(o.colon)}function $l(){return b(o.parenL)||b(o.lessThan)}function R0(e){for(U(o.braceL);!D(o.braceR)&&!p.error;){if(D(o.semi))continue;if(b(o.at)){ql();continue}const t=p.start;D0(t,e)}}function D0(e,t){Ce&&sc([E._declare,E._public,E._protected,E._private,E._override]);let r=!1;if(b(o.name)&&p.contextualKeyword===E._static){if(pe(),$l()){Ns(e,!1);return}else if(zl()){Yo();return}if(p.tokens[p.tokens.length-1].type=o._static,r=!0,b(o.braceL)){p.tokens[p.tokens.length-1].contextId=t,Kr();return}}O0(e,r,t)}function O0(e,t,r){if(Ce&&Cg(t))return;if(D(o.star)){Ls(r),Ns(e,!1);return}Ls(r);let n=!1;const s=p.tokens[p.tokens.length-1];s.contextualKeyword===E._constructor&&(n=!0),F1(),$l()?Ns(e,n):zl()?Yo():s.contextualKeyword===E._async&&!fr()?(p.tokens[p.tokens.length-1].type=o._async,b(o.star)&&G(),Ls(r),F1(),Ns(e,!1)):(s.contextualKeyword===E._get||s.contextualKeyword===E._set)&&!(fr()&&b(o.star))?(s.contextualKeyword===E._get?p.tokens[p.tokens.length-1].type=o._get:p.tokens[p.tokens.length-1].type=o._set,Ls(r),Ns(e,!1)):s.contextualKeyword===E._accessor&&!fr()?(Ls(r),Yo()):fr()?Yo():ye()}function Ns(e,t){Ce?bn():Me&&b(o.lessThan)&&ir(),Na(e,t)}function Ls(e){Xs(e)}function F1(){if(Ce){const e=_e(0);D(o.question),ke(e)}}function Yo(){if(Ce?(Qu(o.bang),Yn()):Me&&b(o.colon)&&xn(),b(o.eq)){const e=p.tokens.length;G(),At(),p.tokens[e].rhsEndIndex=p.tokens.length}Ze()}function L0(e,t=!1){Ce&&(!e||t)&&ie(E._implements)||(b(o.name)&&rn(!0),Ce?bn():Me&&b(o.lessThan)&&ir())}function F0(){let e=!1;D(o._extends)?(Pl(),e=!0):e=!1,Ce?Dg(e):Me&&Yv(e)}function Xl(){const e=p.tokens.length-1;Ce&&Sg()||(U0()?G0():B0()?(pe(),b(o.comma)&&st()===o.star?(U(o.comma),U(o.star),lt(E._as),pe()):Yl(),Zs()):D(o._default)?N0():H0()?M0():(Sc(),Zs()),p.tokens[e].rhsEndIndex=p.tokens.length)}function N0(){if(Ce&&Ag()||Me&&Hv())return;const e=p.start;D(o._function)?vn(e,!0,!0):ie(E._async)&&st()===o._function?(vt(E._async),D(o._function),vn(e,!0,!0)):b(o._class)?yn(!0,!0):b(o.at)?(xc(),yn(!0,!0)):(At(),Ze())}function M0(){Ce?Rg():Me?zv():Ht(!0)}function B0(){if(Ce&&Sl())return!1;if(Me&&Vv())return!1;if(b(o.name))return p.contextualKeyword!==E._async;if(!b(o._default))return!1;const e=ec(),t=ao(),r=t.type===o.name&&t.contextualKeyword===E._from;if(t.type===o.comma)return!0;if(r){const n=X.charCodeAt(Ju(e+4));return n===I.quotationMark||n===I.apostrophe}return!1}function Yl(){D(o.comma)&&Sc()}function Zs(){vt(E._from)&&(Rr(),Kl()),Ze()}function U0(){return Me?$v():b(o.star)}function G0(){Me?Xv():Ua()}function Ua(){U(o.star),ie(E._as)?j0():Zs()}function j0(){G(),p.tokens[p.tokens.length-1].type=o._as,pe(),Yl(),Zs()}function H0(){return Ce&&Sl()||Me&&Wv()||p.type===o._var||p.type===o._const||p.type===o._let||p.type===o._function||p.type===o._class||ie(E._async)||b(o.at)}function Sc(){let e=!0;for(U(o.braceL);!D(o.braceR)&&!p.error;){if(e)e=!1;else if(U(o.comma),D(o.braceR))break;q0()}}function q0(){if(Ce){Eg();return}pe(),p.tokens[p.tokens.length-1].identifierRole=le.ExportAccess,vt(E._as)&&pe()}function W0(){const e=p.snapshot();return lt(E._module),vt(E._from)?ie(E._from)?(p.restoreFromSnapshot(e),!0):(p.restoreFromSnapshot(e),!1):b(o.comma)?(p.restoreFromSnapshot(e),!1):(p.restoreFromSnapshot(e),!0)}function V0(){ie(E._module)&&W0()&&G()}function Zl(){if(Ce&&b(o.name)&&st()===o.eq){Oa();return}if(Ce&&ie(E._type)){const e=ao();if(e.type===o.name&&e.contextualKeyword!==E._from){if(lt(E._type),st()===o.eq){Oa();return}}else(e.type===o.star||e.type===o.braceL)&&lt(E._type)}b(o.string)||(V0(),$0(),lt(E._from)),Rr(),Kl(),Ze()}function z0(){return b(o.name)}function N1(){ri()}function $0(){Me&&Qv();let e=!0;if(!(z0()&&(N1(),!D(o.comma)))){if(b(o.star)){G(),lt(E._as),N1();return}for(U(o.braceL);!D(o.braceR)&&!p.error;){if(e)e=!1;else if(D(o.colon)&&ye("ES2015 named imports do not destructure. Use another statement for destructuring after the import."),U(o.comma),D(o.braceR))break;X0()}}}function X0(){if(Ce){Tg();return}if(Me){Jv();return}ri(),ie(E._as)&&(p.tokens[p.tokens.length-1].identifierRole=le.ImportAccess,G(),ri())}function Kl(){(b(o._with)||ie(E._assert)&&!Ot())&&(G(),dc(!1,!1))}function Y0(){return p.pos===0&&X.charCodeAt(0)===I.numberSign&&X.charCodeAt(1)===I.exclamationMark&&rl(2),tl(),l0()}class Z0{constructor(t,r){this.tokens=t,this.scopes=r}}function K0(e,t,r,n){if(n&&r)throw new Error("Cannot combine flow and typescript plugins.");_d(e,t,r,n);const s=Y0();if(p.error)throw yd(p.error);return s}function Q0(e){let t=e.currentIndex(),r=0;const n=e.currentToken();do{const s=e.tokens[t];if(s.isOptionalChainStart&&r++,s.isOptionalChainEnd&&r--,r+=s.numNullishCoalesceStarts,r-=s.numNullishCoalesceEnds,s.contextualKeyword===E._await&&s.identifierRole==null&&s.scopeDepth===n.scopeDepth)return!0;t+=1}while(r>0&&t<e.tokens.length);return!1}class js{__init(){this.resultCode=""}__init2(){this.resultMappings=new Array(this.tokens.length)}__init3(){this.tokenIndex=0}constructor(t,r,n,s,i){this.code=t,this.tokens=r,this.isFlowEnabled=n,this.disableESTransforms=s,this.helperManager=i,js.prototype.__init.call(this),js.prototype.__init2.call(this),js.prototype.__init3.call(this)}snapshot(){return{resultCode:this.resultCode,tokenIndex:this.tokenIndex}}restoreToSnapshot(t){this.resultCode=t.resultCode,this.tokenIndex=t.tokenIndex}dangerouslyGetAndRemoveCodeSinceSnapshot(t){const r=this.resultCode.slice(t.resultCode.length);return this.resultCode=t.resultCode,r}reset(){this.resultCode="",this.resultMappings=new Array(this.tokens.length),this.tokenIndex=0}matchesContextualAtIndex(t,r){return this.matches1AtIndex(t,o.name)&&this.tokens[t].contextualKeyword===r}identifierNameAtIndex(t){return this.identifierNameForToken(this.tokens[t])}identifierNameAtRelativeIndex(t){return this.identifierNameForToken(this.tokenAtRelativeIndex(t))}identifierName(){return this.identifierNameForToken(this.currentToken())}identifierNameForToken(t){return this.code.slice(t.start,t.end)}rawCodeForToken(t){return this.code.slice(t.start,t.end)}stringValueAtIndex(t){return this.stringValueForToken(this.tokens[t])}stringValue(){return this.stringValueForToken(this.currentToken())}stringValueForToken(t){return this.code.slice(t.start+1,t.end-1)}matches1AtIndex(t,r){return this.tokens[t].type===r}matches2AtIndex(t,r,n){return this.tokens[t].type===r&&this.tokens[t+1].type===n}matches3AtIndex(t,r,n,s){return this.tokens[t].type===r&&this.tokens[t+1].type===n&&this.tokens[t+2].type===s}matches1(t){return this.tokens[this.tokenIndex].type===t}matches2(t,r){return this.tokens[this.tokenIndex].type===t&&this.tokens[this.tokenIndex+1].type===r}matches3(t,r,n){return this.tokens[this.tokenIndex].type===t&&this.tokens[this.tokenIndex+1].type===r&&this.tokens[this.tokenIndex+2].type===n}matches4(t,r,n,s){return this.tokens[this.tokenIndex].type===t&&this.tokens[this.tokenIndex+1].type===r&&this.tokens[this.tokenIndex+2].type===n&&this.tokens[this.tokenIndex+3].type===s}matches5(t,r,n,s,i){return this.tokens[this.tokenIndex].type===t&&this.tokens[this.tokenIndex+1].type===r&&this.tokens[this.tokenIndex+2].type===n&&this.tokens[this.tokenIndex+3].type===s&&this.tokens[this.tokenIndex+4].type===i}matchesContextual(t){return this.matchesContextualAtIndex(this.tokenIndex,t)}matchesContextIdAndLabel(t,r){return this.matches1(t)&&this.currentToken().contextId===r}previousWhitespaceAndComments(){let t=this.code.slice(this.tokenIndex>0?this.tokens[this.tokenIndex-1].end:0,this.tokenIndex<this.tokens.length?this.tokens[this.tokenIndex].start:this.code.length);return this.isFlowEnabled&&(t=t.replace(/@flow/g,"")),t}replaceToken(t){this.resultCode+=this.previousWhitespaceAndComments(),this.appendTokenPrefix(),this.resultMappings[this.tokenIndex]=this.resultCode.length,this.resultCode+=t,this.appendTokenSuffix(),this.tokenIndex++}replaceTokenTrimmingLeftWhitespace(t){this.resultCode+=this.previousWhitespaceAndComments().replace(/[^\r\n]/g,""),this.appendTokenPrefix(),this.resultMappings[this.tokenIndex]=this.resultCode.length,this.resultCode+=t,this.appendTokenSuffix(),this.tokenIndex++}removeInitialToken(){this.replaceToken("")}removeToken(){this.replaceTokenTrimmingLeftWhitespace("")}removeBalancedCode(){let t=0;for(;!this.isAtEnd();){if(this.matches1(o.braceL))t++;else if(this.matches1(o.braceR)){if(t===0)return;t--}this.removeToken()}}copyExpectedToken(t){if(this.tokens[this.tokenIndex].type!==t)throw new Error(`Expected token ${t}`);this.copyToken()}copyToken(){this.resultCode+=this.previousWhitespaceAndComments(),this.appendTokenPrefix(),this.resultMappings[this.tokenIndex]=this.resultCode.length,this.resultCode+=this.code.slice(this.tokens[this.tokenIndex].start,this.tokens[this.tokenIndex].end),this.appendTokenSuffix(),this.tokenIndex++}copyTokenWithPrefix(t){this.resultCode+=this.previousWhitespaceAndComments(),this.appendTokenPrefix(),this.resultCode+=t,this.resultMappings[this.tokenIndex]=this.resultCode.length,this.resultCode+=this.code.slice(this.tokens[this.tokenIndex].start,this.tokens[this.tokenIndex].end),this.appendTokenSuffix(),this.tokenIndex++}appendTokenPrefix(){const t=this.currentToken();if((t.numNullishCoalesceStarts||t.isOptionalChainStart)&&(t.isAsyncOperation=Q0(this)),!this.disableESTransforms){if(t.numNullishCoalesceStarts)for(let r=0;r<t.numNullishCoalesceStarts;r++)t.isAsyncOperation?(this.resultCode+="await ",this.resultCode+=this.helperManager.getHelperName("asyncNullishCoalesce")):this.resultCode+=this.helperManager.getHelperName("nullishCoalesce"),this.resultCode+="(";t.isOptionalChainStart&&(t.isAsyncOperation&&(this.resultCode+="await "),this.tokenIndex>0&&this.tokenAtRelativeIndex(-1).type===o._delete?t.isAsyncOperation?this.resultCode+=this.helperManager.getHelperName("asyncOptionalChainDelete"):this.resultCode+=this.helperManager.getHelperName("optionalChainDelete"):t.isAsyncOperation?this.resultCode+=this.helperManager.getHelperName("asyncOptionalChain"):this.resultCode+=this.helperManager.getHelperName("optionalChain"),this.resultCode+="([")}}appendTokenSuffix(){const t=this.currentToken();if(t.isOptionalChainEnd&&!this.disableESTransforms&&(this.resultCode+="])"),t.numNullishCoalesceEnds&&!this.disableESTransforms)for(let r=0;r<t.numNullishCoalesceEnds;r++)this.resultCode+="))"}appendCode(t){this.resultCode+=t}currentToken(){return this.tokens[this.tokenIndex]}currentTokenCode(){const t=this.currentToken();return this.code.slice(t.start,t.end)}tokenAtRelativeIndex(t){return this.tokens[this.tokenIndex+t]}currentIndex(){return this.tokenIndex}nextToken(){if(this.tokenIndex===this.tokens.length)throw new Error("Unexpectedly reached end of input.");this.tokenIndex++}previousToken(){this.tokenIndex--}finish(){if(this.tokenIndex!==this.tokens.length)throw new Error("Tried to finish processing tokens before reaching the end.");return this.resultCode+=this.previousWhitespaceAndComments(),{code:this.resultCode,mappings:this.resultMappings}}isAtEnd(){return this.tokenIndex===this.tokens.length}}function J0(e,t,r,n){const s=t.snapshot(),i=ey(t);let c=[];const l=[],f=[];let d=null;const g=[],w=[],k=t.currentToken().contextId;if(k==null)throw new Error("Expected non-null class context ID on class open-brace.");for(t.nextToken();!t.matchesContextIdAndLabel(o.braceR,k);)if(t.matchesContextual(E._constructor)&&!t.currentToken().isType)({constructorInitializerStatements:c,constructorInsertPos:d}=M1(t));else if(t.matches1(o.semi))n||w.push({start:t.currentIndex(),end:t.currentIndex()+1}),t.nextToken();else if(t.currentToken().isType)t.nextToken();else{const x=t.currentIndex();let A=!1,P=!1,R=!1;for(;ci(t.currentToken());)t.matches1(o._static)&&(A=!0),t.matches1(o.hash)&&(P=!0),(t.matches1(o._declare)||t.matches1(o._abstract))&&(R=!0),t.nextToken();if(A&&t.matches1(o.braceL)){pa(t,k);continue}if(P){pa(t,k);continue}if(t.matchesContextual(E._constructor)&&!t.currentToken().isType){({constructorInitializerStatements:c,constructorInsertPos:d}=M1(t));continue}const L=t.currentIndex();if(ty(t),t.matches1(o.lessThan)||t.matches1(o.parenL)){pa(t,k);continue}for(;t.currentToken().isType;)t.nextToken();if(t.matches1(o.eq)){const F=t.currentIndex(),O=t.currentToken().rhsEndIndex;if(O==null)throw new Error("Expected rhsEndIndex on class field assignment.");for(t.nextToken();t.currentIndex()<O;)e.processToken();let V;A?(V=r.claimFreeName("__initStatic"),f.push(V)):(V=r.claimFreeName("__init"),l.push(V)),g.push({initializerName:V,equalsIndex:F,start:L,end:t.currentIndex()})}else(!n||R)&&w.push({start:x,end:t.currentIndex()})}return t.restoreToSnapshot(s),n?{headerInfo:i,constructorInitializerStatements:c,instanceInitializerNames:[],staticInitializerNames:[],constructorInsertPos:d,fields:[],rangesToRemove:w}:{headerInfo:i,constructorInitializerStatements:c,instanceInitializerNames:l,staticInitializerNames:f,constructorInsertPos:d,fields:g,rangesToRemove:w}}function pa(e,t){for(e.nextToken();e.currentToken().contextId!==t;)e.nextToken();for(;ci(e.tokenAtRelativeIndex(-1));)e.previousToken()}function ey(e){const t=e.currentToken(),r=t.contextId;if(r==null)throw new Error("Expected context ID on class token.");const n=t.isExpression;if(n==null)throw new Error("Expected isExpression on class token.");let s=null,i=!1;for(e.nextToken(),e.matches1(o.name)&&(s=e.identifierName());!e.matchesContextIdAndLabel(o.braceL,r);)e.matches1(o._extends)&&!e.currentToken().isType&&(i=!0),e.nextToken();return{isExpression:n,className:s,hasSuperclass:i}}function M1(e){const t=[];e.nextToken();const r=e.currentToken().contextId;if(r==null)throw new Error("Expected context ID on open-paren starting constructor params.");for(;!e.matchesContextIdAndLabel(o.parenR,r);)if(e.currentToken().contextId===r){if(e.nextToken(),ci(e.currentToken())){for(e.nextToken();ci(e.currentToken());)e.nextToken();const i=e.currentToken();if(i.type!==o.name)throw new Error("Expected identifier after access modifiers in constructor arg.");const c=e.identifierNameForToken(i);t.push(`this.${c} = ${c}`)}}else e.nextToken();for(e.nextToken();e.currentToken().isType;)e.nextToken();let n=e.currentIndex(),s=!1;for(;!e.matchesContextIdAndLabel(o.braceR,r);){if(!s&&e.matches2(o._super,o.parenL)){e.nextToken();const i=e.currentToken().contextId;if(i==null)throw new Error("Expected a context ID on the super call");for(;!e.matchesContextIdAndLabel(o.parenR,i);)e.nextToken();n=e.currentIndex(),s=!0}e.nextToken()}return e.nextToken(),{constructorInitializerStatements:t,constructorInsertPos:n}}function ci(e){return[o._async,o._get,o._set,o.plus,o.minus,o._readonly,o._static,o._public,o._private,o._protected,o._override,o._abstract,o.star,o._declare,o.hash].includes(e.type)}function ty(e){if(e.matches1(o.bracketL)){const r=e.currentToken().contextId;if(r==null)throw new Error("Expected class context ID on computed name open bracket.");for(;!e.matchesContextIdAndLabel(o.bracketR,r);)e.nextToken();e.nextToken()}else e.nextToken()}function Ql(e){if(e.removeInitialToken(),e.removeToken(),e.removeToken(),e.removeToken(),e.matches1(o.parenL))e.removeToken(),e.removeToken(),e.removeToken();else for(;e.matches1(o.dot);)e.removeToken(),e.removeToken()}const Jl={typeDeclarations:new Set,valueDeclarations:new Set};function ef(e){const t=new Set,r=new Set;for(let n=0;n<e.tokens.length;n++){const s=e.tokens[n];s.type===o.name&&Ku(s)&&(s.isType?t.add(e.identifierNameForToken(s)):r.add(e.identifierNameForToken(s)))}return{typeDeclarations:t,valueDeclarations:r}}function tf(e){let t=e.currentIndex();for(;!e.matches1AtIndex(t,o.braceR);)t++;return e.matchesContextualAtIndex(t+1,E._from)&&e.matches1AtIndex(t+2,o.string)}function dn(e){(e.matches2(o._with,o.braceL)||e.matches2(o.name,o.braceL)&&e.matchesContextual(E._assert))&&(e.removeToken(),e.removeToken(),e.removeBalancedCode(),e.removeToken())}function rf(e,t,r,n){if(!e||t)return!1;const s=r.currentToken();if(s.rhsEndIndex==null)throw new Error("Expected non-null rhsEndIndex on export token.");const i=s.rhsEndIndex-r.currentIndex();if(i!==3&&!(i===4&&r.matches1AtIndex(s.rhsEndIndex-1,o.semi)))return!1;const c=r.tokenAtRelativeIndex(2);if(c.type!==o.name)return!1;const l=r.identifierNameForToken(c);return n.typeDeclarations.has(l)&&!n.valueDeclarations.has(l)}class Hs extends or{__init(){this.hadExport=!1}__init2(){this.hadNamedExport=!1}__init3(){this.hadDefaultExport=!1}constructor(t,r,n,s,i,c,l,f,d,g,w,k){super(),this.rootTransformer=t,this.tokens=r,this.importProcessor=n,this.nameManager=s,this.helperManager=i,this.reactHotLoaderTransformer=c,this.enableLegacyBabel5ModuleInterop=l,this.enableLegacyTypeScriptModuleInterop=f,this.isTypeScriptTransformEnabled=d,this.isFlowTransformEnabled=g,this.preserveDynamicImport=w,this.keepUnusedImports=k,Hs.prototype.__init.call(this),Hs.prototype.__init2.call(this),Hs.prototype.__init3.call(this),this.declarationInfo=d?ef(r):Jl}getPrefixCode(){let t="";return this.hadExport&&(t+='Object.defineProperty(exports, "__esModule", {value: true});'),t}getSuffixCode(){return this.enableLegacyBabel5ModuleInterop&&this.hadDefaultExport&&!this.hadNamedExport?`
module.exports = exports.default;
`:""}process(){return this.tokens.matches3(o._import,o.name,o.eq)?this.processImportEquals():this.tokens.matches1(o._import)?(this.processImport(),!0):this.tokens.matches2(o._export,o.eq)?(this.tokens.replaceToken("module.exports"),!0):this.tokens.matches1(o._export)&&!this.tokens.currentToken().isType?(this.hadExport=!0,this.processExport()):this.tokens.matches2(o.name,o.postIncDec)&&this.processPostIncDec()?!0:this.tokens.matches1(o.name)||this.tokens.matches1(o.jsxName)?this.processIdentifier():this.tokens.matches1(o.eq)?this.processAssignment():this.tokens.matches1(o.assign)?this.processComplexAssignment():this.tokens.matches1(o.preIncDec)?this.processPreIncDec():!1}processImportEquals(){const t=this.tokens.identifierNameAtIndex(this.tokens.currentIndex()+1);return this.importProcessor.shouldAutomaticallyElideImportedName(t)?Ql(this.tokens):this.tokens.replaceToken("const"),!0}processImport(){if(this.tokens.matches2(o._import,o.parenL)){if(this.preserveDynamicImport){this.tokens.copyToken();return}const r=this.enableLegacyTypeScriptModuleInterop?"":`${this.helperManager.getHelperName("interopRequireWildcard")}(`;this.tokens.replaceToken(`Promise.resolve().then(() => ${r}require`);const n=this.tokens.currentToken().contextId;if(n==null)throw new Error("Expected context ID on dynamic import invocation.");for(this.tokens.copyToken();!this.tokens.matchesContextIdAndLabel(o.parenR,n);)this.rootTransformer.processToken();this.tokens.replaceToken(r?")))":"))");return}if(this.removeImportAndDetectIfShouldElide())this.tokens.removeToken();else{const r=this.tokens.stringValue();this.tokens.replaceTokenTrimmingLeftWhitespace(this.importProcessor.claimImportCode(r)),this.tokens.appendCode(this.importProcessor.claimImportCode(r))}dn(this.tokens),this.tokens.matches1(o.semi)&&this.tokens.removeToken()}removeImportAndDetectIfShouldElide(){if(this.tokens.removeInitialToken(),this.tokens.matchesContextual(E._type)&&!this.tokens.matches1AtIndex(this.tokens.currentIndex()+1,o.comma)&&!this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+1,E._from))return this.removeRemainingImport(),!0;if(this.tokens.matches1(o.name)||this.tokens.matches1(o.star))return this.removeRemainingImport(),!1;if(this.tokens.matches1(o.string))return!1;let t=!1,r=!1;for(;!this.tokens.matches1(o.string);)(!t&&this.tokens.matches1(o.braceL)||this.tokens.matches1(o.comma))&&(this.tokens.removeToken(),this.tokens.matches1(o.braceR)||(r=!0),(this.tokens.matches2(o.name,o.comma)||this.tokens.matches2(o.name,o.braceR)||this.tokens.matches4(o.name,o.name,o.name,o.comma)||this.tokens.matches4(o.name,o.name,o.name,o.braceR))&&(t=!0)),this.tokens.removeToken();return this.keepUnusedImports?!1:this.isTypeScriptTransformEnabled?!t:this.isFlowTransformEnabled?r&&!t:!1}removeRemainingImport(){for(;!this.tokens.matches1(o.string);)this.tokens.removeToken()}processIdentifier(){const t=this.tokens.currentToken();if(t.shadowsGlobal)return!1;if(t.identifierRole===le.ObjectShorthand)return this.processObjectShorthand();if(t.identifierRole!==le.Access)return!1;const r=this.importProcessor.getIdentifierReplacement(this.tokens.identifierNameForToken(t));if(!r)return!1;let n=this.tokens.currentIndex()+1;for(;n<this.tokens.tokens.length&&this.tokens.tokens[n].type===o.parenR;)n++;return this.tokens.tokens[n].type===o.parenL?this.tokens.tokenAtRelativeIndex(1).type===o.parenL&&this.tokens.tokenAtRelativeIndex(-1).type!==o._new?(this.tokens.replaceToken(`${r}.call(void 0, `),this.tokens.removeToken(),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR)):this.tokens.replaceToken(`(0, ${r})`):this.tokens.replaceToken(r),!0}processObjectShorthand(){const t=this.tokens.identifierName(),r=this.importProcessor.getIdentifierReplacement(t);return r?(this.tokens.replaceToken(`${t}: ${r}`),!0):!1}processExport(){if(this.tokens.matches2(o._export,o._enum)||this.tokens.matches3(o._export,o._const,o._enum))return this.hadNamedExport=!0,!1;if(this.tokens.matches2(o._export,o._default))return this.tokens.matches3(o._export,o._default,o._enum)?(this.hadDefaultExport=!0,!1):(this.processExportDefault(),!0);if(this.tokens.matches2(o._export,o.braceL))return this.processExportBindings(),!0;if(this.tokens.matches2(o._export,o.name)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+1,E._type)){if(this.tokens.removeInitialToken(),this.tokens.removeToken(),this.tokens.matches1(o.braceL)){for(;!this.tokens.matches1(o.braceR);)this.tokens.removeToken();this.tokens.removeToken()}else this.tokens.removeToken(),this.tokens.matches1(o._as)&&(this.tokens.removeToken(),this.tokens.removeToken());return this.tokens.matchesContextual(E._from)&&this.tokens.matches1AtIndex(this.tokens.currentIndex()+1,o.string)&&(this.tokens.removeToken(),this.tokens.removeToken(),dn(this.tokens)),!0}if(this.hadNamedExport=!0,this.tokens.matches2(o._export,o._var)||this.tokens.matches2(o._export,o._let)||this.tokens.matches2(o._export,o._const))return this.processExportVar(),!0;if(this.tokens.matches2(o._export,o._function)||this.tokens.matches3(o._export,o.name,o._function))return this.processExportFunction(),!0;if(this.tokens.matches2(o._export,o._class)||this.tokens.matches3(o._export,o._abstract,o._class)||this.tokens.matches2(o._export,o.at))return this.processExportClass(),!0;if(this.tokens.matches2(o._export,o.star))return this.processExportStar(),!0;throw new Error("Unrecognized export syntax.")}processAssignment(){const t=this.tokens.currentIndex(),r=this.tokens.tokens[t-1];if(r.isType||r.type!==o.name||r.shadowsGlobal||t>=2&&this.tokens.matches1AtIndex(t-2,o.dot)||t>=2&&[o._var,o._let,o._const].includes(this.tokens.tokens[t-2].type))return!1;const n=this.importProcessor.resolveExportBinding(this.tokens.identifierNameForToken(r));return n?(this.tokens.copyToken(),this.tokens.appendCode(` ${n} =`),!0):!1}processComplexAssignment(){const t=this.tokens.currentIndex(),r=this.tokens.tokens[t-1];if(r.type!==o.name||r.shadowsGlobal||t>=2&&this.tokens.matches1AtIndex(t-2,o.dot))return!1;const n=this.importProcessor.resolveExportBinding(this.tokens.identifierNameForToken(r));return n?(this.tokens.appendCode(` = ${n}`),this.tokens.copyToken(),!0):!1}processPreIncDec(){const t=this.tokens.currentIndex(),r=this.tokens.tokens[t+1];if(r.type!==o.name||r.shadowsGlobal||t+2<this.tokens.tokens.length&&(this.tokens.matches1AtIndex(t+2,o.dot)||this.tokens.matches1AtIndex(t+2,o.bracketL)||this.tokens.matches1AtIndex(t+2,o.parenL)))return!1;const n=this.tokens.identifierNameForToken(r),s=this.importProcessor.resolveExportBinding(n);return s?(this.tokens.appendCode(`${s} = `),this.tokens.copyToken(),!0):!1}processPostIncDec(){const t=this.tokens.currentIndex(),r=this.tokens.tokens[t],n=this.tokens.tokens[t+1];if(r.type!==o.name||r.shadowsGlobal||t>=1&&this.tokens.matches1AtIndex(t-1,o.dot))return!1;const s=this.tokens.identifierNameForToken(r),i=this.importProcessor.resolveExportBinding(s);if(!i)return!1;const c=this.tokens.rawCodeForToken(n),l=this.importProcessor.getIdentifierReplacement(s)||s;if(c==="++")this.tokens.replaceToken(`(${l} = ${i} = ${l} + 1, ${l} - 1)`);else if(c==="--")this.tokens.replaceToken(`(${l} = ${i} = ${l} - 1, ${l} + 1)`);else throw new Error(`Unexpected operator: ${c}`);return this.tokens.removeToken(),!0}processExportDefault(){let t=!0;if(this.tokens.matches4(o._export,o._default,o._function,o.name)||this.tokens.matches5(o._export,o._default,o.name,o._function,o.name)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+2,E._async)){this.tokens.removeInitialToken(),this.tokens.removeToken();const r=this.processNamedFunction();this.tokens.appendCode(` exports.default = ${r};`)}else if(this.tokens.matches4(o._export,o._default,o._class,o.name)||this.tokens.matches5(o._export,o._default,o._abstract,o._class,o.name)||this.tokens.matches3(o._export,o._default,o.at)){this.tokens.removeInitialToken(),this.tokens.removeToken(),this.copyDecorators(),this.tokens.matches1(o._abstract)&&this.tokens.removeToken();const r=this.rootTransformer.processNamedClass();this.tokens.appendCode(` exports.default = ${r};`)}else if(rf(this.isTypeScriptTransformEnabled,this.keepUnusedImports,this.tokens,this.declarationInfo))t=!1,this.tokens.removeInitialToken(),this.tokens.removeToken(),this.tokens.removeToken();else if(this.reactHotLoaderTransformer){const r=this.nameManager.claimFreeName("_default");this.tokens.replaceToken(`let ${r}; exports.`),this.tokens.copyToken(),this.tokens.appendCode(` = ${r} =`),this.reactHotLoaderTransformer.setExtractedDefaultExportName(r)}else this.tokens.replaceToken("exports."),this.tokens.copyToken(),this.tokens.appendCode(" =");t&&(this.hadDefaultExport=!0)}copyDecorators(){for(;this.tokens.matches1(o.at);)if(this.tokens.copyToken(),this.tokens.matches1(o.parenL))this.tokens.copyExpectedToken(o.parenL),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR);else{for(this.tokens.copyExpectedToken(o.name);this.tokens.matches1(o.dot);)this.tokens.copyExpectedToken(o.dot),this.tokens.copyExpectedToken(o.name);this.tokens.matches1(o.parenL)&&(this.tokens.copyExpectedToken(o.parenL),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR))}}processExportVar(){this.isSimpleExportVar()?this.processSimpleExportVar():this.processComplexExportVar()}isSimpleExportVar(){let t=this.tokens.currentIndex();if(t++,t++,!this.tokens.matches1AtIndex(t,o.name))return!1;for(t++;t<this.tokens.tokens.length&&this.tokens.tokens[t].isType;)t++;return!!this.tokens.matches1AtIndex(t,o.eq)}processSimpleExportVar(){this.tokens.removeInitialToken(),this.tokens.copyToken();const t=this.tokens.identifierName();for(;!this.tokens.matches1(o.eq);)this.rootTransformer.processToken();const r=this.tokens.currentToken().rhsEndIndex;if(r==null)throw new Error("Expected = token with an end index.");for(;this.tokens.currentIndex()<r;)this.rootTransformer.processToken();this.tokens.appendCode(`; exports.${t} = ${t}`)}processComplexExportVar(){this.tokens.removeInitialToken(),this.tokens.removeToken();const t=this.tokens.matches1(o.braceL);t&&this.tokens.appendCode("(");let r=0;for(;;)if(this.tokens.matches1(o.braceL)||this.tokens.matches1(o.dollarBraceL)||this.tokens.matches1(o.bracketL))r++,this.tokens.copyToken();else if(this.tokens.matches1(o.braceR)||this.tokens.matches1(o.bracketR))r--,this.tokens.copyToken();else{if(r===0&&!this.tokens.matches1(o.name)&&!this.tokens.currentToken().isType)break;if(this.tokens.matches1(o.eq)){const n=this.tokens.currentToken().rhsEndIndex;if(n==null)throw new Error("Expected = token with an end index.");for(;this.tokens.currentIndex()<n;)this.rootTransformer.processToken()}else{const n=this.tokens.currentToken();if(Zu(n)){const s=this.tokens.identifierName();let i=this.importProcessor.getIdentifierReplacement(s);if(i===null)throw new Error(`Expected a replacement for ${s} in \`export var\` syntax.`);Ad(n)&&(i=`${s}: ${i}`),this.tokens.replaceToken(i)}else this.rootTransformer.processToken()}}if(t){const n=this.tokens.currentToken().rhsEndIndex;if(n==null)throw new Error("Expected = token with an end index.");for(;this.tokens.currentIndex()<n;)this.rootTransformer.processToken();this.tokens.appendCode(")")}}processExportFunction(){this.tokens.replaceToken("");const t=this.processNamedFunction();this.tokens.appendCode(` exports.${t} = ${t};`)}processNamedFunction(){if(this.tokens.matches1(o._function))this.tokens.copyToken();else if(this.tokens.matches2(o.name,o._function)){if(!this.tokens.matchesContextual(E._async))throw new Error("Expected async keyword in function export.");this.tokens.copyToken(),this.tokens.copyToken()}if(this.tokens.matches1(o.star)&&this.tokens.copyToken(),!this.tokens.matches1(o.name))throw new Error("Expected identifier for exported function name.");const t=this.tokens.identifierName();if(this.tokens.copyToken(),this.tokens.currentToken().isType)for(this.tokens.removeInitialToken();this.tokens.currentToken().isType;)this.tokens.removeToken();return this.tokens.copyExpectedToken(o.parenL),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR),this.rootTransformer.processPossibleTypeRange(),this.tokens.copyExpectedToken(o.braceL),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.braceR),t}processExportClass(){this.tokens.removeInitialToken(),this.copyDecorators(),this.tokens.matches1(o._abstract)&&this.tokens.removeToken();const t=this.rootTransformer.processNamedClass();this.tokens.appendCode(` exports.${t} = ${t};`)}processExportBindings(){this.tokens.removeInitialToken(),this.tokens.removeToken();const t=tf(this.tokens),r=[];for(;;){if(this.tokens.matches1(o.braceR)){this.tokens.removeToken();break}const n=zs(this.tokens);for(;this.tokens.currentIndex()<n.endIndex;)this.tokens.removeToken();if(!(n.isType||!t&&this.shouldElideExportedIdentifier(n.leftName))){const i=n.rightName;i==="default"?this.hadDefaultExport=!0:this.hadNamedExport=!0;const c=n.leftName,l=this.importProcessor.getIdentifierReplacement(c);r.push(`exports.${i} = ${l||c};`)}if(this.tokens.matches1(o.braceR)){this.tokens.removeToken();break}if(this.tokens.matches2(o.comma,o.braceR)){this.tokens.removeToken(),this.tokens.removeToken();break}else if(this.tokens.matches1(o.comma))this.tokens.removeToken();else throw new Error(`Unexpected token: ${JSON.stringify(this.tokens.currentToken())}`)}if(this.tokens.matchesContextual(E._from)){this.tokens.removeToken();const n=this.tokens.stringValue();this.tokens.replaceTokenTrimmingLeftWhitespace(this.importProcessor.claimImportCode(n)),dn(this.tokens)}else this.tokens.appendCode(r.join(" "));this.tokens.matches1(o.semi)&&this.tokens.removeToken()}processExportStar(){for(this.tokens.removeInitialToken();!this.tokens.matches1(o.string);)this.tokens.removeToken();const t=this.tokens.stringValue();this.tokens.replaceTokenTrimmingLeftWhitespace(this.importProcessor.claimImportCode(t)),dn(this.tokens),this.tokens.matches1(o.semi)&&this.tokens.removeToken()}shouldElideExportedIdentifier(t){return this.isTypeScriptTransformEnabled&&!this.keepUnusedImports&&!this.declarationInfo.valueDeclarations.has(t)}}class ry extends or{constructor(t,r,n,s,i,c,l,f){super(),this.tokens=t,this.nameManager=r,this.helperManager=n,this.reactHotLoaderTransformer=s,this.isTypeScriptTransformEnabled=i,this.isFlowTransformEnabled=c,this.keepUnusedImports=l,this.nonTypeIdentifiers=i&&!l?fl(t,f):new Set,this.declarationInfo=i&&!l?ef(t):Jl,this.injectCreateRequireForImportRequire=!!f.injectCreateRequireForImportRequire}process(){if(this.tokens.matches3(o._import,o.name,o.eq))return this.processImportEquals();if(this.tokens.matches4(o._import,o.name,o.name,o.eq)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+1,E._type)){this.tokens.removeInitialToken();for(let t=0;t<7;t++)this.tokens.removeToken();return!0}if(this.tokens.matches2(o._export,o.eq))return this.tokens.replaceToken("module.exports"),!0;if(this.tokens.matches5(o._export,o._import,o.name,o.name,o.eq)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+2,E._type)){this.tokens.removeInitialToken();for(let t=0;t<8;t++)this.tokens.removeToken();return!0}if(this.tokens.matches1(o._import))return this.processImport();if(this.tokens.matches2(o._export,o._default))return this.processExportDefault();if(this.tokens.matches2(o._export,o.braceL))return this.processNamedExports();if(this.tokens.matches2(o._export,o.name)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+1,E._type)){if(this.tokens.removeInitialToken(),this.tokens.removeToken(),this.tokens.matches1(o.braceL)){for(;!this.tokens.matches1(o.braceR);)this.tokens.removeToken();this.tokens.removeToken()}else this.tokens.removeToken(),this.tokens.matches1(o._as)&&(this.tokens.removeToken(),this.tokens.removeToken());return this.tokens.matchesContextual(E._from)&&this.tokens.matches1AtIndex(this.tokens.currentIndex()+1,o.string)&&(this.tokens.removeToken(),this.tokens.removeToken(),dn(this.tokens)),!0}return!1}processImportEquals(){const t=this.tokens.identifierNameAtIndex(this.tokens.currentIndex()+1);return this.shouldAutomaticallyElideImportedName(t)?Ql(this.tokens):this.injectCreateRequireForImportRequire?(this.tokens.replaceToken("const"),this.tokens.copyToken(),this.tokens.copyToken(),this.tokens.replaceToken(this.helperManager.getHelperName("require"))):this.tokens.replaceToken("const"),!0}processImport(){if(this.tokens.matches2(o._import,o.parenL))return!1;const t=this.tokens.snapshot();if(this.removeImportTypeBindings()){for(this.tokens.restoreToSnapshot(t);!this.tokens.matches1(o.string);)this.tokens.removeToken();this.tokens.removeToken(),dn(this.tokens),this.tokens.matches1(o.semi)&&this.tokens.removeToken()}return!0}removeImportTypeBindings(){if(this.tokens.copyExpectedToken(o._import),this.tokens.matchesContextual(E._type)&&!this.tokens.matches1AtIndex(this.tokens.currentIndex()+1,o.comma)&&!this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+1,E._from))return!0;if(this.tokens.matches1(o.string))return this.tokens.copyToken(),!1;this.tokens.matchesContextual(E._module)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+2,E._from)&&this.tokens.copyToken();let t=!1,r=!1,n=!1;if(this.tokens.matches1(o.name)&&(this.shouldAutomaticallyElideImportedName(this.tokens.identifierName())?(this.tokens.removeToken(),this.tokens.matches1(o.comma)&&this.tokens.removeToken()):(t=!0,this.tokens.copyToken(),this.tokens.matches1(o.comma)&&(n=!0,this.tokens.removeToken()))),this.tokens.matches1(o.star))this.shouldAutomaticallyElideImportedName(this.tokens.identifierNameAtRelativeIndex(2))?(this.tokens.removeToken(),this.tokens.removeToken(),this.tokens.removeToken()):(n&&this.tokens.appendCode(","),t=!0,this.tokens.copyExpectedToken(o.star),this.tokens.copyExpectedToken(o.name),this.tokens.copyExpectedToken(o.name));else if(this.tokens.matches1(o.braceL)){for(n&&this.tokens.appendCode(","),this.tokens.copyToken();!this.tokens.matches1(o.braceR);){r=!0;const s=zs(this.tokens);if(s.isType||this.shouldAutomaticallyElideImportedName(s.rightName)){for(;this.tokens.currentIndex()<s.endIndex;)this.tokens.removeToken();this.tokens.matches1(o.comma)&&this.tokens.removeToken()}else{for(t=!0;this.tokens.currentIndex()<s.endIndex;)this.tokens.copyToken();this.tokens.matches1(o.comma)&&this.tokens.copyToken()}}this.tokens.copyExpectedToken(o.braceR)}return this.keepUnusedImports?!1:this.isTypeScriptTransformEnabled?!t:this.isFlowTransformEnabled?r&&!t:!1}shouldAutomaticallyElideImportedName(t){return this.isTypeScriptTransformEnabled&&!this.keepUnusedImports&&!this.nonTypeIdentifiers.has(t)}processExportDefault(){if(rf(this.isTypeScriptTransformEnabled,this.keepUnusedImports,this.tokens,this.declarationInfo))return this.tokens.removeInitialToken(),this.tokens.removeToken(),this.tokens.removeToken(),!0;if(!(this.tokens.matches4(o._export,o._default,o._function,o.name)||this.tokens.matches5(o._export,o._default,o.name,o._function,o.name)&&this.tokens.matchesContextualAtIndex(this.tokens.currentIndex()+2,E._async)||this.tokens.matches4(o._export,o._default,o._class,o.name)||this.tokens.matches5(o._export,o._default,o._abstract,o._class,o.name))&&this.reactHotLoaderTransformer){const r=this.nameManager.claimFreeName("_default");return this.tokens.replaceToken(`let ${r}; export`),this.tokens.copyToken(),this.tokens.appendCode(` ${r} =`),this.reactHotLoaderTransformer.setExtractedDefaultExportName(r),!0}return!1}processNamedExports(){if(!this.isTypeScriptTransformEnabled)return!1;this.tokens.copyExpectedToken(o._export),this.tokens.copyExpectedToken(o.braceL);const t=tf(this.tokens);let r=!1;for(;!this.tokens.matches1(o.braceR);){const n=zs(this.tokens);if(n.isType||!t&&this.shouldElideExportedName(n.leftName)){for(;this.tokens.currentIndex()<n.endIndex;)this.tokens.removeToken();this.tokens.matches1(o.comma)&&this.tokens.removeToken()}else{for(r=!0;this.tokens.currentIndex()<n.endIndex;)this.tokens.copyToken();this.tokens.matches1(o.comma)&&this.tokens.copyToken()}}return this.tokens.copyExpectedToken(o.braceR),!this.keepUnusedImports&&t&&!r&&(this.tokens.removeToken(),this.tokens.removeToken(),dn(this.tokens)),!0}shouldElideExportedName(t){return this.isTypeScriptTransformEnabled&&!this.keepUnusedImports&&this.declarationInfo.typeDeclarations.has(t)&&!this.declarationInfo.valueDeclarations.has(t)}}class ny extends or{constructor(t,r,n){super(),this.rootTransformer=t,this.tokens=r,this.isImportsTransformEnabled=n}process(){return this.rootTransformer.processPossibleArrowParamEnd()||this.rootTransformer.processPossibleAsyncArrowWithTypeParams()||this.rootTransformer.processPossibleTypeRange()?!0:this.tokens.matches1(o._enum)?(this.processEnum(),!0):this.tokens.matches2(o._export,o._enum)?(this.processNamedExportEnum(),!0):this.tokens.matches3(o._export,o._default,o._enum)?(this.processDefaultExportEnum(),!0):!1}processNamedExportEnum(){if(this.isImportsTransformEnabled){this.tokens.removeInitialToken();const t=this.tokens.identifierNameAtRelativeIndex(1);this.processEnum(),this.tokens.appendCode(` exports.${t} = ${t};`)}else this.tokens.copyToken(),this.processEnum()}processDefaultExportEnum(){this.tokens.removeInitialToken(),this.tokens.removeToken();const t=this.tokens.identifierNameAtRelativeIndex(1);this.processEnum(),this.isImportsTransformEnabled?this.tokens.appendCode(` exports.default = ${t};`):this.tokens.appendCode(` export default ${t};`)}processEnum(){this.tokens.replaceToken("const"),this.tokens.copyExpectedToken(o.name);let t=!1;this.tokens.matchesContextual(E._of)&&(this.tokens.removeToken(),t=this.tokens.matchesContextual(E._symbol),this.tokens.removeToken());const r=this.tokens.matches3(o.braceL,o.name,o.eq);this.tokens.appendCode(' = require("flow-enums-runtime")');const n=!t&&!r;for(this.tokens.replaceTokenTrimmingLeftWhitespace(n?".Mirrored([":"({");!this.tokens.matches1(o.braceR);){if(this.tokens.matches1(o.ellipsis)){this.tokens.removeToken();break}this.processEnumElement(t,r),this.tokens.matches1(o.comma)&&this.tokens.copyToken()}this.tokens.replaceToken(n?"]);":"});")}processEnumElement(t,r){if(t){const n=this.tokens.identifierName();this.tokens.copyToken(),this.tokens.appendCode(`: Symbol("${n}")`)}else r?(this.tokens.copyToken(),this.tokens.replaceTokenTrimmingLeftWhitespace(":"),this.tokens.copyToken()):this.tokens.replaceToken(`"${this.tokens.identifierName()}"`)}}function sy(e){let t,r=e[0],n=1;for(;n<e.length;){const s=e[n],i=e[n+1];if(n+=2,(s==="optionalAccess"||s==="optionalCall")&&r==null)return;s==="access"||s==="optionalAccess"?(t=r,r=i(r)):(s==="call"||s==="optionalCall")&&(r=i((...c)=>r.call(t,...c)),t=void 0)}return r}const Bo="jest",oy=["mock","unmock","enableAutomock","disableAutomock"];class Tc extends or{__init(){this.hoistedFunctionNames=[]}constructor(t,r,n,s){super(),this.rootTransformer=t,this.tokens=r,this.nameManager=n,this.importProcessor=s,Tc.prototype.__init.call(this)}process(){return this.tokens.currentToken().scopeDepth===0&&this.tokens.matches4(o.name,o.dot,o.name,o.parenL)&&this.tokens.identifierName()===Bo?sy([this,"access",t=>t.importProcessor,"optionalAccess",t=>t.getGlobalNames,"call",t=>t(),"optionalAccess",t=>t.has,"call",t=>t(Bo)])?!1:this.extractHoistedCalls():!1}getHoistedCode(){return this.hoistedFunctionNames.length>0?this.hoistedFunctionNames.map(t=>`${t}();`).join(""):""}extractHoistedCalls(){this.tokens.removeToken();let t=!1;for(;this.tokens.matches3(o.dot,o.name,o.parenL);){const r=this.tokens.identifierNameAtIndex(this.tokens.currentIndex()+1);if(oy.includes(r)){const s=this.nameManager.claimFreeName("__jestHoist");this.hoistedFunctionNames.push(s),this.tokens.replaceToken(`function ${s}(){${Bo}.`),this.tokens.copyToken(),this.tokens.copyToken(),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR),this.tokens.appendCode(";}"),t=!1}else t?this.tokens.copyToken():this.tokens.replaceToken(`${Bo}.`),this.tokens.copyToken(),this.tokens.copyToken(),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.parenR),t=!0}return!0}}class iy extends or{constructor(t){super(),this.tokens=t}process(){if(this.tokens.matches1(o.num)){const t=this.tokens.currentTokenCode();if(t.includes("_"))return this.tokens.replaceToken(t.replace(/_/g,"")),!0}return!1}}class ay extends or{constructor(t,r){super(),this.tokens=t,this.nameManager=r}process(){return this.tokens.matches2(o._catch,o.braceL)?(this.tokens.copyToken(),this.tokens.appendCode(` (${this.nameManager.claimFreeName("e")})`),!0):!1}}class cy extends or{constructor(t,r){super(),this.tokens=t,this.nameManager=r}process(){if(this.tokens.matches1(o.nullishCoalescing)){const n=this.tokens.currentToken();return this.tokens.tokens[n.nullishStartIndex].isAsyncOperation?this.tokens.replaceTokenTrimmingLeftWhitespace(", async () => ("):this.tokens.replaceTokenTrimmingLeftWhitespace(", () => ("),!0}if(this.tokens.matches1(o._delete)&&this.tokens.tokenAtRelativeIndex(1).isOptionalChainStart)return this.tokens.removeInitialToken(),!0;const r=this.tokens.currentToken().subscriptStartIndex;if(r!=null&&this.tokens.tokens[r].isOptionalChainStart&&this.tokens.tokenAtRelativeIndex(-1).type!==o._super){const n=this.nameManager.claimFreeName("_");let s;if(r>0&&this.tokens.matches1AtIndex(r-1,o._delete)&&this.isLastSubscriptInChain()?s=`${n} => delete ${n}`:s=`${n} => ${n}`,this.tokens.tokens[r].isAsyncOperation&&(s=`async ${s}`),this.tokens.matches2(o.questionDot,o.parenL)||this.tokens.matches2(o.questionDot,o.lessThan))this.justSkippedSuper()&&this.tokens.appendCode(".bind(this)"),this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'optionalCall', ${s}`);else if(this.tokens.matches2(o.questionDot,o.bracketL))this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'optionalAccess', ${s}`);else if(this.tokens.matches1(o.questionDot))this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'optionalAccess', ${s}.`);else if(this.tokens.matches1(o.dot))this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'access', ${s}.`);else if(this.tokens.matches1(o.bracketL))this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'access', ${s}[`);else if(this.tokens.matches1(o.parenL))this.justSkippedSuper()&&this.tokens.appendCode(".bind(this)"),this.tokens.replaceTokenTrimmingLeftWhitespace(`, 'call', ${s}(`);else throw new Error("Unexpected subscript operator in optional chain.");return!0}return!1}isLastSubscriptInChain(){let t=0;for(let r=this.tokens.currentIndex()+1;;r++){if(r>=this.tokens.tokens.length)throw new Error("Reached the end of the code while finding the end of the access chain.");if(this.tokens.tokens[r].isOptionalChainStart?t++:this.tokens.tokens[r].isOptionalChainEnd&&t--,t<0)return!0;if(t===0&&this.tokens.tokens[r].subscriptStartIndex!=null)return!1}}justSkippedSuper(){let t=0,r=this.tokens.currentIndex()-1;for(;;){if(r<0)throw new Error("Reached the start of the code while finding the start of the access chain.");if(this.tokens.tokens[r].isOptionalChainStart?t--:this.tokens.tokens[r].isOptionalChainEnd&&t++,t<0)return!1;if(t===0&&this.tokens.tokens[r].subscriptStartIndex!=null)return this.tokens.tokens[r-1].type===o._super;r--}}}class uy extends or{constructor(t,r,n,s){super(),this.rootTransformer=t,this.tokens=r,this.importProcessor=n,this.options=s}process(){const t=this.tokens.currentIndex();if(this.tokens.identifierName()==="createReactClass"){const r=this.importProcessor&&this.importProcessor.getIdentifierReplacement("createReactClass");return r?this.tokens.replaceToken(`(0, ${r})`):this.tokens.copyToken(),this.tryProcessCreateClassCall(t),!0}if(this.tokens.matches3(o.name,o.dot,o.name)&&this.tokens.identifierName()==="React"&&this.tokens.identifierNameAtIndex(this.tokens.currentIndex()+2)==="createClass"){const r=this.importProcessor&&this.importProcessor.getIdentifierReplacement("React")||"React";return this.tokens.replaceToken(r),this.tokens.copyToken(),this.tokens.copyToken(),this.tryProcessCreateClassCall(t),!0}return!1}tryProcessCreateClassCall(t){const r=this.findDisplayName(t);r&&this.classNeedsDisplayName()&&(this.tokens.copyExpectedToken(o.parenL),this.tokens.copyExpectedToken(o.braceL),this.tokens.appendCode(`displayName: '${r}',`),this.rootTransformer.processBalancedCode(),this.tokens.copyExpectedToken(o.braceR),this.tokens.copyExpectedToken(o.parenR))}findDisplayName(t){return t<2?null:this.tokens.matches2AtIndex(t-2,o.name,o.eq)?this.tokens.identifierNameAtIndex(t-2):t>=2&&this.tokens.tokens[t-2].identifierRole===le.ObjectKey?this.tokens.identifierNameAtIndex(t-2):this.tokens.matches2AtIndex(t-2,o._export,o._default)?this.getDisplayNameFromFilename():null}getDisplayNameFromFilename(){const r=(this.options.filePath||"unknown").split("/"),n=r[r.length-1],s=n.lastIndexOf("."),i=s===-1?n:n.slice(0,s);return i==="index"&&r[r.length-2]?r[r.length-2]:i}classNeedsDisplayName(){let t=this.tokens.currentIndex();if(!this.tokens.matches2(o.parenL,o.braceL))return!1;const r=t+1,n=this.tokens.tokens[r].contextId;if(n==null)throw new Error("Expected non-null context ID on object open-brace.");for(;t<this.tokens.tokens.length;t++){const s=this.tokens.tokens[t];if(s.type===o.braceR&&s.contextId===n){t++;break}if(this.tokens.identifierNameAtIndex(t)==="displayName"&&this.tokens.tokens[t].identifierRole===le.ObjectKey&&s.contextId===n)return!1}if(t===this.tokens.tokens.length)throw new Error("Unexpected end of input when processing React class.");return this.tokens.matches1AtIndex(t,o.parenR)||this.tokens.matches2AtIndex(t,o.comma,o.parenR)}}class Ec extends or{__init(){this.extractedDefaultExportName=null}constructor(t,r){super(),this.tokens=t,this.filePath=r,Ec.prototype.__init.call(this)}setExtractedDefaultExportName(t){this.extractedDefaultExportName=t}getPrefixCode(){return`
      (function () {
        var enterModule = require('react-hot-loader').enterModule;
        enterModule && enterModule(module);
      })();`.replace(/\s+/g," ").trim()}getSuffixCode(){const t=new Set;for(const n of this.tokens.tokens)!n.isType&&Ku(n)&&n.identifierRole!==le.ImportDeclaration&&t.add(this.tokens.identifierNameForToken(n));const r=Array.from(t).map(n=>({variableName:n,uniqueLocalName:n}));return this.extractedDefaultExportName&&r.push({variableName:this.extractedDefaultExportName,uniqueLocalName:"default"}),`
;(function () {
  var reactHotLoader = require('react-hot-loader').default;
  var leaveModule = require('react-hot-loader').leaveModule;
  if (!reactHotLoader) {
    return;
  }
${r.map(({variableName:n,uniqueLocalName:s})=>`  reactHotLoader.register(${n}, "${s}", ${JSON.stringify(this.filePath||"")});`).join(`
`)}
  leaveModule(module);
})();`}process(){return!1}}const ly=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","yield","enum","implements","interface","let","package","private","protected","public","static","await","false","null","true"]);function B1(e){if(e.length===0||!io[e.charCodeAt(0)])return!1;for(let t=1;t<e.length;t++)if(!rr[e.charCodeAt(t)])return!1;return!ly.has(e)}class fy extends or{constructor(t,r,n){super(),this.rootTransformer=t,this.tokens=r,this.isImportsTransformEnabled=n}process(){return this.rootTransformer.processPossibleArrowParamEnd()||this.rootTransformer.processPossibleAsyncArrowWithTypeParams()||this.rootTransformer.processPossibleTypeRange()?!0:this.tokens.matches1(o._public)||this.tokens.matches1(o._protected)||this.tokens.matches1(o._private)||this.tokens.matches1(o._abstract)||this.tokens.matches1(o._readonly)||this.tokens.matches1(o._override)||this.tokens.matches1(o.nonNullAssertion)?(this.tokens.removeInitialToken(),!0):this.tokens.matches1(o._enum)||this.tokens.matches2(o._const,o._enum)?(this.processEnum(),!0):this.tokens.matches2(o._export,o._enum)||this.tokens.matches3(o._export,o._const,o._enum)?(this.processEnum(!0),!0):!1}processEnum(t=!1){for(this.tokens.removeInitialToken();this.tokens.matches1(o._const)||this.tokens.matches1(o._enum);)this.tokens.removeToken();const r=this.tokens.identifierName();this.tokens.removeToken(),t&&!this.isImportsTransformEnabled&&this.tokens.appendCode("export "),this.tokens.appendCode(`var ${r}; (function (${r})`),this.tokens.copyExpectedToken(o.braceL),this.processEnumBody(r),this.tokens.copyExpectedToken(o.braceR),t&&this.isImportsTransformEnabled?this.tokens.appendCode(`)(${r} || (exports.${r} = ${r} = {}));`):this.tokens.appendCode(`)(${r} || (${r} = {}));`)}processEnumBody(t){let r=null;for(;!this.tokens.matches1(o.braceR);){const{nameStringCode:n,variableName:s}=this.extractEnumKeyInfo(this.tokens.currentToken());this.tokens.removeInitialToken(),this.tokens.matches3(o.eq,o.string,o.comma)||this.tokens.matches3(o.eq,o.string,o.braceR)?this.processStringLiteralEnumMember(t,n,s):this.tokens.matches1(o.eq)?this.processExplicitValueEnumMember(t,n,s):this.processImplicitValueEnumMember(t,n,s,r),this.tokens.matches1(o.comma)&&this.tokens.removeToken(),s!=null?r=s:r=`${t}[${n}]`}}extractEnumKeyInfo(t){if(t.type===o.name){const r=this.tokens.identifierNameForToken(t);return{nameStringCode:`"${r}"`,variableName:B1(r)?r:null}}else if(t.type===o.string){const r=this.tokens.stringValueForToken(t);return{nameStringCode:this.tokens.code.slice(t.start,t.end),variableName:B1(r)?r:null}}else throw new Error("Expected name or string at beginning of enum element.")}processStringLiteralEnumMember(t,r,n){n!=null?(this.tokens.appendCode(`const ${n}`),this.tokens.copyToken(),this.tokens.copyToken(),this.tokens.appendCode(`; ${t}[${r}] = ${n};`)):(this.tokens.appendCode(`${t}[${r}]`),this.tokens.copyToken(),this.tokens.copyToken(),this.tokens.appendCode(";"))}processExplicitValueEnumMember(t,r,n){const s=this.tokens.currentToken().rhsEndIndex;if(s==null)throw new Error("Expected rhsEndIndex on enum assign.");if(n!=null){for(this.tokens.appendCode(`const ${n}`),this.tokens.copyToken();this.tokens.currentIndex()<s;)this.rootTransformer.processToken();this.tokens.appendCode(`; ${t}[${t}[${r}] = ${n}] = ${r};`)}else{for(this.tokens.appendCode(`${t}[${t}[${r}]`),this.tokens.copyToken();this.tokens.currentIndex()<s;)this.rootTransformer.processToken();this.tokens.appendCode(`] = ${r};`)}}processImplicitValueEnumMember(t,r,n,s){let i=s!=null?`${s} + 1`:"0";n!=null&&(this.tokens.appendCode(`const ${n} = ${i}; `),i=n),this.tokens.appendCode(`${t}[${t}[${r}] = ${i}] = ${r};`)}}class ui{__init(){this.transformers=[]}__init2(){this.generatedVariables=[]}constructor(t,r,n,s){ui.prototype.__init.call(this),ui.prototype.__init2.call(this),this.nameManager=t.nameManager,this.helperManager=t.helperManager;const{tokenProcessor:i,importProcessor:c}=t;this.tokens=i,this.isImportsTransformEnabled=r.includes("imports"),this.isReactHotLoaderTransformEnabled=r.includes("react-hot-loader"),this.disableESTransforms=!!s.disableESTransforms,s.disableESTransforms||(this.transformers.push(new cy(i,this.nameManager)),this.transformers.push(new iy(i)),this.transformers.push(new ay(i,this.nameManager))),r.includes("jsx")&&(s.jsxRuntime!=="preserve"&&this.transformers.push(new fn(this,i,c,this.nameManager,s)),this.transformers.push(new uy(this,i,c,s)));let l=null;if(r.includes("react-hot-loader")){if(!s.filePath)throw new Error("filePath is required when using the react-hot-loader transform.");l=new Ec(i,s.filePath),this.transformers.push(l)}if(r.includes("imports")){if(c===null)throw new Error("Expected non-null importProcessor with imports transform enabled.");this.transformers.push(new Hs(this,i,c,this.nameManager,this.helperManager,l,n,!!s.enableLegacyTypeScriptModuleInterop,r.includes("typescript"),r.includes("flow"),!!s.preserveDynamicImport,!!s.keepUnusedImports))}else this.transformers.push(new ry(i,this.nameManager,this.helperManager,l,r.includes("typescript"),r.includes("flow"),!!s.keepUnusedImports,s));r.includes("flow")&&this.transformers.push(new ny(this,i,r.includes("imports"))),r.includes("typescript")&&this.transformers.push(new fy(this,i,r.includes("imports"))),r.includes("jest")&&this.transformers.push(new Tc(this,i,this.nameManager,c))}transform(){this.tokens.reset(),this.processBalancedCode();let r=this.isImportsTransformEnabled?'"use strict";':"";for(const c of this.transformers)r+=c.getPrefixCode();r+=this.helperManager.emitHelpers(),r+=this.generatedVariables.map(c=>` var ${c};`).join("");for(const c of this.transformers)r+=c.getHoistedCode();let n="";for(const c of this.transformers)n+=c.getSuffixCode();const s=this.tokens.finish();let{code:i}=s;if(i.startsWith("#!")){let c=i.indexOf(`
`);return c===-1&&(c=i.length,i+=`
`),{code:i.slice(0,c+1)+r+i.slice(c+1)+n,mappings:this.shiftMappings(s.mappings,r.length)}}else return{code:r+i+n,mappings:this.shiftMappings(s.mappings,r.length)}}processBalancedCode(){let t=0,r=0;for(;!this.tokens.isAtEnd();){if(this.tokens.matches1(o.braceL)||this.tokens.matches1(o.dollarBraceL))t++;else if(this.tokens.matches1(o.braceR)){if(t===0)return;t--}if(this.tokens.matches1(o.parenL))r++;else if(this.tokens.matches1(o.parenR)){if(r===0)return;r--}this.processToken()}}processToken(){if(this.tokens.matches1(o._class)){this.processClass();return}for(const t of this.transformers)if(t.process())return;this.tokens.copyToken()}processNamedClass(){if(!this.tokens.matches2(o._class,o.name))throw new Error("Expected identifier for exported class name.");const t=this.tokens.identifierNameAtIndex(this.tokens.currentIndex()+1);return this.processClass(),t}processClass(){const t=J0(this,this.tokens,this.nameManager,this.disableESTransforms),r=(t.headerInfo.isExpression||!t.headerInfo.className)&&t.staticInitializerNames.length+t.instanceInitializerNames.length>0;let n=t.headerInfo.className;r&&(n=this.nameManager.claimFreeName("_class"),this.generatedVariables.push(n),this.tokens.appendCode(` (${n} =`));const i=this.tokens.currentToken().contextId;if(i==null)throw new Error("Expected class to have a context ID.");for(this.tokens.copyExpectedToken(o._class);!this.tokens.matchesContextIdAndLabel(o.braceL,i);)this.processToken();this.processClassBody(t,n);const c=t.staticInitializerNames.map(l=>`${n}.${l}()`);r?this.tokens.appendCode(`, ${c.map(l=>`${l}, `).join("")}${n})`):t.staticInitializerNames.length>0&&this.tokens.appendCode(` ${c.map(l=>`${l};`).join(" ")}`)}processClassBody(t,r){const{headerInfo:n,constructorInsertPos:s,constructorInitializerStatements:i,fields:c,instanceInitializerNames:l,rangesToRemove:f}=t;let d=0,g=0;const w=this.tokens.currentToken().contextId;if(w==null)throw new Error("Expected non-null context ID on class.");this.tokens.copyExpectedToken(o.braceL),this.isReactHotLoaderTransformEnabled&&this.tokens.appendCode("__reactstandin__regenerateByEval(key, code) {this[key] = eval(code);}");const k=i.length+l.length>0;if(s===null&&k){const x=this.makeConstructorInitCode(i,l,r);if(n.hasSuperclass){const A=this.nameManager.claimFreeName("args");this.tokens.appendCode(`constructor(...${A}) { super(...${A}); ${x}; }`)}else this.tokens.appendCode(`constructor() { ${x}; }`)}for(;!this.tokens.matchesContextIdAndLabel(o.braceR,w);)if(d<c.length&&this.tokens.currentIndex()===c[d].start){let x=!1;for(this.tokens.matches1(o.bracketL)?this.tokens.copyTokenWithPrefix(`${c[d].initializerName}() {this`):this.tokens.matches1(o.string)||this.tokens.matches1(o.num)?(this.tokens.copyTokenWithPrefix(`${c[d].initializerName}() {this[`),x=!0):this.tokens.copyTokenWithPrefix(`${c[d].initializerName}() {this.`);this.tokens.currentIndex()<c[d].end;)x&&this.tokens.currentIndex()===c[d].equalsIndex&&this.tokens.appendCode("]"),this.processToken();this.tokens.appendCode("}"),d++}else if(g<f.length&&this.tokens.currentIndex()>=f[g].start){for(this.tokens.currentIndex()<f[g].end&&this.tokens.removeInitialToken();this.tokens.currentIndex()<f[g].end;)this.tokens.removeToken();g++}else this.tokens.currentIndex()===s?(this.tokens.copyToken(),k&&this.tokens.appendCode(`;${this.makeConstructorInitCode(i,l,r)};`),this.processToken()):this.processToken();this.tokens.copyExpectedToken(o.braceR)}makeConstructorInitCode(t,r,n){return[...t,...r.map(s=>`${n}.prototype.${s}.call(this)`)].join(";")}processPossibleArrowParamEnd(){if(this.tokens.matches2(o.parenR,o.colon)&&this.tokens.tokenAtRelativeIndex(1).isType){let t=this.tokens.currentIndex()+1;for(;this.tokens.tokens[t].isType;)t++;if(this.tokens.matches1AtIndex(t,o.arrow)){for(this.tokens.removeInitialToken();this.tokens.currentIndex()<t;)this.tokens.removeToken();return this.tokens.replaceTokenTrimmingLeftWhitespace(") =>"),!0}}return!1}processPossibleAsyncArrowWithTypeParams(){if(!this.tokens.matchesContextual(E._async)&&!this.tokens.matches1(o._async))return!1;const t=this.tokens.tokenAtRelativeIndex(1);if(t.type!==o.lessThan||!t.isType)return!1;let r=this.tokens.currentIndex()+1;for(;this.tokens.tokens[r].isType;)r++;if(this.tokens.matches1AtIndex(r,o.parenL)){for(this.tokens.replaceToken("async ("),this.tokens.removeInitialToken();this.tokens.currentIndex()<r;)this.tokens.removeToken();return this.tokens.removeToken(),this.processBalancedCode(),this.processToken(),!0}return!1}processPossibleTypeRange(){if(this.tokens.currentToken().isType){for(this.tokens.removeInitialToken();this.tokens.currentToken().isType;)this.tokens.removeToken();return!0}return!1}shiftMappings(t,r){for(let n=0;n<t.length;n++){const s=t[n];s!==void 0&&(t[n]=s+r)}return t}}var da={},U1;function hy(){return U1||(U1=1,(function(e){e.__esModule=!0,e.LinesAndColumns=void 0;var t=`
`,r="\r",n=(function(){function s(i){this.string=i;for(var c=[0],l=0;l<i.length;)switch(i[l]){case t:l+=t.length,c.push(l);break;case r:l+=r.length,i[l]===t&&(l+=t.length),c.push(l);break;default:l++;break}this.offsets=c}return s.prototype.locationForIndex=function(i){if(i<0||i>this.string.length)return null;for(var c=0,l=this.offsets;l[c+1]<=i;)c++;var f=i-l[c];return{line:c,column:f}},s.prototype.indexForLocation=function(i){var c=i.line,l=i.column;return c<0||c>=this.offsets.length||l<0||l>this.lengthOfLine(c)?null:this.offsets[c]+l},s.prototype.lengthOfLine=function(i){var c=this.offsets[i],l=i===this.offsets.length-1?this.string.length:this.offsets[i+1];return l-c},s})();e.LinesAndColumns=n,e.default=n})(da)),da}hy();function py(e){const t=new Set;for(let r=0;r<e.tokens.length;r++)e.matches1AtIndex(r,o._import)&&!e.matches3AtIndex(r,o._import,o.name,o.eq)&&dy(e,r,t);return t}function dy(e,t,r){t++,!e.matches1AtIndex(t,o.parenL)&&(e.matches1AtIndex(t,o.name)&&(r.add(e.identifierNameAtIndex(t)),t++,e.matches1AtIndex(t,o.comma)&&t++),e.matches1AtIndex(t,o.star)&&(t+=2,r.add(e.identifierNameAtIndex(t)),t++),e.matches1AtIndex(t,o.braceL)&&(t++,my(e,t,r)))}function my(e,t,r){for(;;){if(e.matches1AtIndex(t,o.braceR))return;const n=zs(e,t);if(t=n.endIndex,n.isType||r.add(n.rightName),e.matches2AtIndex(t,o.comma,o.braceR))return;if(e.matches1AtIndex(t,o.braceR))return;if(e.matches1AtIndex(t,o.comma))t++;else throw new Error(`Unexpected token: ${JSON.stringify(e.tokens[t])}`)}}function Nx(e,t){Dm(t);try{const r=gy(e,t),s=new ui(r,t.transforms,!!t.enableLegacyBabel5ModuleInterop,t).transform();let i={code:s.code};if(t.sourceMapOptions){if(!t.filePath)throw new Error("filePath must be specified when generating a source map.");i={...i,sourceMap:wm(s,t.filePath,t.sourceMapOptions,e,r.tokenProcessor.tokens)}}return i}catch(r){throw t.filePath&&(r.message=`Error transforming ${t.filePath}: ${r.message}`),r}}function gy(e,t){const r=t.transforms.includes("jsx"),n=t.transforms.includes("typescript"),s=t.transforms.includes("flow"),i=t.disableESTransforms===!0,c=K0(e,r,n,s),l=c.tokens,f=c.scopes,d=new tc(e,l),g=new ti(d),w=new js(e,l,s,i,g),k=!!t.enableLegacyTypeScriptModuleInterop;let x=null;return t.transforms.includes("imports")?(x=new hn(d,w,k,t,t.transforms.includes("typescript"),!!t.keepUnusedImports,g),x.preprocessTokens(),w1(w,f,x.getGlobalNames()),t.transforms.includes("typescript")&&!t.keepUnusedImports&&x.pruneTypeOnlyImports()):t.transforms.includes("typescript")&&!t.keepUnusedImports&&w1(w,f,py(w)),{tokenProcessor:w,scopes:f,nameManager:d,importProcessor:x,helperManager:g}}const Ga={library:null},Mx=e=>{Ga.library=e},J=()=>{if(!Ga.library)throw new Error("oppencascade has not been loaded");return Ga.library};globalThis.FinalizationRegistry||(console.log("Garbage collection will not work"),globalThis.FinalizationRegistry=()=>({register:()=>null,unregister:()=>null}));const Ms=new globalThis.FinalizationRegistry(e=>{try{e.delete()}catch(t){console.error(t)}});class ar{constructor(t){this.oc=J(),t&&Ms.register(this,t,t),this._wrapped=t}get wrapped(){if(this._wrapped===null)throw new Error("This object has been deleted");return this._wrapped}set wrapped(t){this._wrapped&&(Ms.unregister(this._wrapped),this._wrapped.delete()),Ms.register(this,t,t),this._wrapped=t}delete(){var t;Ms.unregister(this.wrapped),(t=this.wrapped)==null||t.delete(),this._wrapped=null}}const rt=()=>{function e(t){return Ms.register(e,t),t}return e},yt=e=>{const t=new Set;return[r=>(t.add(r),r),()=>{[...t.values()].forEach(r=>r.delete()),t.clear()},void 0]},nf=2147483647,Gt=Math.PI/180,Un=180/Math.PI,ma=e=>Math.round(e*1e3)/1e3,Ks=(e,t,r)=>{const n=J(),s=Xt(e),i=qn(t);let c;if(r){const l=qn(r);c=new n.gp_Ax3_3(s,i,l),l.delete()}else c=new n.gp_Ax3_4(s,i);return s.delete(),i.delete(),c},sf=(e,t,r)=>{const n=J(),s=Xt(e),i=qn(t);let c;if(r){const l=qn(r);c=new n.gp_Ax2_2(s,i,l),l.delete()}else c=new n.gp_Ax2_3(s,i);return s.delete(),i.delete(),c},of=(e,t)=>{const r=J(),n=Xt(e),s=qn(t),i=new r.gp_Ax1_2(n,s);return n.delete(),s.delete(),i},vy=(e=[0,0,0])=>{const t=J();if(Array.isArray(e)){if(e.length===3)return new t.gp_Vec_4(...e);if(e.length===2)return new t.gp_Vec_4(...e,0)}else{if(e instanceof Te)return new t.gp_Vec_3(e.wrapped.XYZ());if(e.XYZ)return new t.gp_Vec_3(e.XYZ())}return new t.gp_Vec_4(0,0,0)};class Te extends ar{constructor(t=[0,0,0]){super(vy(t))}get repr(){return`x: ${ma(this.x)}, y: ${ma(this.y)}, z: ${ma(this.z)}`}get x(){return this.wrapped.X()}get y(){return this.wrapped.Y()}get z(){return this.wrapped.Z()}get Length(){return this.wrapped.Magnitude()}toTuple(){return[this.x,this.y,this.z]}cross(t){return new Te(this.wrapped.Crossed(t.wrapped))}dot(t){return this.wrapped.Dot(t.wrapped)}sub(t){return new Te(this.wrapped.Subtracted(t.wrapped))}add(t){return new Te(this.wrapped.Added(t.wrapped))}multiply(t){return new Te(this.wrapped.Multiplied(t))}normalized(){return new Te(this.wrapped.Normalized())}normalize(){return this.wrapped.Normalize(),this}getCenter(){return this}getAngle(t){return this.wrapped.Angle(t.wrapped)*Un}projectToPlane(t){const r=t.origin,n=t.zDir,s=this.sub(r),i=n.multiply(s.dot(n)/n.Length**2),c=this.sub(i);return s.delete(),i.delete(),c}equals(t){return this.wrapped.IsEqual(t.wrapped,1e-5,1e-5)}toPnt(){return new this.oc.gp_Pnt_2(this.wrapped.XYZ())}toDir(){return new this.oc.gp_Dir_3(this.wrapped.XYZ())}rotate(t,r=[0,0,0],n=[0,0,1]){const s=of(r,n);return this.wrapped.Rotate(s,t*Gt),s.delete(),this}}const yy={X:[1,0,0],Y:[0,1,0],Z:[0,0,1]};function ky(e){return e==="X"||e==="Y"||e==="Z"?yy[e]:e}function Xt(e){const t=new Te(e),r=t.toPnt();return t.delete(),r}function qn(e){const t=new Te(e),r=t.toDir();return t.delete(),r}class Wn extends ar{constructor(t){const r=J();super(t||new r.gp_Trsf_1)}translate(t,r=0,n=0){const s=new Te(typeof t=="number"?[t,r,n]:t);return this.wrapped.SetTranslation_1(s.wrapped),this}rotate(t,r=[0,0,0],n=[0,0,1]){const s=qn(n),i=Xt(r),c=new this.oc.gp_Ax1_2(i,s);return this.wrapped.SetRotation_1(c,t*Gt),c.delete(),s.delete(),i.delete(),this}mirror(t="YZ",r){const n=rt();let s,i;if(typeof t=="string"){const l=n(af(t,r));s=l.origin,i=l.zDir}else t instanceof jt?(s=r||t.origin,i=t.zDir):(s=r||[0,0,0],i=t);const c=n(sf(s,i));return this.wrapped.SetMirror_3(c),this}scale(t,r){const n=Xt(t);return this.wrapped.SetScale(n,r),n.delete(),this}coordSystemChange(t,r){const n=rt(),s=n(t==="reference"?new this.oc.gp_Ax3_1:Ks(t.origin,t.zDir,t.xDir)),i=n(r==="reference"?new this.oc.gp_Ax3_1:Ks(r.origin,r.zDir,r.xDir));return this.wrapped.SetTransformation_1(s,i),this}transformPoint(t){const r=Xt(t),n=r.Transformed(this.wrapped);return r.delete(),n}transform(t){return new this.oc.BRepBuilderAPI_Transform_2(t,this.wrapped,!0).ModifiedShape(t)}}class jt{constructor(t,r=null,n=[0,0,1]){this.oc=J();const s=new Te(n);if(s.Length===0)throw new Error("normal should be non null");this.zDir=s.normalize();let i;if(r)i=new Te(r);else{const c=Ks(t,s);i=new Te(c.XDirection()),c.delete()}if(i.Length===0)throw new Error("xDir should be non null");this.xDir=i.normalize(),this.yDir=this.zDir.cross(this.xDir).normalize(),this.origin=new Te(t)}delete(){this.localToGlobal.delete(),this.xDir.delete(),this.yDir.delete(),this.zDir.delete(),this._origin.delete()}clone(){return new jt(this.origin,this.xDir,this.zDir)}get origin(){return this._origin}set origin(t){this._origin=t,this._calcTransforms()}translateTo(t){const r=this.clone();return r.origin=new Te(t),r}translate(t,r=0,n=0){const s=new Te(typeof t=="number"?[t,r,n]:t);return this.translateTo(this.origin.add(s))}translateX(t){return this.translate(t,0,0)}translateY(t){return this.translate(0,t,0)}translateZ(t){return this.translate(0,0,t)}pivot(t,r=[1,0,0]){const n=ky(r),s=new Te(this.zDir).rotate(t,[0,0,0],n),i=new Te(this.xDir).rotate(t,[0,0,0],n);return new jt(this.origin,i,s)}rotate2DAxes(t){const r=new Te(this.xDir).rotate(t,[0,0,0],this.zDir);return new jt(this.origin,r,this.zDir)}_calcTransforms(){const t=new this.oc.gp_Ax3_1,r=Ks(this.origin,this.zDir,this.xDir);new this.oc.gp_Trsf_1().SetTransformation_1(t,r),this.globalToLocal=new Wn,this.globalToLocal.coordSystemChange("reference",{origin:this.origin,zDir:this.zDir,xDir:this.xDir}),this.localToGlobal=new Wn,this.localToGlobal.coordSystemChange({origin:this.origin,zDir:this.zDir,xDir:this.xDir},"reference")}setOrigin2d(t,r){this.origin=this.toWorldCoords([t,r])}toLocalCoords(t){const r=this.globalToLocal.transformPoint(t),n=new Te(r);return r.delete(),n}toWorldCoords(t){const r=this.localToGlobal.transformPoint(t),n=new Te(r);return r.delete(),n}}const wy={XY:{xDir:[1,0,0],normal:[0,0,1]},YZ:{xDir:[0,1,0],normal:[1,0,0]},ZX:{xDir:[0,0,1],normal:[0,1,0]},XZ:{xDir:[1,0,0],normal:[0,-1,0]},YX:{xDir:[0,1,0],normal:[0,0,-1]},ZY:{xDir:[0,0,1],normal:[-1,0,0]},front:{xDir:[1,0,0],normal:[0,0,1]},back:{xDir:[-1,0,0],normal:[0,0,-1]},left:{xDir:[0,0,1],normal:[-1,0,0]},right:{xDir:[0,0,-1],normal:[1,0,0]},top:{xDir:[1,0,0],normal:[0,1,0]},bottom:{xDir:[1,0,0],normal:[0,-1,0]}},af=(e,t=[0,0,0])=>{const r=wy[e];if(!r)throw new Error(`Could not find plane ${e}`);let n;return typeof t=="number"?n=r.normal.map(s=>s*t):n=t,new jt(n,r.xDir,r.normal)};let _y=class extends ar{constructor(t){const r=J();let n=t;n||(n=new r.Bnd_Box_1),super(n)}get repr(){const[t,r]=this.bounds;return`${new Te(t).repr} - ${new Te(r).repr}`}get bounds(){const t={current:0},r={current:0},n={current:0},s={current:0},i={current:0},c={current:0};return this.wrapped.Get(t,r,n,s,i,c),[[t.current,r.current,n.current],[s.current,i.current,c.current]]}get center(){const[[t,r,n],[s,i,c]]=this.bounds;return[t+(s-t)/2,r+(i-r)/2,n+(c-n)/2]}get width(){const[[t],[r]]=this.bounds;return Math.abs(r-t)}get height(){const[[,t],[,r]]=this.bounds;return Math.abs(r-t)}get depth(){const[[,,t],[,,r]]=this.bounds;return Math.abs(r-t)}add(t){this.wrapped.Add_1(t.wrapped)}isOut(t){return this.wrapped.IsOut_4(t.wrapped)}};function Vn(e="XY",t=[0,0,0]){return e instanceof jt?e.clone():af(e,t)}function by(e,t,r=[0,0,0],n=[0,0,1]){const s=new Wn;s.rotate(t,r,n);const i=s.transform(e);return s.delete(),i}function xy(e,t){const r=new Wn;r.translate(t);const n=r.transform(e);return r.delete(),n}function Sy(e,t,r){const n=new Wn;n.mirror(t,r);const s=n.transform(e);return n.delete(),s}function Ty(e,t,r){const n=new Wn;n.scale(t,r);const s=n.transform(e);return n.delete(),s}function Qs(e){return Array.isArray(e)&&e.length===2}let Uo=null;const G1=e=>{if(Uo&&!e)return Uo;const r=J().GeomAbs_CurveType;return Uo=new Map([[r.GeomAbs_Line,"LINE"],[r.GeomAbs_Circle,"CIRCLE"],[r.GeomAbs_Ellipse,"ELLIPSE"],[r.GeomAbs_Hyperbola,"HYPERBOLA"],[r.GeomAbs_Parabola,"PARABOLA"],[r.GeomAbs_BezierCurve,"BEZIER_CURVE"],[r.GeomAbs_BSplineCurve,"BSPLINE_CURVE"],[r.GeomAbs_OffsetCurve,"OFFSET_CURVE"],[r.GeomAbs_OtherCurve,"OTHER_CURVE"]]),Uo},ho=e=>{let t=G1().get(e);if(t||(t=G1(!0).get(e)),!t)throw new Error("unknown type");return t};function Ey(e,t){const r=Math.pow(10,t),n=t<0?e:.01/r+e;return Math.round(n*r)/r}function Ay(e){return Array.from(Array(e).keys())}function Gn(e){const t=Math.min(...e.map(r=>r.length));return Ay(t).map(r=>e.map(n=>n[r]))}function li(e){return Math.round(e*100)/100}const qs=([e,t])=>`(${li(e)},${li(t)})`,j1=(e,t=1e-9)=>{let r=e;return Math.abs(e)<t&&(r=0),r.toFixed(-Math.log10(t))},cf=(e,t=1e-9)=>Array.from(new Map(e.map(([r,n])=>[`[${j1(r,t)},${j1(n,t)}]`,[r,n]])).values()),Tt=([e,t])=>{const r=J();return new r.gp_Pnt2d_3(e,t)},Iy=([e,t])=>{const r=J();return new r.gp_Dir2d_4(e,t)},uf=([e,t])=>{const r=J();return new r.gp_Vec2d_4(e,t)},zn=(e,t)=>{const r=J(),[n,s]=yt(),i=new r.gp_Ax2d_2(n(Tt(e)),n(Iy(t)));return s(),i};class po extends ar{constructor(t){const r=J();let n=t;n||(n=new r.Bnd_Box2d),super(n)}get repr(){const[t,r]=this.bounds;return`${qs(t)} - ${qs(r)}`}get bounds(){const t={current:0},r={current:0},n={current:0},s={current:0};return this.wrapped.Get(t,r,n,s),[[t.current,r.current],[n.current,s.current]]}get center(){const[[t,r],[n,s]]=this.bounds;return[t+(n-t)/2,r+(s-r)/2]}get width(){const[[t],[r]]=this.bounds;return Math.abs(r-t)}get height(){const[[,t],[,r]]=this.bounds;return Math.abs(r-t)}outsidePoint(t=1){const[r,n]=this.bounds,s=n[0]-r[0],i=n[1]-r[1];return[n[0]+s/100*t,n[1]+i/100*t*.9]}add(t){this.wrapped.Add_1(t.wrapped)}isOut(t){return this.wrapped.IsOut_4(t.wrapped)}containsPoint(t){const n=rt()(Tt(t));return!this.wrapped.IsOut_1(n)}}const Rt=([e,t],[r,n],s=1e-6)=>Math.abs(e-r)<=s&&Math.abs(t-n)<=s,kn=([e,t],[r,n])=>[e+r,t+n],Fi=([e,t],[r,n])=>[e-r,t-n],ja=([e,t],r)=>[e*r,t*r],hr=([e,t],[r,n]=[0,0])=>Math.sqrt((e-r)**2+(t-n)**2),Cy=([e,t],[r,n]=[0,0])=>(e-r)**2+(t-n)**2;function lf([e,t],[r,n]){return e*n-t*r}const Py=([e,t],[r,n]=[0,0])=>Math.atan2(n*e-t*r,e*r+t*n),Ry=([e,t],[r,n]=[0,0])=>Math.atan2(n-t,r-e),pr=([e,t])=>{const r=hr([e,t]);return[e/r,t/r]},Dy=(e,t,r=[0,0])=>{const[n,s]=e,[i,c]=r,l=n-i,f=s-c,d=Math.sin(t),g=Math.cos(t),w=l*g-f*d,k=l*d+f*g;return[w+i,k+c]},Mn=(e,t)=>{const r=Math.cos(t)*e,n=Math.sin(t)*e;return[r,n]},Oy=([e,t])=>{const r=hr([e,t]),n=Math.atan2(t,e);return[r,n]},mt=e=>e[0][0]*e[1][1]-e[0][1]*e[1][0];class Xe extends ar{constructor(t){const r=J(),n=t.get();super(new r.Handle_Geom2d_Curve_2(n)),this._boundingBox=null}get boundingBox(){if(this._boundingBox)return this._boundingBox;const t=J(),r=new t.Bnd_Box2d;return t.BndLib_Add2dCurve.Add_3(this.wrapped,1e-6,r),this._boundingBox=new po(r),this._boundingBox}get repr(){return`${this.geomType} ${qs(this.firstPoint)} - ${qs(this.lastPoint)}`}get innerCurve(){return this.wrapped.get()}serialize(){return J().GeomToolsWrapper.Write(this.wrapped)}value(t){const r=this.innerCurve.Value(t),n=[r.X(),r.Y()];return r.delete(),n}get firstPoint(){return this.value(this.firstParameter)}get lastPoint(){return this.value(this.lastParameter)}get firstParameter(){return this.innerCurve.FirstParameter()}get lastParameter(){return this.innerCurve.LastParameter()}adaptor(){const t=J();return new t.Geom2dAdaptor_Curve_2(this.wrapped)}get geomType(){const t=this.adaptor(),r=ho(t.GetType());return t.delete(),r}clone(){return new Xe(this.innerCurve.Copy())}reverse(){this.innerCurve.Reverse()}distanceFromPoint(t){const r=J(),n=rt(),s=n(new r.Geom2dAPI_ProjectPointOnCurve_2(n(Tt(t)),this.wrapped));let i=1/0;try{i=s.LowerDistance()}catch{i=1/0}return Math.min(i,hr(t,this.firstPoint),hr(t,this.lastPoint))}distanceFromCurve(t){const r=J(),n=rt();let s=1/0;const i=n(new r.Geom2dAPI_ExtremaCurveCurve(this.wrapped,t.wrapped,this.firstParameter,this.lastParameter,t.firstParameter,t.lastParameter));try{s=i.LowerDistance()}catch{s=1/0}return Math.min(s,this.distanceFromPoint(t.firstPoint),this.distanceFromPoint(t.lastPoint),t.distanceFromPoint(this.firstPoint),t.distanceFromPoint(this.lastPoint))}distanceFrom(t){return Qs(t)?this.distanceFromPoint(t):this.distanceFromCurve(t)}isOnCurve(t){return this.distanceFromPoint(t)<1e-9}parameter(t,r=1e-9){const n=J(),s=rt();let i,c;try{const l=s(new n.Geom2dAPI_ProjectPointOnCurve_2(s(Tt(t)),this.wrapped));i=l.LowerDistance(),c=l.LowerDistanceParameter()}catch{if(Rt(t,this.firstPoint,r))return this.firstParameter;if(Rt(t,this.lastPoint,r))return this.lastParameter;throw new Error("Failed to find parameter")}if(i>r)throw new Error(`Point ${qs(t)} not on curve ${this.repr}, ${i.toFixed(9)}`);return c}tangentAt(t){const r=J(),[n,s]=yt();let i;Array.isArray(t)?i=this.parameter(t):i=(this.innerCurve.LastParameter()-this.innerCurve.FirstParameter())*t+this.innerCurve.FirstParameter();const c=n(new r.gp_Pnt2d_1),l=n(new r.gp_Vec2d_1);this.innerCurve.D1(i,c,l);const f=[l.X(),l.Y()];return s(),f}splitAt(t,r=1e-9){const n=J(),s=rt();let i=t.map(f=>Qs(f)?this.parameter(f,r):f);i=Array.from(new Map(i.map(f=>[Ey(f,-Math.log10(r)),f])).values()).sort((f,d)=>f-d);const c=this.firstParameter,l=this.lastParameter;return c>l&&i.reverse(),Math.abs(i[0]-c)<r*100&&(i=i.slice(1)),i.length?(Math.abs(i[i.length-1]-l)<r*100&&(i=i.slice(0,-1)),i.length?Gn([[c,...i],[...i,l]]).map(([f,d])=>{try{if(this.geomType==="BEZIER_CURVE"){const w=new n.Geom2d_BezierCurve_1(s(this.adaptor()).Bezier().get().Poles_2());return w.Segment(f,d),new Xe(new n.Handle_Geom2d_Curve_2(w))}if(this.geomType==="BSPLINE_CURVE"){const w=s(this.adaptor()).BSpline().get(),k=new n.Geom2d_BSplineCurve_1(w.Poles_2(),w.Knots_2(),w.Multiplicities_2(),w.Degree(),w.IsPeriodic());return k.Segment(f,d,r),new Xe(new n.Handle_Geom2d_Curve_2(k))}const g=new n.Geom2d_TrimmedCurve(this.wrapped,f,d,!0,!0);return new Xe(new n.Handle_Geom2d_Curve_2(g))}catch{throw new Error("Failed to split the curve")}}):[this]):[this]}}const ff=(e,t=1e-4,r="C0",n=200)=>{const s=J(),i=rt(),c={C0:s.GeomAbs_Shape.GeomAbs_C0,C1:s.GeomAbs_Shape.GeomAbs_C1,C2:s.GeomAbs_Shape.GeomAbs_C2,C3:s.GeomAbs_Shape.GeomAbs_C3},l=i(new s.Geom2dConvert_ApproxCurve_2(e.ShallowCopy(),t,c[r],n,3));return new Xe(l.Curve())},H1=e=>{if(ho(e.GetType())!=="BSPLINE_CURVE")throw new Error("You can only convert a Bspline");const t=e.BSpline(),r=J(),n=new r.Geom2dConvert_BSplineCurveToBezierCurve_1(t);function*s(){const c=n.NbArcs();if(c)for(let l=1;l<=c;l++){const f=n.Arc(l);yield new Xe(f)}}const i=Array.from(s());return n.delete(),i};function fi(e,t={tolerance:1e-4,continuity:"C0",maxSegments:300}){const r=rt();return e.flatMap(n=>{const s=r(n.adaptor()),i=ho(s.GetType());if(i==="ELLIPSE"||i==="CIRCLE"&&Rt(n.firstPoint,n.lastPoint))return n.splitAt([.5]);if(["LINE","ELLIPSE","CIRCLE"].includes(i))return n;if(i==="BEZIER_CURVE"){const f=s.Bezier().get().Degree();if([1,2,3].includes(f))return n}if(i==="BSPLINE_CURVE"){const l=H1(s);return fi(l,t)}const c=ff(s,t.tolerance,t.continuity,t.maxSegments);return fi(H1(r(c.adaptor())),t)})}function*hf(e){const t=e.NbPoints();if(t)for(let r=1;r<=t;r++){const n=e.Point(r);yield[n.X(),n.Y()]}}function*Ly(e){const t=e.NbSegments();if(!t)return;const r=J();for(let n=1;n<=t;n++){const s=new r.Handle_Geom2d_Curve_1,i=new r.Handle_Geom2d_Curve_1;try{e.Segment(n,s,i)}catch{continue}yield new Xe(s),i.delete()}}const Qr=(e,t,r=1e-9)=>{if(e.boundingBox.isOut(t.boundingBox))return{intersections:[],commonSegments:[],commonSegmentsPoints:[]};const n=J(),s=new n.Geom2dAPI_InterCurveCurve_1;let i,c;try{s.Init_1(e.wrapped,t.wrapped,r),i=Array.from(hf(s)),c=Array.from(Ly(s))}catch(d){throw console.error(e,t,d),new Error("Intersections failed between curves")}finally{s.delete()}const l=c.filter(d=>Rt(d.firstPoint,d.lastPoint,r)).map(d=>d.firstPoint);l.length&&(i.push(...l),c=c.filter(d=>!Rt(d.firstPoint,d.lastPoint,r)));const f=c.flatMap(d=>[d.firstPoint,d.lastPoint]);return{intersections:i,commonSegments:c,commonSegmentsPoints:f}},Fy=(e,t=1e-9)=>{const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1;let s;try{n.Init_1(e.wrapped,e.wrapped,t),s=Array.from(hf(n))}catch{throw new Error("Self intersection failed")}finally{n.delete()}return s},en=(e,t)=>{const r=J(),[n,s]=yt(),i=n(new r.GCE2d_MakeSegment_1(n(Tt(e)),n(Tt(t)))).Value(),c=new Xe(i);return Rt(c.firstPoint,e)||c.reverse(),s(),c},hi=(e,t,r)=>{const n=J(),[s,i]=yt(),c=s(new n.GCE2d_MakeArcOfCircle_4(s(Tt(e)),s(Tt(t)),s(Tt(r)))).Value();i();const l=new Xe(c);return Rt(l.firstPoint,e)||l.wrapped.get().SetTrim(l.lastParameter,l.firstParameter,!0,!0),l},Ny=(e,t,r)=>{const n=J(),[s,i]=yt(),c=s(new n.GCE2d_MakeArcOfCircle_5(s(Tt(e)),s(uf(t)),s(Tt(r)))).Value();i();const l=new Xe(c);return Rt(l.firstPoint,e)||l.wrapped.get().SetTrim(l.lastParameter,l.firstParameter,!0,!0),l},My=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),i=n(new r.GCE2d_MakeCircle_7(n(Tt(t)),e,!0)).Value();return s(),new Xe(i)},By=(e,t,r,n,s=[0,0],i,c=!0)=>{const l=J(),[f,d]=yt(),g=f(new l.gp_Elips2d_2(f(zn(s,i)),e,t,!0)),w=f(new l.GCE2d_MakeArcOfEllipse_1(g,r,n,c)).Value();return d(),new Xe(w)},Uy=(e,t,r)=>{const n=J(),[s,i]=yt(),c=s(new n.TColgp_Array1OfPnt2d_2(1,t.length+2));c.SetValue(1,s(Tt(e))),t.forEach((f,d)=>{c.SetValue(d+2,s(Tt(f)))}),c.SetValue(t.length+2,s(Tt(r)));const l=new n.Geom2d_BezierCurve_1(c);return i(),new Xe(new n.Handle_Geom2d_Curve_2(l))},pf=(e,t,r,n=!1)=>{const s=ja(kn(e,t),.5),i=hr(r,e)*(n?-1:1),c=pr(Fi(s,r));return hi(e,kn(ja(c,i),r),t)},Gy=(e,t,r)=>{const n=pr(Fi(t,e)),s=[n[1],-n[0]],i=[s[0]*r,s[1]*r];return{firstPoint:kn(e,i),lastPoint:kn(t,i)}},Js=(e,t)=>{const r=rt(),n=e.geomType;if(n==="CIRCLE"){const f=r(r(e.adaptor()).Circle()),d=f.Radius(),g=f.IsDirect()?1:-1,w=t*g,k=d+w;if(k<1e-10){const L=r(f.Location()),F=[L.X(),L.Y()],O=V=>{const[te,ce]=pr(Fi(V,F));return kn(V,[w*te,w*ce])};return{collapsed:!0,firstPoint:O(e.firstPoint),lastPoint:O(e.lastPoint)}}const x=J(),A=new x.gp_Circ2d_3(f.Axis(),k),P=new x.Geom2d_Circle_1(A),R=new x.Geom2d_TrimmedCurve(new x.Handle_Geom2d_Curve_2(P),e.firstParameter,e.lastParameter,!0,!0);return new Xe(new x.Handle_Geom2d_Curve_2(R))}if(n==="LINE"){const{firstPoint:f,lastPoint:d}=Gy(e.firstPoint,e.lastPoint,t);return en(f,d)}const s=J(),i=new Xe(new s.Handle_Geom2d_Curve_2(new s.Geom2d_OffsetCurve(e.wrapped,t,!0))),c=ff(i.adaptor());return Fy(c).length?{collapsed:!0,firstPoint:c.firstPoint,lastPoint:c.lastPoint}:c};function df(e,t,r){const n=lf(e.tangentAt(1),t.tangentAt(0));if(Math.abs(n)<1e-10)return null;const s=n>0?-1:1,i=Math.abs(r)*s,c=Js(e,i),l=Js(t,i);if(!(c instanceof Xe)||!(l instanceof Xe))return null;let f;try{const{intersections:x}=Qr(c,l,1e-9);f=x.at(-1)}catch{return null}if(!Qs(f))return null;const d=f,g=(x,A)=>{const[P,R]=A.tangentAt(d),L=pr([-R,P]),F=kn(d,ja(L,i)),O=x.parameter(F,1e-6);return x.splitAt([O])},[w]=g(e,c),[,k]=g(t,l);return{first:w,second:k,center:d}}function mf(e,t,r){const n=df(e,t,r);if(!n)return console.warn("Cannot fillet between curves",e.repr,t.repr),[e,t];const{first:s,second:i,center:c}=n;return[s,pf(s.lastPoint,i.firstPoint,c),i]}function gf(e,t,r){const n=df(e,t,r);if(!n)return console.warn("Cannot chamfer between curves",e.repr,t.repr),[e,t];const{first:s,second:i}=n;return[s,en(s.lastPoint,i.firstPoint),i]}function jy(e,t,r){const n=pr(e.tangentAt(1)),s=pr(t.tangentAt(0)),i=lf(n,s),c=Math.asin(i);if(Math.abs(i)<1e-10)return[e,t];const l=i>0?-1:1,f=Math.abs(r)*Math.sin(c/2)*l,d=Js(e,f),g=Js(t,f);if(!(d instanceof Xe)||!(g instanceof Xe))return[e,t];let w;try{const{intersections:L}=Qr(d,g,1e-9);w=L.at(-1)}catch{return[e,t]}if(!Qs(w))return[e,t];const k=My(r,w),x=Qr(e,k).intersections[0],A=Qr(t,k).intersections.at(-1);if(!x||!A)return[e,t];const P=e.splitAt([x])[0],R=t.splitAt([A]).at(-1);if(!P||!R)return[e,t];try{return[P,hi(P.lastPoint,e.lastPoint,R.firstPoint),R]}catch{return[e,t]}}class Hy{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){const s=n-1>>1,i=this.values[s];if(r>=i)break;this.ids[n]=this.ids[s],this.values[n]=i,n=s}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const r=this.ids[0]=this.ids[this.length],n=this.values[0]=this.values[this.length],s=this.length>>1;let i=0;for(;i<s;){let c=(i<<1)+1;const l=c+1;let f=this.ids[c],d=this.values[c];const g=this.values[l];if(l<this.length&&g<d&&(c=l,f=this.ids[l],d=g),d>=n)break;this.ids[i]=f,this.values[i]=d,i=c}this.ids[i]=r,this.values[i]=n}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const q1=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ga=3;class Ac{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==251)throw new Error("Data does not appear to be in a Flatbush format.");if(n>>4!==ga)throw new Error(`Got v${n>>4} data when expected v${ga}.`);const[s]=new Uint16Array(t,2,1),[i]=new Uint32Array(t,4,1);return new Ac(i,s,q1[n&15],t)}constructor(t,r=16,n=Float64Array,s){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535);let i=t,c=i;this._levelBounds=[i*4];do i=Math.ceil(i/this.nodeSize),c+=i,this._levelBounds.push(c*4);while(i!==1);this.ArrayType=n||Float64Array,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;const l=q1.indexOf(this.ArrayType),f=c*4*this.ArrayType.BYTES_PER_ELEMENT;if(l<0)throw new Error(`Unexpected typed array class: ${n}.`);s&&s instanceof ArrayBuffer?(this.data=s,this._boxes=new this.ArrayType(this.data,8,c*4),this._indices=new this.IndexArrayType(this.data,8+f,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new ArrayBuffer(8+f+c*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,c*4),this._indices=new this.IndexArrayType(this.data,8+f,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ga<<4)+l]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t),this._queue=new Hy}add(t,r,n,s){const i=this._pos>>2;return this._indices[i]=i,this._boxes[this._pos++]=t,this._boxes[this._pos++]=r,this._boxes[this._pos++]=n,this._boxes[this._pos++]=s,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),s>this.maxY&&(this.maxY=s),i}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);if(this.numItems<=this.nodeSize){this._boxes[this._pos++]=this.minX,this._boxes[this._pos++]=this.minY,this._boxes[this._pos++]=this.maxX,this._boxes[this._pos++]=this.maxY;return}const t=this.maxX-this.minX||1,r=this.maxY-this.minY||1,n=new Uint32Array(this.numItems),s=65535;for(let i=0;i<this.numItems;i++){let c=4*i;const l=this._boxes[c++],f=this._boxes[c++],d=this._boxes[c++],g=this._boxes[c++],w=Math.floor(s*((l+d)/2-this.minX)/t),k=Math.floor(s*((f+g)/2-this.minY)/r);n[i]=Wy(w,k)}Ha(n,this._boxes,this._indices,0,this.numItems-1,this.nodeSize);for(let i=0,c=0;i<this._levelBounds.length-1;i++){const l=this._levelBounds[i];for(;c<l;){const f=c;let d=1/0,g=1/0,w=-1/0,k=-1/0;for(let x=0;x<this.nodeSize&&c<l;x++)d=Math.min(d,this._boxes[c++]),g=Math.min(g,this._boxes[c++]),w=Math.max(w,this._boxes[c++]),k=Math.max(k,this._boxes[c++]);this._indices[this._pos>>2]=f,this._boxes[this._pos++]=d,this._boxes[this._pos++]=g,this._boxes[this._pos++]=w,this._boxes[this._pos++]=k}}}search(t,r,n,s,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const l=[],f=[];for(;c!==void 0;){const d=Math.min(c+this.nodeSize*4,V1(c,this._levelBounds));for(let g=c;g<d;g+=4){if(n<this._boxes[g]||s<this._boxes[g+1]||t>this._boxes[g+2]||r>this._boxes[g+3])continue;const w=this._indices[g>>2]|0;c<this.numItems*4?(i===void 0||i(w))&&f.push(w):l.push(w)}c=l.pop()}return f}neighbors(t,r,n=1/0,s=1/0,i){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const l=this._queue,f=[],d=s*s;for(;c!==void 0;){const g=Math.min(c+this.nodeSize*4,V1(c,this._levelBounds));for(let w=c;w<g;w+=4){const k=this._indices[w>>2]|0,x=W1(t,this._boxes[w],this._boxes[w+2]),A=W1(r,this._boxes[w+1],this._boxes[w+3]),P=x*x+A*A;c<this.numItems*4?(i===void 0||i(k))&&l.push((k<<1)+1,P):l.push(k<<1,P)}for(;l.length&&l.peek()&1;)if(l.peekValue()>d||(f.push(l.pop()>>1),f.length===n))return l.clear(),f;c=l.pop()>>1}return l.clear(),f}}function W1(e,t,r){return e<t?t-e:e<=r?0:e-r}function V1(e,t){let r=0,n=t.length-1;for(;r<n;){const s=r+n>>1;t[s]>e?n=s:r=s+1}return t[r]}function Ha(e,t,r,n,s,i){if(Math.floor(n/i)>=Math.floor(s/i))return;const c=e[n+s>>1];let l=n-1,f=s+1;for(;;){do l++;while(e[l]<c);do f--;while(e[f]>c);if(l>=f)break;qy(e,t,r,l,f)}Ha(e,t,r,n,f,i),Ha(e,t,r,f+1,s,i)}function qy(e,t,r,n,s){const i=e[n];e[n]=e[s],e[s]=i;const c=4*n,l=4*s,f=t[c],d=t[c+1],g=t[c+2],w=t[c+3];t[c]=t[l],t[c+1]=t[l+1],t[c+2]=t[l+2],t[c+3]=t[l+3],t[l]=f,t[l+1]=d,t[l+2]=g,t[l+3]=w;const k=r[n];r[n]=r[s],r[s]=k}function Wy(e,t){let r=e^t,n=65535^r,s=65535^(e|t),i=e&(t^65535),c=r|n>>1,l=r>>1^r,f=s>>1^n&i>>1^s,d=r&s>>1^i>>1^i;r=c,n=l,s=f,i=d,c=r&r>>2^n&n>>2,l=r&n>>2^n&(r^n)>>2,f^=r&s>>2^n&i>>2,d^=n&s>>2^(r^n)&i>>2,r=c,n=l,s=f,i=d,c=r&r>>4^n&n>>4,l=r&n>>4^n&(r^n)>>4,f^=r&s>>4^n&i>>4,d^=n&s>>4^(r^n)&i>>4,r=c,n=l,s=f,i=d,f^=r&s>>8^n&i>>8,d^=n&s>>8^(r^n)&i>>8,r=f^f>>1,n=d^d>>1;let g=e^t,w=n|65535^(g|r);return g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,w=(w|w<<8)&16711935,w=(w|w<<4)&252645135,w=(w|w<<2)&858993459,w=(w|w<<1)&1431655765,(w<<1|g)>>>0}const Vy=(e,t=1e-7)=>{const r=new Ac(e.length);e.forEach(i=>{const[c,l]=i.firstPoint;r.add(c-t,l-t,c+t,l+t)}),r.finish();const n=[],s=new Set;return e.forEach((i,c)=>{if(s.has(c))return;const l=[i];let f=c;s.add(c);let d=e.length;for(;;){if(d--<0)throw new Error("Infinite loop detected");const g=l[l.length-1].lastPoint,[w,k]=g,x=r.search(w-t,k-t,w+t,k+t),A=F=>Math.abs((f-F)%e.length),P=x.filter(F=>!s.has(F)).map(F=>[e[F],F,A(F)]).sort(([,,F],[,,O])=>A(F)-A(O));if(P.length===0){n.push(l);break}const[R,L]=P[0];l.push(R),s.add(L),f=L}}),n};function er(e){return Math.round(e*1e5)/1e5}const va=e=>`${li(e.X())} ${li(e.Y())}`,zy=(e,t)=>{const r=J(),n=ho(e.GetType()),[s,i]=t,c=`${er(s)} ${er(i)}`;if(n==="LINE")return`L ${c}`;if(n==="BEZIER_CURVE"){const l=e.Bezier().get(),f=l.Degree();if(f===1)return`L ${c}`;if(f===2)return`Q ${va(l.Pole(2))} ${c}`;if(f===3){const d=va(l.Pole(2)),g=va(l.Pole(3));return`C ${d} ${g} ${c}`}}if(n==="CIRCLE"){const l=e.Circle(),f=l.Radius(),d=e.FirstParameter(),w=(e.LastParameter()-d)*Un,k=w!==360?c:`${er(s)} ${er(i+1e-4)}`;return`A ${f} ${f} 0 ${Math.abs(w)>180?"1":"0"} ${l.IsDirect()?"1":"0"} ${k}`}if(n==="ELLIPSE"){const l=e.Ellipse(),f=l.MajorRadius(),d=l.MinorRadius(),g=e.FirstParameter(),k=(e.LastParameter()-g)*Un,x=k!==360?c:`${er(s)} ${er(i+1e-4)}`,A=new r.gp_Dir2d_1,P=180-l.XAxis().Direction().Angle(A)*Un;return A.delete(),`A ${er(f)} ${er(d)} ${er(P)} ${Math.abs(k)>180?"1":"0"} ${l.IsDirect()?"1":"0"} ${x}`}throw new Error(`Unsupported curve type: ${n}`)},$y={X:[1,0,0],Y:[0,1,0],Z:[0,0,1]},pi={YZ:[1,0,0],XZ:[0,1,0],XY:[0,0,1]};class vf{constructor(){this.filters=[]}delete(){this.filters=[]}and(t){return t.forEach(r=>r(this)),this}not(t){const r=new this.constructor;t(r);const n=({element:s})=>!r.shouldKeep(s);return this.filters.push(n),this}either(t){const r=t.map(s=>{const i=new this.constructor;return s(i),i}),n=({element:s})=>r.some(i=>i.shouldKeep(s));return this.filters.push(n),this}find(t,{unique:r=!1}={}){const n=this.applyFilter(t);if(r){if(n.length!==1)throw console.error(n),new Error("Finder has not found a unique solution");return n[0]}return n}}class Xy extends ar{constructor(){const t=J();super(new t.Message_ProgressRange_1)}}class ya extends ar{constructor(t){const r=J();super(new r.BRepExtrema_DistShapeShape_1),this.wrapped.LoadS1(t.wrapped)}distanceTo(t){this.wrapped.LoadS2(t.wrapped);const r=new Xy;return this.wrapped.Perform(r.wrapped),this.wrapped.Value()}}class yf extends vf{when(t){return this.filters.push(t),this}inList(t){const r=({element:n})=>!!t.find(s=>s.isSame(n));return this.filters.push(r),this}atAngleWith(t="Z",r=0){let n;typeof t=="string"?n=new Te($y[t]):n=new Te(t);const s=({normal:i})=>{if(!i)return!1;const c=Math.acos(Math.abs(i.dot(n)));return Math.abs(c-Gt*r)<1e-6};return this.filters.push(s),this}atDistance(t,r=[0,0,0]){const n=vi(r),s=new ya(n),i=({element:c})=>Math.abs(s.distanceTo(c)-t)<1e-6;return this.filters.push(i),this}containsPoint(t){return this.atDistance(0,t)}withinDistance(t,r=[0,0,0]){const n=vi(r),s=new ya(n),i=({element:c})=>s.distanceTo(c)-t<1e-6;return this.filters.push(i),this}inBox(t,r){const n=rk(t,r);return this.inShape(n)}inShape(t){const r=new ya(t),n=({element:s})=>r.distanceTo(s)<1e-6;return this.filters.push(n),this}}class di extends yf{clone(){const t=new di;return t.filters=[...this.filters],t}inDirection(t){return this.atAngleWith(t,0)}ofLength(t){const r=({element:n})=>typeof t=="number"?Math.abs(n.length-t)<1e-9:t(n.length);return this.filters.push(r),this}ofCurveType(t){const r=({element:n})=>n.geomType===t;return this.filters.push(r),this}parallelTo(t){if(typeof t=="string"&&pi[t])return this.atAngleWith(pi[t],90);if(typeof t!="string"&&t instanceof jt)return this.atAngleWith(t.zDir,90);if(typeof t!="string"&&t.normalAt){const r=t.normalAt();return this.atAngleWith(r,90),this}return this}inPlane(t,r){const n=t instanceof jt?Vn(t):Vn(t,r);this.parallelTo(n);const s=({element:i})=>{const c=i.startPoint,l=c.projectToPlane(n);return c.equals(l)};return this.filters.push(s),this}shouldKeep(t){let r=null;try{r=t.tangentAt().normalized()}catch(n){console.error("failed to compute a normal",n)}return this.filters.every(n=>n({normal:r,element:t}))}applyFilter(t){return t.edges.filter(r=>this.shouldKeep(r))}}class $n extends yf{clone(){const t=new $n;return t.filters=[...this.filters],t}parallelTo(t){if(typeof t=="string"&&pi[t])return this.atAngleWith(pi[t]);if(typeof t!="string"&&t instanceof jt)return this.atAngleWith(t.zDir);if(typeof t!="string"&&t.normalAt){const r=t.normalAt();return this.atAngleWith(r),this}return this}ofSurfaceType(t){const r=({element:n})=>n.geomType===t;return this.filters.push(r),this}inPlane(t,r){const n=t instanceof jt?Vn(t):Vn(t,r);this.parallelTo(n);const s=({element:i})=>{const c=i.center,l=c.projectToPlane(n);return c.equals(l)};return this.filters.push(s),this}shouldKeep(t){const r=t.normalAt();return this.filters.every(s=>s({normal:r,element:t}))}applyFilter(t){return t.faces.filter(r=>this.shouldKeep(r))}}const Yy=function(e){return e.curves.map((t,r)=>({firstCurve:t,secondCurve:e.curves[(r+1)%e.curves.length],point:t.lastPoint}))},ka=2*Math.PI,z1=e=>{const t=e%ka,r=t<0?t+ka:t;return r<Math.PI?r:r===Math.PI?0:Math.abs(r-ka)};class mi extends vf{clone(){const t=new mi;return t.filters=[...this.filters],t}inList(t){const r=({element:n})=>!!t.find(s=>Rt(s,n.point));return this.filters.push(r),this}atDistance(t,r=[0,0]){function n({element:s}){return Math.abs(hr(r,s.point)-t)<1e-9}return this.filters.push(n),this}atPoint(t){function r({element:n}){return Rt(t,n.point)}return this.filters.push(r),this}inBox(t,r){const[n,s]=t,[i,c]=r,l=Math.min(n,i),f=Math.max(n,i),d=Math.min(s,c),g=Math.max(s,c);function w({element:k}){const[x,A]=k.point;return x>=l&&x<=f&&A>=d&&A<=g}return this.filters.push(w),this}ofAngle(t){function r({element:n}){const s=n.firstCurve.tangentAt(1),i=n.secondCurve.tangentAt(0);return Math.abs(z1(Py(s,i))-z1(Gt*t))<1e-9}return this.filters.push(r),this}shouldKeep(t){return this.filters.every(n=>n({normal:null,element:t}))}applyFilter(t){return Yy(t).filter(r=>this.shouldKeep(r))}}function Zy(e,t){return e instanceof Tn?e:(e instanceof $n?e:e(new $n)).find(t,{unique:!0})}function qa(e){return typeof e=="number"}function $1(e){if(typeof e=="number")return!0;if(typeof e=="object"&&e!==null){const t=e;return"distances"in t&&Array.isArray(t.distances)&&"selectedFace"in t||"distance"in t&&"angle"in t&&"selectedFace"in t}return!1}function X1(e){return typeof e=="number"?!0:Array.isArray(e)&&e.length===2?e.every(qa):!1}const Y1=e=>{const t=J();return{vertex:t.TopAbs_ShapeEnum.TopAbs_VERTEX,wire:t.TopAbs_ShapeEnum.TopAbs_WIRE,face:t.TopAbs_ShapeEnum.TopAbs_FACE,shell:t.TopAbs_ShapeEnum.TopAbs_SHELL,solid:t.TopAbs_ShapeEnum.TopAbs_SOLID,solidCompound:t.TopAbs_ShapeEnum.TopAbs_COMPSOLID,compound:t.TopAbs_ShapeEnum.TopAbs_COMPOUND,edge:t.TopAbs_ShapeEnum.TopAbs_EDGE,shape:t.TopAbs_ShapeEnum.TopAbs_SHAPE}[e]},Ky=function*(t,r){const n=J(),s=new n.TopExp_Explorer_2(t,Y1(r),Y1("shape")),i=new Map;for(;s.More();){const c=s.Current(),l=c.HashCode(nf);i.get(l)||(i.set(l,!0),yield c),s.Next()}s.delete()},kf=e=>{if(e.IsNull())throw new Error("This shape has not type, it is null");return e.ShapeType()};class Ni extends ar{constructor(t){super(t)}clone(){return new this.constructor(wn(this.wrapped))}serialize(){return J().BRepToolsWrapper.Write(this.wrapped)}get hashCode(){return this.wrapped.HashCode(nf)}get isNull(){return this.wrapped.IsNull()}isSame(t){return this.wrapped.IsSame(t.wrapped)}isEqual(t){return this.wrapped.IsEqual(t.wrapped)}simplify(){const t=J(),r=new t.ShapeUpgrade_UnifySameDomain_2(this.wrapped,!0,!0,!1);r.Build();const n=nt(r.Shape());if(r.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}translate(t,r=0,n=0){const s=typeof t=="number"?[t,r,n]:t,i=nt(xy(this.wrapped,s));if(this.delete(),this.constructor!==i.constructor)throw new Error("unexpected types mismatch");return i}translateX(t){return this.translate([t,0,0])}translateY(t){return this.translate([0,t,0])}translateZ(t){return this.translate([0,0,t])}rotate(t,r=[0,0,0],n=[0,0,1]){const s=nt(by(this.wrapped,t,r,n));if(this.delete(),this.constructor!==s.constructor)throw new Error("unexpected types mismatch");return s}mirror(t,r){const n=nt(Sy(this.wrapped,t,r));if(this.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}scale(t,r=[0,0,0]){const n=nt(Ty(this.wrapped,r,t));if(this.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}_iterTopo(t){return Ky(this.wrapped,t)}_listTopo(t){return Array.from(this._iterTopo(t)).map(r=>wn(r))}get edges(){return this._listTopo("edge").map(t=>new Sn(t))}get faces(){return this._listTopo("face").map(t=>new Tn(t))}get wires(){return this._listTopo("wire").map(t=>new Dr(t))}get boundingBox(){const t=new _y;return this.oc.BRepBndLib.Add(this.wrapped,t.wrapped,!0),t}_mesh({tolerance:t=.001,angularTolerance:r=.1}={}){new this.oc.BRepMesh_IncrementalMesh_2(this.wrapped,t,!1,r,!1)}mesh({tolerance:t=.001,angularTolerance:r=.1}={}){this._mesh({tolerance:t,angularTolerance:r});let n=[],s=[],i=[];const c=[];for(const l of this.faces){const f=l.triangulation(s.length/3);if(!f)continue;const{trianglesIndexes:d,vertices:g,verticesNormals:w}=f;c.push({start:n.length,count:d.length,faceId:l.hashCode}),n=n.concat(d),s=s.concat(g),i=i.concat(w)}return{triangles:n,vertices:s,normals:i,faceGroups:c}}meshEdges({tolerance:t=.001,angularTolerance:r=.1}={}){var n;const s=rt(),i=new Set,c=[],l=[],f=()=>{const g=c.length;let w=null;return[k=>{w?(c.push(...w),w=[k.X(),k.Y(),k.Z()],c.push(...w)):w=[k.X(),k.Y(),k.Z()]},k=>{l.push({start:g/3,count:(c.length-g)/3,edgeId:k}),i.add(k)}]},d=s(new this.oc.TopLoc_Location_1);for(const g of this.faces){const w=s(this.oc.BRep_Tool.Triangulation(g.wrapped,d,0));if(w.IsNull())continue;const k=w.get();for(const x of g.edges){if(s(x),i.has(x.hashCode))continue;const A=s(new this.oc.TopLoc_Location_1),P=s(this.oc.BRep_Tool.PolygonOnTriangulation_1(x.wrapped,w,A)),R=(n=P?.get())==null?void 0:n.Nodes();if(!R)continue;s(R);const[L,F]=f();for(let O=R.Lower();O<=R.Upper();O++){const V=s(s(k.Node(R.Value(O))).Transformed(A.Transformation()));L(V)}F(x.hashCode)}}for(const g of this.edges){s(g);const w=g.hashCode;if(i.has(w))continue;const k=s(new this.oc.BRepAdaptor_Curve_2(g.wrapped)),x=s(new this.oc.GCPnts_TangentialDeflection_2(k,t,r,2,1e-9,1e-7)),[A,P]=f();for(let R=0;R<x.NbPoints();R++){const L=s(x.Value(R+1).Transformed(d.Transformation()));A(L)}P(w)}return{lines:c,edgeGroups:l}}blobSTEP(){const t="blob.step",r=new this.oc.STEPControl_Writer_1;this.oc.Interface_Static.SetIVal("write.step.schema",5),r.Model(!0).delete();const n=new this.oc.Message_ProgressRange_1;r.Transfer(this.wrapped,this.oc.STEPControl_StepModelType.STEPControl_AsIs,!0,n);const s=r.Write(t);if(r.delete(),n.delete(),s===this.oc.IFSelect_ReturnStatus.IFSelect_RetDone){const i=this.oc.FS.readFile("/"+t);return this.oc.FS.unlink("/"+t),new Blob([i],{type:"application/STEP"})}else throw new Error("WRITE STEP FILE FAILED.")}blobSTL({tolerance:t=.001,angularTolerance:r=.1,binary:n=!1}={}){this._mesh({tolerance:t,angularTolerance:r});const s="blob.stl";if(this.oc.StlAPI.Write(this.wrapped,s,!n)){const c=this.oc.FS.readFile("/"+s);return this.oc.FS.unlink("/"+s),new Blob([c],{type:"application/sla"})}else throw new Error("WRITE STL FILE FAILED.")}}class wf extends Ni{asTuple(){const t=this.oc.BRep_Tool.Pnt(this.wrapped),r=[t.X(),t.Y(),t.Z()];return t.delete(),r}}class _f extends Ni{get repr(){const{startPoint:t,endPoint:r}=this,n=`start: (${this.startPoint.repr}) end:(${this.endPoint.repr})`;return t.delete(),r.delete(),n}get curve(){return new Qy(this._geomAdaptor())}get startPoint(){return this.curve.startPoint}get endPoint(){return this.curve.endPoint}tangentAt(t=0){return this.curve.tangentAt(t)}pointAt(t=0){return this.curve.pointAt(t)}get isClosed(){return this.curve.isClosed}get isPeriodic(){return this.curve.isPeriodic}get period(){return this.curve.period}get geomType(){return this.curve.curveType}get length(){const t=new this.oc.GProp_GProps_1;this.oc.BRepGProp.LinearProperties(this.wrapped,t,!0,!1);const r=t.Mass();return t.delete(),r}get orientation(){return this.wrapped.Orientation_1()===this.oc.TopAbs_Orientation.TopAbs_FORWARD?"forward":"backward"}flipOrientation(){const t=this.wrapped.Reversed();return nt(t)}}class Qy extends ar{get repr(){const{startPoint:t,endPoint:r}=this,n=`start: (${this.startPoint.repr}) end:(${this.endPoint.repr}}`;return t.delete(),r.delete(),n}get curveType(){const t=this.wrapped.GetType&&this.wrapped.GetType();return ho(t)}get startPoint(){const t=this.wrapped.Value(this.wrapped.FirstParameter());return new Te(t)}get endPoint(){const t=this.wrapped.Value(this.wrapped.LastParameter());return new Te(t)}_mapParameter(t){const r=this.wrapped.FirstParameter(),n=this.wrapped.LastParameter();return r+(n-r)*t}pointAt(t=.5){return new Te(this.wrapped.Value(this._mapParameter(t)))}tangentAt(t=.5){const r=this._mapParameter(t),n=new this.oc.gp_Pnt_1,s=new this.oc.gp_Vec_1;this.wrapped.D1(r,n,s);const i=new Te(s);return n.delete(),s.delete(),i}get isClosed(){return this.wrapped.IsClosed()}get isPeriodic(){return this.wrapped.IsPeriodic()}get period(){return this.wrapped.Period()}}class Sn extends _f{_geomAdaptor(){return new this.oc.BRepAdaptor_Curve_2(this.wrapped)}}class Dr extends _f{_geomAdaptor(){return new this.oc.BRepAdaptor_CompCurve_2(this.wrapped,!1)}offset2D(t,r="arc"){const n={arc:this.oc.GeomAbs_JoinType.GeomAbs_Arc,intersection:this.oc.GeomAbs_JoinType.GeomAbs_Intersection,tangent:this.oc.GeomAbs_JoinType.GeomAbs_Tangent},s=new this.oc.BRepOffsetAPI_MakeOffset_3(this.wrapped,n[r],!1);s.Perform(t,0);const i=nt(s.Shape());if(s.delete(),this.delete(),!(i instanceof Dr))throw new Error("Could not offset with a wire");return i}}class Jy extends ar{get surfaceType(){const t=this.oc.GeomAbs_SurfaceType,n=new Map([[t.GeomAbs_Plane,"PLANE"],[t.GeomAbs_Cylinder,"CYLINDRE"],[t.GeomAbs_Cone,"CONE"],[t.GeomAbs_Sphere,"SPHERE"],[t.GeomAbs_Torus,"TORUS"],[t.GeomAbs_BezierSurface,"BEZIER_SURFACE"],[t.GeomAbs_BSplineSurface,"BSPLINE_SURFACE"],[t.GeomAbs_SurfaceOfRevolution,"REVOLUTION_SURFACE"],[t.GeomAbs_SurfaceOfExtrusion,"EXTRUSION_SURFACE"],[t.GeomAbs_OffsetSurface,"OFFSET_SURFACE"],[t.GeomAbs_OtherSurface,"OTHER_SURFACE"]]).get(this.wrapped.GetType());if(!n)throw new Error("surface type not found");return n}}class Tn extends Ni{_geomAdaptor(){return new this.oc.BRepAdaptor_Surface_2(this.wrapped,!1)}get surface(){return new Jy(this._geomAdaptor())}get orientation(){return this.wrapped.Orientation_1()===this.oc.TopAbs_Orientation.TopAbs_FORWARD?"forward":"backward"}flipOrientation(){const t=this.wrapped.Reversed();return nt(t)}get geomType(){const t=this.surface,r=t.surfaceType;return t.delete(),r}get UVBounds(){const t={current:0},r={current:0},n={current:0},s={current:0};return this.oc.BRepTools.UVBounds_1(this.wrapped,t,r,n,s),{uMin:t.current,uMax:r.current,vMin:n.current,vMax:s.current}}pointOnSurface(t,r){const{uMin:n,uMax:s,vMin:i,vMax:c}=this.UVBounds,l=this._geomAdaptor(),f=new this.oc.gp_Pnt_1,d=t*(s-n)+n,g=r*(c-i)+i;l.D0(d,g,f);const w=new Te(f);return l.delete(),f.delete(),w}uvCoordinates(t){const r=rt(),n=r(this.oc.BRep_Tool.Surface_2(this.wrapped)),s=r(new this.oc.GeomAPI_ProjectPointOnSurf_2(r(Xt(t)),n,this.oc.Extrema_ExtAlgo.Extrema_ExtAlgo_Grad)),i={current:0},c={current:0};return s.LowerDistanceParameters(i,c),[i.current,c.current]}normalAt(t){let r=0,n=0;const s=rt();if(t)[r,n]=this.uvCoordinates(t);else{const{uMin:d,uMax:g,vMin:w,vMax:k}=this.UVBounds;r=.5*(d+g),n=.5*(w+k)}const i=s(new this.oc.gp_Pnt_1),c=s(new this.oc.gp_Vec_1);return s(new this.oc.BRepGProp_Face_2(this.wrapped,!1)).Normal(r,n,i,c),new Te(c)}get center(){const t=new this.oc.GProp_GProps_1;this.oc.BRepGProp.SurfaceProperties_2(this.wrapped,t,1e-7,!0);const r=new Te(t.CentreOfMass());return t.delete(),r}outerWire(){const t=new Dr(this.oc.BRepTools.OuterWire(this.wrapped));return this.delete(),t}innerWires(){const t=this.clone().outerWire(),r=this.wires.filter(n=>!t.isSame(n));return t.delete(),this.delete(),r}triangulation(t=0){const r=rt(),n=r(new this.oc.TopLoc_Location_1),s=r(this.oc.BRep_Tool.Triangulation(this.wrapped,n,0));if(s.IsNull())return null;const i=r(n.Transformation()),c={vertices:[],trianglesIndexes:[],verticesNormals:[]},l=s.get(),f=l.NbNodes();c.vertices=new Array(f*3);for(let A=1;A<=f;A++){const P=r(r(l.Node(A)).Transformed(i));c.vertices[(A-1)*3+0]=P.X(),c.vertices[(A-1)*3+1]=P.Y(),c.vertices[(A-1)*3+2]=P.Z()}const d=r(new this.oc.TColgp_Array1OfDir_2(1,f)),g=r(new this.oc.Poly_Connect_2(s));this.oc.StdPrs_ToolTriangulatedShape.Normal(this.wrapped,g,d),c.verticesNormals=new Array(d.Length()*3);for(let A=d.Lower();A<=d.Upper();A++){const P=r(r(d.Value(A)).Transformed(i));c.verticesNormals[(A-1)*3+0]=P.X(),c.verticesNormals[(A-1)*3+1]=P.Y(),c.verticesNormals[(A-1)*3+2]=P.Z()}const w=this.orientation,k=l.NbTriangles();c.trianglesIndexes=new Array(k*3);let x=0;for(let A=1;A<=k;A++){const P=r(l.Triangle(A));let R=P.Value(1),L=P.Value(2);const F=P.Value(3);if(w==="backward"){const O=R;R=L,L=O}c.trianglesIndexes[x*3+0]=R-1+t,c.trianglesIndexes[x*3+1]=L-1+t,c.trianglesIndexes[x*3+2]=F-1+t,x++}return c}}class Mi extends Ni{fuse(t,{optimisation:r="none"}={}){const n=rt(),s=n(new this.oc.Message_ProgressRange_1),i=n(new this.oc.BRepAlgoAPI_Fuse_3(this.wrapped,t.wrapped,s));r==="commonFace"&&i.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueShift),r==="sameFace"&&i.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueFull),i.Build(s),i.SimplifyResult(!0,!0,.001);const c=nt(i.Shape());if(!Er(c))throw new Error("Could not fuse as a 3d shape");return c}cut(t,{optimisation:r="none"}={}){const n=rt(),s=n(new this.oc.Message_ProgressRange_1),i=n(new this.oc.BRepAlgoAPI_Cut_3(this.wrapped,t.wrapped,s));r==="commonFace"&&i.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueShift),r==="sameFace"&&i.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueFull),i.Build(s),i.SimplifyResult(!0,!0,.001);const c=nt(i.Shape());if(!Er(c))throw new Error("Could not cut as a 3d shape");return c}intersect(t){const r=rt(),n=r(new this.oc.Message_ProgressRange_1),s=r(new this.oc.BRepAlgoAPI_Common_3(this.wrapped,t.wrapped,n));s.Build(n),s.SimplifyResult(!0,!0,.001);const i=nt(s.Shape());if(!Er(i))throw new Error("Could not intersect as a 3d shape");return i}shell(t,r=null,n=.001){const s=typeof r=="number"?r:n;let i,c;if(typeof t=="number"){c=t;const x=new $n;i=typeof r=="function"?r(x):x}else c=t.thickness,i=t.filter;const l=rt(),f=i.find(this),d=l(new this.oc.TopTools_ListOfShape_1);f.forEach(x=>{d.Append_1(x.wrapped)});const g=l(new this.oc.Message_ProgressRange_1),w=l(new this.oc.BRepOffsetAPI_MakeThickSolid);w.MakeThickSolidByJoin(this.wrapped,d,-c,s,this.oc.BRepOffset_Mode.BRepOffset_Skin,!1,!1,this.oc.GeomAbs_JoinType.GeomAbs_Arc,!1,g);const k=nt(w.Shape());if(!Er(k))throw new Error("Could not shell as a 3d shape");return k}_builderIter(t,r,n){if(n(t)){let l=0;for(const f of this._iterTopo("edge"))r(t,wn(f)),l+=1;return l}let s,i=null;typeof t=="function"?s=t:(s=l=>t.filter.shouldKeep(l)?t.radius||1:null,t.filter&&!t.keep&&(i=()=>t.filter.delete()));let c=0;for(const l of this._iterTopo("edge")){const f=wn(l),d=new Sn(f),g=s(d);g&&(r(g,f),c+=1),d.delete()}return i&&i(),c}fillet(t,r){const s=rt()(new this.oc.BRepFilletAPI_MakeFillet(this.wrapped,this.oc.ChFi3d_FilletShape.ChFi3d_Rational));let i=t;if(X1(t)&&r&&(i={radius:t,filter:r(new di)}),!this._builderIter(i,(f,d)=>qa(f)?s.Add_2(f,d):(console.log(d),s.Add_3(f[0],f[1],d)),X1))throw new Error("Could not fillet, no edge was selected");const l=nt(s.Shape());if(!Er(l))throw new Error("Could not fillet as a 3d shape");return l}chamfer(t,r){const s=rt()(new this.oc.BRepFilletAPI_MakeChamfer(this.wrapped));let i=t;if($1(t)&&r&&(i={radius:t,filter:r(new di)}),!this._builderIter(i,(f,d)=>{if(qa(f))return s.Add_2(f,d);const g=new $n,w=f.selectedFace(g).find(this,{unique:!0});if(!w)throw new Error("Could not find face for chamfer");if("distances"in f)return s.Add_3(f.distances[0]??1,f.distances[1]??1,d,w.wrapped);if("distance"in f)return s.AddDA(f.distance,f.angle*Gt,d,w.wrapped)},$1))throw new Error("Could not chamfer, no edge was selected");const l=nt(s.Shape());if(!Er(l))throw new Error("Could not chamfer as a 3d shape");return l}}class bf extends Mi{}class mo extends Mi{}class xf extends Mi{}class Sf extends Mi{}function Er(e){return e instanceof bf||e instanceof mo||e instanceof xf||e instanceof Sf}function Z1(e){return e instanceof Dr}function wn(e){const t=J(),r=t.TopAbs_ShapeEnum,n=new Map([[r.TopAbs_VERTEX,t.TopoDS.Vertex_1],[r.TopAbs_EDGE,t.TopoDS.Edge_1],[r.TopAbs_WIRE,t.TopoDS.Wire_1],[r.TopAbs_FACE,t.TopoDS.Face_1],[r.TopAbs_SHELL,t.TopoDS.Shell_1],[r.TopAbs_SOLID,t.TopoDS.Solid_1],[r.TopAbs_COMPSOLID,t.TopoDS.CompSolid_1],[r.TopAbs_COMPOUND,t.TopoDS.Compound_1]]),s=kf(e),i=n.get(s);if(!i)throw new Error("Could not find a wrapper for this shape type");return i(e)}function nt(e){const r=J().TopAbs_ShapeEnum,s=new Map([[r.TopAbs_VERTEX,wf],[r.TopAbs_EDGE,Sn],[r.TopAbs_WIRE,Dr],[r.TopAbs_FACE,Tn],[r.TopAbs_SHELL,bf],[r.TopAbs_SOLID,mo],[r.TopAbs_COMPSOLID,xf],[r.TopAbs_COMPOUND,Sf]]).get(kf(e));if(!s)throw new Error("Could not find a wrapper for this shape type");return new s(wn(e))}const Tf=(e,t)=>{const r=J();return new Sn(new r.BRepBuilderAPI_MakeEdge_3(Xt(e),Xt(t)).Edge())},ek=(e,t,r,n=[0,0,0],s=[0,0,1],i=!1)=>{const c=J(),[l,f]=yt();let d=2*Math.PI;i&&(d=-2*Math.PI);const g=l(new c.Geom2d_Line_3(l(new c.gp_Pnt2d_3(0,0)),l(new c.gp_Dir2d_4(d,e)))),w=t/e,k=g.Value(0),x=g.Value(w*Math.sqrt((2*Math.PI)**2+e**2)),A=l(new c.GCE2d_MakeSegment_1(k,x)),P=new c.Geom_CylindricalSurface_1(l(Ks(n,s)),r),R=l(new c.BRepBuilderAPI_MakeEdge_30(l(new c.Handle_Geom2d_Curve_2(A.Value().get())),l(new c.Handle_Geom_Surface_2(P)))).Edge(),L=l(new c.BRepBuilderAPI_MakeWire_2(R)).Wire();return c.BRepLib.BuildCurves3d_2(L),f(),new Dr(L)},gi=e=>{const t=J(),r=new t.BRepBuilderAPI_MakeWire_1;e.forEach(c=>{c instanceof Sn&&r.Add_1(c.wrapped),c instanceof Dr&&r.Add_2(c.wrapped)});const n=new t.Message_ProgressRange_1;r.Build(n);const s=r.Error();if(s!==t.BRepBuilderAPI_WireError.BRepBuilderAPI_WireDone){const c=new Map([[t.BRepBuilderAPI_WireError.BRepBuilderAPI_EmptyWire,"empty wire"],[t.BRepBuilderAPI_WireError.BRepBuilderAPI_NonManifoldWire,"non manifold wire"],[t.BRepBuilderAPI_WireError.BRepBuilderAPI_DisconnectedWire,"disconnected wire"]]);throw new Error(`Failed to build the wire, ${c.get(s)||"unknown error"}`)}const i=new Dr(r.Wire());return r.delete(),n.delete(),i},Zo=(e,t)=>{const r=J(),n=new r.BRepBuilderAPI_MakeFace_15(e.wrapped,!1);if(!n.IsDone())throw n.delete(),new Error("Failed to build the face. Your wire might be non planar.");const s=n.Face();return n.delete(),new Tn(s)},tk=(e,t)=>{const r=J(),[n,s]=yt(),i=n(r.BRep_Tool.Surface_2(e.wrapped)),l=n(new r.BRepBuilderAPI_MakeFace_21(i,t.wrapped,!0)).Face();return s(),new Tn(l)},rk=(e,t)=>{const r=J(),n=new r.BRepPrimAPI_MakeBox_4(Xt(e),Xt(t)),s=new mo(n.Solid());return n.delete(),s},vi=e=>{const t=J(),r=Xt(e),n=new t.BRepBuilderAPI_MakeVertex(r),s=n.Vertex();return n.delete(),new wf(s)},Bs=e=>{const t=J(),r=new t.TopoDS_Builder,n=new t.TopoDS_Compound;return r.MakeCompound(n),e.forEach(i=>{r.Add(n,i.wrapped),i.delete()}),nt(n)};function nk(e){const t=J(),r=rt(),n=r(new t.BRepBuilderAPI_Sewing(1e-6,!0,!0,!0,!1));return e.forEach(({wrapped:s})=>{n.Add(s)}),n.Perform(r(new t.Message_ProgressRange_1)),nt(wn(n.SewedShape()))}function Ef(e){const t=rt(),r=J(),n=nk(e),s=nt(t(new r.ShapeFix_Solid_1).SolidFromShell(n.wrapped));if(!(s instanceof mo))throw new Error("Could not make a solid of faces and shells");return s}const Af=(e,t)=>{const r=J(),[n,s]=yt(),i=n(new r.BRepBuilderAPI_MakeFace_2(e.wrapped));t.forEach(d=>{i.Add(d.wrapped)});const c=n(i.Face()),l=n(new r.ShapeFix_Face_2(c));l.FixOrientation_1();const f=l.Face();return s(),new Tn(f)},sk=e=>e==="symmetric"||typeof e=="number"||Array.isArray(e)&&e.length===2,ok=e=>{let t;e?sk(e)?t={endTangent:e}:t={endTangent:0,...e}:t={endTangent:[1,0]};const{endTangent:r,startFactor:n=1,endFactor:s=1,startTangent:i}=t;let c;typeof r=="number"?c=Mn(1,r*Gt):c=r;let l;return typeof i=="number"?l=Mn(1,i*Gt):l=i,{endTangent:c,startFactor:n,endFactor:s,startTangent:l}};function K1(e,t,r,n){const s=e*r+t*n,i=Math.sqrt((e*e+t*t)*(r*r+n*n));let c=Math.acos(s/i);return e*n-t*r<0&&(c=-c),c}function ik([e,t],[r,n],s,i,c,l,f){const d=Math.PI*2;if(s<0&&(s=-s),i<0&&(i=-i),s==0||i==0)throw Error("rx and ry can not be 0");const g=Math.sin(c),w=Math.cos(c),k=(e-r)/2,x=(t-n)/2,A=(e+r)/2,P=(t+n)/2,R=w*k+g*x,L=w*x-g*k,F=R*R/(s*s)+L*L/(i*i);F>1&&(s=s*Math.sqrt(F),i=i*Math.sqrt(F));const O=s*i,V=s*L,te=i*R,ce=V*V+te*te;if(!ce)throw Error("start point can not be same as end point");let ae=Math.sqrt(Math.abs((O*O-ce)/ce));l==f&&(ae=-ae);const he=ae*V/i,Se=-ae*te/s,De=w*he-g*Se+A,Ae=g*he+w*Se+P,Oe=(R-he)/s,Qe=(R+he)/s,Ne=(L-Se)/i,je=(L+Se)/i,qe=K1(1,0,Oe,Ne);let Le=K1(Oe,Ne,-Qe,-je);for(;Le>d;)Le-=d;for(;Le<0;)Le+=d;f||(Le-=d);let me=qe+Le;for(;me>d;)me-=d;for(;me<0;)me+=d;return{cx:De,cy:Ae,startAngle:qe,deltaAngle:Le,endAngle:me,clockwise:!!f,rx:s,ry:i}}const If=(e,t)=>{const r=J(),n=new r.BRepPrimAPI_MakePrism_1(e.wrapped,t.wrapped,!1,!0),s=new mo(wn(n.Shape()));return n.delete(),s},Cf=(e,t=[0,0,0],r=[0,0,1],n=360)=>{const s=J(),i=of(t,r),c=new s.BRepPrimAPI_MakeRevol_1(e.wrapped,i,n*Gt,!1),l=nt(c.Shape());if(i.delete(),c.delete(),!Er(l))throw new Error("Could not revolve to a 3d shape");return l};function eo(e,t,{frenet:r=!1,auxiliarySpine:n,law:s=null,transitionMode:i="right",withContact:c,support:l,forceProfileSpineOthogonality:f}={},d=!1){const g=J(),w=i==="round"?!0:!!f,k=new g.BRepOffsetAPI_MakePipeShell(t.wrapped);if(i){const P={transformed:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_Transformed,round:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_RoundCorner,right:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_RightCorner}[i];P&&k.SetTransitionMode(P)}l?k.SetMode_4(l):r&&k.SetMode_1(r),n&&k.SetMode_5(n.wrapped,!1,g.BRepFill_TypeOfContact.BRepFill_NoContact),s?k.SetLaw_1(e.wrapped,s,!!c,w):k.Add_1(e.wrapped,!!c,w);const x=new g.Message_ProgressRange_1;k.Build(x),d||k.MakeSolid();const A=nt(k.Shape());if(!Er(A))throw new Error("Could not sweep to a 3d shape");if(d){const P=nt(k.FirstShape()),R=nt(k.LastShape());if(!Z1(P))throw new Error("Could not sweep with one start wire");if(!Z1(R))throw new Error("Could not sweep with one end wire");return k.delete(),[A,P,R]}return k.delete(),x.delete(),A}const Pf=(e,{profile:t,endFactor:r=1})=>{let n;const s=J();if(t==="s-curve")n=new s.Law_S,n.Set_1(0,1,e,r);else if(t==="linear")n=new s.Law_Linear,n.Set(0,1,e,r);else throw new Error("Could not generate a law function");return n.Trim(0,e,1e-6)};function Rf(e,t,r,n,s=!1){const i=new Te(t),c=new Te(r),l=Tf(i,i.add(c)),f=gi([l]),d=n?Pf(c.Length,n):null;return s?eo(e,f,{law:d},s):eo(e,f,{law:d},s)}function Df(e,t,r,n,s,i=!1){const c=new Te(r),l=new Te(n),f=Tf(c,c.add(l)),d=gi([f]),g=360/t*l.Length,k=ek(g,l.Length,1,r,n),x=s?Pf(l.Length,s):null;return i?eo(e,d,{auxiliarySpine:k,law:x},i):eo(e,d,{auxiliarySpine:k,law:x},i)}const ak=(e,{ruled:t=!0,startPoint:r,endPoint:n}={},s=!1)=>{const i=J(),[c,l]=yt(),f=c(new i.BRepOffsetAPI_ThruSections(!s,t,1e-6));r&&f.AddVertex(c(vi(r)).wrapped),e.forEach(w=>f.AddWire(w.wrapped)),n&&f.AddVertex(c(vi(n)).wrapped);const d=c(new i.Message_ProgressRange_1);f.Build(d);const g=nt(f.Shape());if(l(),!Er(g))throw new Error("Could not loft to a 3d shape");return g};class to{constructor(t,{defaultOrigin:r=[0,0,0],defaultDirection:n=[0,0,1]}={}){this.wire=t,this.defaultOrigin=r,this.defaultDirection=n,this.baseFace=null}get baseFace(){return this._baseFace}set baseFace(t){t?this._baseFace=t.clone():this._baseFace=t}delete(){this.wire.delete(),this._defaultOrigin.delete(),this._defaultDirection.delete(),this.baseFace&&this.baseFace.delete()}clone(){const t=new to(this.wire.clone(),{defaultOrigin:this.defaultOrigin,defaultDirection:this.defaultDirection});return this.baseFace&&(t.baseFace=this.baseFace.clone()),t}get defaultOrigin(){return this._defaultOrigin}set defaultOrigin(t){this._defaultOrigin=new Te(t)}get defaultDirection(){return this._defaultDirection}set defaultDirection(t){this._defaultDirection=new Te(t)}face(){let t;return this.baseFace?t=tk(this.baseFace,this.wire):t=Zo(this.wire),t}wires(){return this.wire.clone()}faces(){return this.face()}revolve(t,{origin:r}={}){const n=Zo(this.wire),s=Cf(n,r||this.defaultOrigin,t);return n.delete(),this.delete(),s}extrude(t,{extrusionDirection:r,extrusionProfile:n,twistAngle:s,origin:i}={}){const[c,l]=yt(),f=c(new Te(r||this.defaultDirection).normalized().multiply(t));if(n&&!s){const w=Rf(this.wire,i||this.defaultOrigin,f,n);return l(),this.delete(),w}if(s){const w=Df(this.wire,s,i||this.defaultOrigin,f,n);return l(),this.delete(),w}const d=Zo(this.wire),g=If(d,f);return l(),this.delete(),g}sweepSketch(t,r={}){const n=this.wire.startPoint,s=this.wire.tangentAt(1e-9).multiply(-1).normalize(),i=s.cross(this.defaultDirection).multiply(-1),c=t(new jt(n,i,s),n),l={forceProfileSpineOthogonality:!0,...r};this.baseFace&&(l.support=this.baseFace.wrapped);const f=eo(c.wire,this.wire,l);return this.delete(),f}loftWith(t,r={},n=!1){const s=Array.isArray(t)?[this,...t]:[this,t],i=ak(s.map(c=>c.wire),r,n);return s.forEach(c=>c.delete()),i}}const ck=e=>{const t=J(),r=new t.Bnd_Box2d;return e.forEach(n=>{t.BndLib_Add2dCurve.Add_3(n.wrapped,1e-6,r)}),new po(r)};function uk(e,t){const[r,n]=yt(),s=r(sf(t.origin,t.zDir,t.xDir)),i=J(),c=e.map(l=>{const f=i.GeomLib.To3d(s,l.wrapped);return new Sn(new i.BRepBuilderAPI_MakeEdge_24(f).Edge())});return n(),c}const lk=(e,t)=>{const[r,n]=yt(),s=J(),i=e.map(c=>{const l=r(new s.BRepBuilderAPI_MakeEdge_30(c.wrapped,t));return new Sn(l.Edge())});return n(),i},Of=(e,t)=>{const r=J();return e.map(s=>t?new Xe(r.GeomLib.GTransform(s.wrapped,t)):s.clone())};class go extends ar{transformCurves(t){return Of(t,this.wrapped)}}const Lf=(e,t,r=[0,0])=>{const n=J(),s=zn(r,t),i=new n.gp_GTrsf2d_1;return i.SetAffinity(s,e),s.delete(),new go(i)},fk=e=>{const t=J(),[r,n]=yt(),s=new t.gp_Trsf2d_1;s.SetTranslation_1(r(uf(e)));const i=new t.gp_GTrsf2d_2(s);return n(),new go(i)},hk=(e,t=[0,0],r="center")=>{const n=J(),[s,i]=yt(),c=new n.gp_Trsf2d_1;r==="center"?c.SetMirror_1(s(Tt(e))):c.SetMirror_2(s(zn(t,e)));const l=new n.gp_GTrsf2d_2(c);return i(),new go(l)},pk=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),i=new r.gp_Trsf2d_1;i.SetRotation(n(Tt(t)),e);const c=new r.gp_GTrsf2d_2(i);return s(),new go(c)},dk=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),i=new r.gp_Trsf2d_1;i.SetScale(n(Tt(t)),e);const c=new r.gp_GTrsf2d_2(i);return s(),new go(c)};function mk(e,t,r="original"){const[n,s]=yt(),i=J();let c=n(i.BRep_Tool.Surface_2(t.wrapped));const l=t.UVBounds;let f=null;const d=n(zn([0,0],[0,1])),g=n(zn([0,0],[1,0]));if(r==="original"&&t.geomType!=="PLANE"){if(t.geomType!=="CYLINDRE")throw new Error("Only planar and cylidrical faces can be unwrapped for sketching");const x=n(c.get().Cylinder());x.Direct()||(c=c.get().UReversed());const A=x.Radius();f=Lf(1/A,[0,1]).wrapped}if(r==="bounds"){if(f=n(new i.gp_GTrsf2d_1),f.SetAffinity(d,l.uMax-l.uMin),l.uMin!==0){const A=n(new i.gp_GTrsf2d_1);A.SetTranslationPart(new i.gp_XY_2(0,-l.uMin)),f.Multiply(A)}const x=n(new i.gp_GTrsf2d_1);if(x.SetAffinity(g,l.vMax-l.vMin),f.Multiply(x),l.vMin!==0){const A=n(new i.gp_GTrsf2d_1);A.SetTranslationPart(n(new i.gp_XY_2(0,-l.vMin))),f.Multiply(A)}}const w=Of(e,f),k=lk(w,c);return s(),k}const Bi=(e,t=1)=>{const r=e.bounds[0][0]-t,n=-e.bounds[1][1]-t;return`${r} ${n} ${e.width+2*t} ${e.height+2*t}`},Ic=(e,t,r=1)=>`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="${Bi(t,r)}" fill="none" stroke="black" stroke-width="0.6%" vector-effect="non-scaling-stroke">
    ${e}
</svg>`;class Ee{constructor(t){this.curves=t,this._boundingBox=null,this._orientation=null,this._guessedOrientation=null}delete(){this.curves.forEach(t=>t.delete()),this._boundingBox&&this._boundingBox.delete()}clone(){return new Ee(this.curves)}get repr(){return["Blueprint",...this.curves.map(t=>t.repr)].join(`
`)}get boundingBox(){return this._boundingBox||(this._boundingBox=ck(this.curves)),this._boundingBox}get orientation(){if(this._orientation)return this._orientation;if(this._guessedOrientation)return this._guessedOrientation;const t=this.curves.flatMap(n=>n.geomType!=="LINE"?[n.firstPoint,n.value(.5)]:[n.firstPoint]),r=t.map((n,s)=>{const i=t[(s+1)%t.length];return(i[0]-n[0])*(i[1]+n[1])}).reduce((n,s)=>n+s,0);return this._guessedOrientation=r>0?"clockwise":"counterClockwise",this._guessedOrientation}stretch(t,r,n=[0,0]){const s=Lf(t,r,n).transformCurves(this.curves);return new Ee(s)}scale(t,r){const n=r||this.boundingBox.center,s=dk(t,n).transformCurves(this.curves);return new Ee(s)}rotate(t,r){const n=pk(t*Gt,r).transformCurves(this.curves);return new Ee(n)}translate(t,r=0){const n=Qs(t)?t:[t,r],s=fk(n).transformCurves(this.curves);return new Ee(s)}mirror(t,r=[0,0],n="center"){const s=hk(t,r,n).transformCurves(this.curves);return new Ee(s)}sketchOnPlane(t,r){const n=t instanceof jt?Vn(t):Vn(t,r),s=uk(this.curves,n),i=gi(s);return new to(i,{defaultOrigin:n.origin,defaultDirection:n.zDir})}sketchOnFace(t,r){const n=J(),s=mk(this.curves,t,r),i=gi(s);n.BRepLib.BuildCurves3d_2(i.wrapped);const c=new n.ShapeFix_Wire_2(i.wrapped,t.wrapped,1e-9);c.FixEdgeCurves(),c.delete();const l=new to(i);if(i.isClosed){const f=l.clone().face();l.defaultOrigin=f.pointOnSurface(.5,.5),l.defaultDirection=f.normalAt(),f.orientation!==t.orientation&&(l.defaultDirection=l.defaultDirection.multiply(-1)),l.baseFace=t}else{const f=i.startPoint;l.defaultOrigin=f,l.defaultDirection=t.normalAt(f),l.baseFace=t}return l}subFace(t,r){let n=this.translate(t.uvCoordinates(r||t.center)).sketchOnFace(t,"original").face();return n.orientation!==t.orientation&&(n=n.flipOrientation()),n}punchHole(t,r,{height:n=null,origin:s=null,draftAngle:i=0}={}){const c=J(),l=rt(),f=Zy(r,t),d=this.subFace(f,s),g=l(new c.BRepFeat_MakeDPrism_1(t.wrapped,d.wrapped,f.wrapped,i*Gt,0,!1));return n?g.Perform_1(n):g.PerformThruAll(),nt(g.Shape())}toSVGPathD(){const t=rt(),r=this.clone().mirror([1,0],[0,0],"plane"),s=fi(r.curves).flatMap(l=>zy(t(l.adaptor()),l.lastPoint)),[i,c]=r.curves[0].firstPoint;return`M ${er(i)} ${er(c)} ${s.join(" ")}${r.isClosed()?" Z":""}`}toSVGPath(){return`<path d="${this.toSVGPathD()}" />`}toSVGViewBox(t=1){return Bi(this.boundingBox,t)}toSVGPaths(){return[this.toSVGPathD()]}toSVG(t=1){return Ic(this.toSVGPath(),this.boundingBox,t)}get firstPoint(){return this.curves[0].firstPoint}get lastPoint(){return this.curves[this.curves.length-1].lastPoint}isInside(t){if(!this.boundingBox.containsPoint(t))return!1;const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1,s=en(t,this.boundingBox.outsidePoint());let i=0;return this.curves.find(l=>l.isOnCurve(t))?!1:(this.curves.forEach(l=>{l.boundingBox.isOut(s.boundingBox)||(n.Init_1(s.wrapped,l.wrapped,1e-9),i+=n.NbPoints())}),n.delete(),!!(i%2))}isClosed(){return Rt(this.firstPoint,this.lastPoint)}intersects(t){const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1;if(this.boundingBox.isOut(t.boundingBox))return!1;for(const s of this.curves)for(const i of t.curves)if(!s.boundingBox.isOut(i.boundingBox)&&(n.Init_1(s.wrapped,i.wrapped,1e-9),n.NbPoints()||n.NbSegments()))return!0;return n.delete(),!1}}function Q1(e,t){if(typeof e=="function")return e;const r=t==="chamfer"?gf:t==="dogbone"?jy:mf;return(n,s)=>r(n,s,e)}class gk{constructor(t=[0,0]){this.pointer=t,this.firstPoint=t,this._nextCorner=null,this.pendingCurves=[]}_convertToUV([t,r]){return[t,r]}_convertFromUV([t,r]){return[t,r]}get penPosition(){return this.pointer}get penAngle(){if(this.pendingCurves.length===0)return 0;const t=this.pendingCurves[this.pendingCurves.length-1],[r,n]=t.tangentAt(1);return Math.atan2(n,r)*Un}movePointerTo(t){if(this.pendingCurves.length)throw new Error("You can only move the pointer if there is no curve defined");return this.pointer=t,this.firstPoint=t,this}saveCurve(t){if(!this._nextCorner){this.pendingCurves.push(t);return}const r=this.pendingCurves.pop();if(!r)throw new Error("bug in the custom corner algorithm");this.pendingCurves.push(...this._nextCorner(r,t)),this._nextCorner=null}lineTo(t){const r=en(this._convertToUV(this.pointer),this._convertToUV(t));return this.pointer=t,this.saveCurve(r),this}line(t,r){return this.lineTo([this.pointer[0]+t,this.pointer[1]+r])}vLine(t){return this.line(0,t)}hLine(t){return this.line(t,0)}vLineTo(t){return this.lineTo([this.pointer[0],t])}hLineTo(t){return this.lineTo([t,this.pointer[1]])}polarLineTo([t,r]){const n=r*Gt,s=Mn(t,n);return this.lineTo(s)}polarLine(t,r){const n=r*Gt,[s,i]=Mn(t,n);return this.line(s,i)}tangentLine(t){const r=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null;if(!r)throw new Error("You need a previous curve to sketch a tangent line");const n=pr(this._convertFromUV(r.tangentAt(1)));return this.line(n[0]*t,n[1]*t)}threePointsArcTo(t,r){return this.saveCurve(hi(this._convertToUV(this.pointer),this._convertToUV(r),this._convertToUV(t))),this.pointer=t,this}threePointsArc(t,r,n,s){const[i,c]=this.pointer;return this.threePointsArcTo([i+t,c+r],[i+n,c+s])}sagittaArcTo(t,r){const[n,s]=this.pointer,[i,c]=t,l=[(n+i)/2,(s+c)/2],f=[-(c-s),i-n],d=Math.sqrt(f[0]**2+f[1]**2),g=[l[0]+f[0]/d*r,l[1]+f[1]/d*r];return this.saveCurve(hi(this._convertToUV(this.pointer),this._convertToUV(g),this._convertToUV(t))),this.pointer=t,this}sagittaArc(t,r,n){return this.sagittaArcTo([t+this.pointer[0],r+this.pointer[1]],n)}vSagittaArc(t,r){return this.sagittaArc(0,t,r)}hSagittaArc(t,r){return this.sagittaArc(t,0,r)}bulgeArcTo(t,r){if(!r)return this.lineTo(t);const n=hr(this.pointer,t)/2,s=-r*n;return this.sagittaArcTo(t,s)}bulgeArc(t,r,n){return this.bulgeArcTo([t+this.pointer[0],r+this.pointer[1]],n)}vBulgeArc(t,r){return this.bulgeArc(0,t,r)}hBulgeArc(t,r){return this.bulgeArc(t,0,r)}tangentArcTo(t){const r=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null;if(!r)throw new Error("You need a previous curve to sketch a tangent arc");return this.saveCurve(Ny(this._convertToUV(this.pointer),r.tangentAt(1),this._convertToUV(t))),this.pointer=t,this}tangentArc(t,r){const[n,s]=this.pointer;return this.tangentArcTo([t+n,r+s])}ellipseTo(t,r,n,s=0,i=!1,c=!1){let l=s,f=r,d=n;r<n&&(l=s+90,f=n,d=r);const g=l*Gt,w=he=>hr(this._convertToUV(he)),k=w(Mn(f,g)),x=w(Mn(d,g+Math.PI/2)),A=pr(this._convertToUV(Dy([1,0],g))),[,P]=Oy(A),{cx:R,cy:L,startAngle:F,endAngle:O,clockwise:V,rx:te,ry:ce}=ik(this._convertToUV(this.pointer),this._convertToUV(t),k,x,P,i,c),ae=By(te,ce,V?F:O,V?O:F,[R,L],A);return V||ae.reverse(),this.saveCurve(ae),this.pointer=t,this}ellipse(t,r,n,s,i=0,c=!1,l=!1){const[f,d]=this.pointer;return this.ellipseTo([t+f,r+d],n,s,i,c,l)}halfEllipseTo(t,r,n=!1){const s=Ry(t,this.pointer),i=hr(t,this.pointer);return this.ellipseTo(t,i/2,r,s*Un,!0,n)}halfEllipse(t,r,n,s=!1){const[i,c]=this.pointer;return this.halfEllipseTo([i+t,c+r],n,s)}bezierCurveTo(t,r){let n;return r.length===2&&!Array.isArray(r[0])?n=[r]:n=r,this.saveCurve(Uy(this._convertToUV(this.pointer),n.map(s=>this._convertToUV(s)),this._convertToUV(t))),this.pointer=t,this}quadraticBezierCurveTo(t,r){return this.bezierCurveTo(t,[r])}cubicBezierCurveTo(t,r,n){return this.bezierCurveTo(t,[r,n])}smoothSplineTo(t,r){const{endTangent:n,startTangent:s,startFactor:i,endFactor:c}=ok(r),l=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null,f=hr(this.pointer,t)*.25;let d;s?d=s:l?d=this._convertFromUV(l.tangentAt(1)):d=[1,0],d=pr(d);const g=[this.pointer[0]+d[0]*i*f,this.pointer[1]+d[1]*i*f];let w;n==="symmetric"?w=[-d[0],-d[1]]:w=n,w=pr(w);const k=[t[0]-w[0]*c*f,t[1]-w[1]*c*f];return this.cubicBezierCurveTo(t,g,k)}smoothSpline(t,r,n){return this.smoothSplineTo([t+this.pointer[0],r+this.pointer[1]],n)}customCorner(t,r="fillet"){if(!this.pendingCurves.length)throw new Error("You need a curve defined to fillet the angle");return this._nextCorner=Q1(t,r),this}_customCornerLastWithFirst(t,r="fillet"){if(!t)return;const n=this.pendingCurves.pop(),s=this.pendingCurves.shift();if(!n||!s)throw new Error("Not enough curves to close and fillet");this.pendingCurves.push(...Q1(t,r)(n,s))}_closeSketch(){Rt(this.pointer,this.firstPoint)||this.lineTo(this.firstPoint)}_closeWithMirror(){if(Rt(this.pointer,this.firstPoint))throw new Error("Cannot close with a mirror when the sketch is already closed");const t=[this.pointer[0]-this.firstPoint[0],this.pointer[1]-this.firstPoint[1]],r=zn(this._convertToUV(this.pointer),this._convertToUV(t)),n=this.pendingCurves.map(s=>new Xe(s.innerCurve.Mirrored_2(r)));n.reverse(),n.map(s=>s.reverse()),this.pendingCurves.push(...n),this.pointer=this.firstPoint}}const vk=e=>{const t=J(),r=new t.BRepOffsetAPI_MakeFilling(3,15,2,!1,1e-5,1e-4,.01,.1,8,9);e.forEach((i,c)=>{i.edges.forEach(l=>{r.Add_1(l.wrapped,t.GeomAbs_Shape.GeomAbs_C0,c===0)})});const n=new t.Message_ProgressRange_1;r.Build(n),n.delete();const s=nt(r.Shape());if(r.delete(),!(s instanceof Tn))throw new Error("Failed to create a face");return s},yk=(e,t)=>{const r=J(),n=new r.ShapeFix_Wire_2(e.wrapped,t.wrapped,1e-9);return n.FixEdgeCurves(),n.delete(),e},J1=e=>{let t,r;try{t=Zo(e[0]),r=e.slice(1)}catch{t=vk(e),r=e.slice(1).map(s=>yk(s,t))}return Af(t,r)},eu=(e,t)=>{const r=[],n=[],s=[];e.forEach(f=>{const[d,g,w]=t(f);r.push(d),n.push(g),s.push(w)});const i=J1(n),c=J1(s);return Ef([i,...r,c])};class tu{constructor(t){this.sketches=t}delete(){this.sketches.forEach(t=>t.delete())}get outerSketch(){return this.sketches[0]}get innerSketches(){return this.sketches.slice(1)}get wires(){const t=this.sketches.map(r=>r.wire);return Bs(t)}face(){const t=this.outerSketch.face();return Af(t,this.innerSketches.map(n=>n.wire))}extrude(t,{extrusionDirection:r,extrusionProfile:n,twistAngle:s,origin:i}={}){const c=new Te(r||this.outerSketch.defaultDirection).normalized().multiply(t);return n&&!s?eu(this.sketches,d=>Rf(d.wire,i||this.outerSketch.defaultOrigin,c,n,!0)):s?eu(this.sketches,d=>Df(d.wire,s,i||this.outerSketch.defaultOrigin,c,n,!0)):If(this.face(),c)}revolve(t,{origin:r}={}){return Cf(this.face(),r||this.outerSketch.defaultOrigin,t)}loftWith(t,r){if(this.sketches.length!==t.sketches.length)throw new Error("You need to loft with another compound with the same number of sketches");const n=this.sketches.map((i,c)=>{const l=t.sketches[c];return i.clone().loftWith(l.clone(),{ruled:r.ruled},!0)}),s=this.face().clone();return n.push(s,t.face()),Ef(n)}}class He{constructor(t){this.blueprints=t,this._boundingBox=null}clone(){return new He(this.blueprints)}get boundingBox(){if(!this._boundingBox){const t=new po;this.blueprints.forEach(r=>t.add(r.boundingBox)),this._boundingBox=t}return this._boundingBox}get repr(){return["Compound Blueprints","-- Outline",this.blueprints[0].repr,"-- Holes",...this.blueprints.slice(1).map(t=>t.repr)].join(`
`)}stretch(t,r,n){return new He(this.blueprints.map(s=>s.stretch(t,r,n)))}rotate(t,r){return new He(this.blueprints.map(n=>n.rotate(t,r)))}scale(t,r){const n=r||this.boundingBox.center;return new He(this.blueprints.map(s=>s.scale(t,n)))}translate(t,r=0){return new He(this.blueprints.map(n=>n.translate(t,r)))}mirror(t,r,n){return new He(this.blueprints.map(s=>s.mirror(t,r,n)))}sketchOnPlane(t,r){const n=this.blueprints.map(s=>s.sketchOnPlane(t,r));return new tu(n)}sketchOnFace(t,r){const n=this.blueprints.map(s=>s.sketchOnFace(t,r));return new tu(n)}punchHole(t,r,n={}){return this.blueprints[0].punchHole(t,r,n)}toSVGViewBox(t=1){return Bi(this.boundingBox,t)}toSVGPaths(){return this.blueprints.flatMap(t=>t.toSVGPaths())}toSVGGroup(){return`<g>${this.blueprints.map(t=>t.toSVGPath()).join("")}</g>`}toSVG(t=1){return Ic(this.toSVGGroup(),this.boundingBox,t)}}class ru{constructor(t){this.sketches=t}wires(){const t=this.sketches.map(r=>r instanceof to?r.wire:r.wires);return Bs(t)}faces(){const t=this.sketches.map(r=>r.face());return Bs(t)}extrude(t,r={}){const n=this.sketches.map(s=>s.extrude(t,r));return Bs(n)}revolve(t,r){return Bs(this.sketches.map(n=>n.revolve(t,r)))}}class we{constructor(t){this.blueprints=t,this._boundingBox=null}get repr(){return["Blueprints",...this.blueprints.map(t=>t.repr)].join(`
`)}clone(){return new we(this.blueprints)}get boundingBox(){if(!this._boundingBox){const t=new po;this.blueprints.forEach(r=>t.add(r.boundingBox)),this._boundingBox=t}return this._boundingBox}stretch(t,r,n){return new we(this.blueprints.map(s=>s.stretch(t,r,n)))}rotate(t,r){return new we(this.blueprints.map(n=>n.rotate(t,r)))}scale(t,r){const n=r||this.boundingBox.center;return new we(this.blueprints.map(s=>s.scale(t,n)))}translate(t,r=0){return new we(this.blueprints.map(n=>n.translate(t,r)))}mirror(t,r,n){return new we(this.blueprints.map(s=>s.mirror(t,r,n)))}sketchOnPlane(t,r){return new ru(this.blueprints.map(n=>n.sketchOnPlane(t,r)))}sketchOnFace(t,r){return new ru(this.blueprints.map(n=>n.sketchOnFace(t,r)))}punchHole(t,r,n={}){let s=t;return this.blueprints.forEach(i=>{s=i.punchHole(s,r,n)}),s}toSVGViewBox(t=1){return Bi(this.boundingBox,t)}toSVGPaths(){return this.blueprints.map(t=>t.toSVGPaths())}toSVG(t=1){const r=this.blueprints.map(n=>n instanceof Ee?n.toSVGPath():n.toSVGGroup());return Ic(r.join(`
    `),this.boundingBox,t)}}const kk=e=>{const t=e.map((s,i)=>e.slice(i+1).map((c,l)=>[l+i+1,c]).filter(([,c])=>!s.boundingBox.isOut(c.boundingBox)).map(([c])=>c)),r=[],n=Array(t.length);return t.forEach((s,i)=>{let c=n[i];c||(c=[],r.push(c)),c.push(e[i]),s.length&&s.forEach(l=>{n[l]=c})}),r},Ff=e=>e.map((t,r)=>{const n=t.curves[0],s=n.value((n.lastParameter+n.firstParameter)/2),i=e.filter((c,l)=>r===l?!1:c.isInside(s));return{blueprint:t,isIn:i}}),wk=(e,t)=>e.flatMap(({blueprint:r})=>Cc(t.filter(({blueprint:n,isIn:s})=>n===r||s.indexOf(r)!==-1))),_k=(e,t)=>{const r=t.filter(({isIn:s})=>s.length<=1),n=Cc(Ff(e.map(({blueprint:s})=>s)));return[r,...n]},Cc=e=>{if(!e.length)return[];const t=e.filter(({isIn:n})=>!n.length),r=e.filter(({isIn:n})=>n.length>1);return t.length===1&&r.length===0?[e]:t.length>1?wk(t,e):_k(r,e)},vo=e=>{const t=kk(e).map(Ff);return new we(t.flatMap(Cc).map(r=>r.length===1?r[0].blueprint:(r.sort((n,s)=>n.isIn.length-s.isIn.length),new He(r.map(({blueprint:n})=>n)))))},Ko=1e-9,Pt=(e,t)=>Rt(e,t,Ko),Us=e=>{const t=(e.lastParameter+e.firstParameter)/2;return e.value(t)},nu=(e,t)=>{const r=e.findIndex(i=>Pt(t,i.firstPoint)),n=e.slice(0,r);return e.slice(r).concat(n)},su=(e,t)=>{const r=c=>Pt(t.firstPoint,c.firstPoint)&&Pt(t.lastPoint,c.lastPoint);let n=e.findIndex(r);if(n===-1&&(e=Pc(e),n=e.findIndex(r),n===-1))throw console.error(e.map(c=>c.repr),t.repr),new Error("Failed to rotate to segment start");const s=e.slice(0,n);return e.slice(n).concat(s)};function*ou(e,t,r){const n=c=>!!t.find(l=>Pt(l,c.lastPoint)),s=c=>!!r.find(l=>Pt(l.firstPoint,c.firstPoint)&&Pt(l.lastPoint,c.lastPoint)||Pt(l.firstPoint,c.lastPoint)&&Pt(l.lastPoint,c.firstPoint));let i=[];for(const c of e)n(c)?(i.push(c),yield i,i=[]):s(c)?(i.length&&(yield i,i=[]),yield[c]):i.push(c);i.length&&(yield i)}const bk=e=>e[0].firstPoint,wa=e=>e[e.length-1].lastPoint,Pc=e=>(e.reverse(),e.map(t=>{const r=t.clone();return r.reverse(),r})),xk=e=>(e.reverse(),e.map(Pc));function Sk(e,t,r){return e.filter(n=>{const s=t.filter(l=>Pt(l.firstPoint,n)||Pt(l.lastPoint,n));if(s.length%2)throw console.error(s,n),new Error("Bug in the intersection algo on non crossing point");const i=s.map(l=>r.isInside(Us(l)));return!(i.every(l=>l)||!i.some(l=>l))})}function Tk(e,t){let r=[];const n=[],s=new Array(e.curves.length).fill(0).map(()=>[]),i=new Array(t.curves.length).fill(0).map(()=>[]);if(e.curves.forEach((k,x)=>{t.curves.forEach((A,P)=>{const{intersections:R,commonSegments:L,commonSegmentsPoints:F}=Qr(k,A,Ko/100);r.push(...R),s[x].push(...R),i[P].push(...R),n.push(...L),r.push(...F),s[x].push(...F),i[P].push(...F)})}),r=cf(r,Ko),!r.length||r.length===1)return null;const c=([k,x])=>x.length?k.splitAt(x,Ko/100):[k];let l=Gn([e.curves,s]).flatMap(c),f=Gn([t.curves,i]).flatMap(c);const d=n.map(k=>[k.firstPoint,k.lastPoint]);if(r=Sk(r,l,t),!r.length&&!n.length)return null;if(n.length){const k=n[0];l=su(l,k),f=su(f,k)}else{const k=r[0];l=nu(l,k),f=nu(f,k)}const g=Array.from(ou(l,r,n));let w=Array.from(ou(f,r,n));return(!Pt(wa(w[0]),wa(g[0]))||n.length>0&&w[0].length!==1)&&(w=xk(w)),Gn([g,w]).map(([k,x])=>{const A=bk(k),P=wa(k);return d.find(([R,L])=>Pt(R,A)&&Pt(L,P)||Pt(R,P)&&Pt(R,A))?[k,"same"]:[k,x]})}const Ek=e=>{const t=e.map(c=>c.firstPoint);let r=e.map(c=>c.lastPoint);r=r.slice(-1).concat(r.slice(0,-1));const n=Gn([t,r]).map(([c,l],f)=>Pt(c,l)?null:f).filter(c=>c!==null);if(!n.length)return[e];const s=Gn([n.slice(0,-1),n.slice(1)]).map(([c,l])=>e.slice(c,l));let i=e.slice(n[n.length-1]);return n[0]!==0&&(i=i.concat(e.slice(0,n[0]))),s.push(i),s};function Rc(e,t,{firstInside:r,secondInside:n}){const s=Tk(e,t);if(!s){const d=Us(e.curves[0]),g=t.isInside(d),w=Us(t.curves[0]),k=e.isInside(w);return{identical:!1,firstCurveInSecond:g,secondCurveInFirst:k}}if(s.every(([,d])=>d==="same"))return{identical:!0};let i=null,c=null;const l=s.flatMap(([d,g])=>{let w=[],k=0;if(g==="same")return c===1?(c=1,[...d]):c===2||c===0?(c=null,[]):c===null?(i?i=[...i,...d]:i=d,[]):(console.error("weird situation"),[]);const x=Us(d[0]),A=t.isInside(x);(r==="keep"&&A||r==="remove"&&!A)&&(k+=1,w.push(...d));const P=Us(g[0]),R=e.isInside(P);if(n==="keep"&&R||n==="remove"&&!R){let L=g;k===1&&(L=Pc(g)),k+=1,w.push(...L)}return c===null&&k===1&&i&&(w=[...i,...w]),k===1&&(c=k,i=null),w}),f=Ek(l).filter(d=>d.length).map(d=>new Ee(d));return f.length===0?null:f.length===1?f[0]:vo(f)}const Ui=(e,t)=>{const r=Rc(e,t,{firstInside:"remove",secondInside:"remove"});return r===null||r instanceof Ee||r instanceof we?r:r.identical?e.clone():r.firstCurveInSecond?t.clone():r.secondCurveInFirst?e.clone():new we([e,t])},ro=(e,t)=>{const r=Rc(e,t,{firstInside:"remove",secondInside:"keep"});return r===null||r instanceof Ee||r instanceof we?r:r.identical||r.firstCurveInSecond?null:r.secondCurveInFirst?new we([new He([e,t])]):e.clone()},Dc=(e,t)=>{const r=Rc(e,t,{firstInside:"keep",secondInside:"keep"});return r===null||r instanceof Ee||r instanceof we?r:r.identical||r.firstCurveInSecond?e.clone():r.secondCurveInFirst?t.clone():null},Wa=(e,t)=>{if(e instanceof Ee&&t instanceof Ee){let r=[];return e.curves.forEach(n=>{t.curves.forEach(s=>{const{intersections:i,commonSegmentsPoints:c}=Qr(n,s);r.push(...i),r.push(...c)})}),r=cf(r),r.length>1}if(e instanceof He||e instanceof we)return e.blueprints.some(r=>Wa(r,t));if(t instanceof He||t instanceof we)return t.blueprints.some(r=>Wa(e,r));throw new Error("Bug in the generic intersects algorithm")},Ak=(e,t)=>{if(e instanceof He){if(t instanceof Ee)return yi(t,e);if(t instanceof He)return ki(e,t)}if(t instanceof He){if(e instanceof Ee)return yi(e,t);if(e instanceof He)return ki(e,t)}if(e instanceof Ee&&t instanceof Ee)return Ui(e,t);throw new Error("Bug in the generic fuse algorithm")},iu=e=>{const t=new Map,r=[];return e.forEach((n,s)=>{let i;t.has(s)?i=t.get(s):(i={current:n,fusedWith:new Set([s])},r.push(i)),e.slice(s+1).forEach((c,l)=>{const f=i.current,d=s+l+1;if(i.fusedWith.has(d))return;let g=c,w=!1;if(t.has(d)&&(g=t.get(d).current,w=!0),f.boundingBox.isOut(g.boundingBox)||!Wa(f,g))return;let k;if(f instanceof we||g instanceof we?k=Ir(f,g):k=Ak(f,g),!(k instanceof Ee||k instanceof He)){if(k instanceof we&&k.blueprints.length===2)return;if(k instanceof we&&k.blueprints.length===1)k=k.blueprints[0];else if(!(k instanceof we))throw console.error(k),new Error("Bug in blueprint fusing algorigthm")}i.fusedWith.add(d),i.current=k,w||t.set(d,i)})}),vo(r.map(({current:n})=>n).filter(n=>n).flatMap(n=>Ar(n)))},Ar=e=>e instanceof Ee?[e]:e instanceof He?e.blueprints:e instanceof we?e.blueprints.flatMap(t=>Ar(t)):[],yi=(e,t)=>{const r=Ui(e,t.blueprints[0]),n=t.blueprints.slice(1).map(s=>ro(s,e));return vo([...Ar(r),...n.flatMap(s=>Ar(s))])};function Ik(e,t){const r=[];for(const n of e)for(const s of t)r.push([n,s]);return r}const ki=(e,t)=>{const r=Ui(e.blueprints[0],t.blueprints[0]),n=t.blueprints.slice(1).map(c=>ro(c,e.blueprints[0])),s=e.blueprints.slice(1).map(c=>ro(c,t.blueprints[0])),i=Ik(e.blueprints.slice(1),t.blueprints.slice(1)).flatMap(([c,l])=>Ar(Dc(c,l)));return vo([...Ar(r),...n.flatMap(c=>Ar(c)),...s.flatMap(c=>Ar(c)),...i])},Ir=(e,t)=>{if(e===null)return t&&t.clone();if(t===null)return e&&e.clone();if(!(e instanceof we)&&t instanceof we)return iu([e,...t.blueprints]);if(!(t instanceof we)&&e instanceof we)return iu([t,...e.blueprints]);if(e instanceof we&&t instanceof we){let r=Ir(e.blueprints[0],t);return e.blueprints.slice(1).forEach(n=>{r=Ir(n,r)}),r}if(e instanceof He){if(t instanceof we)return Ir(t,e);if(t instanceof Ee)return yi(t,e);if(t instanceof He)return ki(e,t)}if(t instanceof He){if(e instanceof we)return Ir(e,t);if(e instanceof Ee)return yi(e,t);if(e instanceof He)return ki(e,t)}return e instanceof Ee&&t instanceof Ee?Ui(e,t):null},wi=e=>{const t=e.flatMap(r=>r===null?[]:r instanceof we?r.blueprints:r);return t.length===1?t[0]:new we(t)},$r=(e,t)=>{if(e===null)return null;if(t===null)return e.clone();if(e instanceof we)return wi(e.blueprints.map(n=>$r(n,t)));if(e instanceof He){const n=e.blueprints[0];if(t instanceof Ee&&!t.intersects(n)){if(!n.isInside(t.firstPoint))return null;const s=Ir(t,new we(e.blueprints.slice(1)));return vo([n,...Ar(s)])}else{let s=$r(e.blueprints[0],t);return e.blueprints.slice(1).forEach(i=>{s=$r(s,i)}),s}}if(t instanceof we)return wi(t.blueprints.map(n=>$r(e,n)));if(t instanceof He){let n=ro(e,t.blueprints[0]);return t.blueprints.slice(1).forEach(s=>{n=Ir(n,Dc(s,e))}),n}return ro(e,t)};function Gs(e,t){if(e===null||t===null)return null;if(e instanceof Ee&&t instanceof Ee)return Dc(e,t);if(e instanceof we)return wi(e.blueprints.map(r=>Gs(r,t)));if(e instanceof He){const r=e.blueprints[0],n=e.blueprints[1];return $r(Gs(r,t),n)}if(t instanceof we)return wi(t.blueprints.map(r=>Gs(e,r)));if(t instanceof He){const r=t.blueprints[0],n=t.blueprints[1];return $r(Gs(r,e),n)}throw new Error("intersct 2D algorithm error")}String.prototype.codePointAt||(function(){var e=(function(){try{var r={},n=Object.defineProperty,s=n(r,r,r)&&n}catch{}return s})(),t=function(r){if(this==null)throw TypeError();var n=String(this),s=n.length,i=r?Number(r):0;if(i!=i&&(i=0),!(i<0||i>=s)){var c=n.charCodeAt(i),l;return c>=55296&&c<=56319&&s>i+1&&(l=n.charCodeAt(i+1),l>=56320&&l<=57343)?(c-55296)*1024+l-56320+65536:c}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t})();function Nf(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Ck=new Nf,Pk=new Nf,Mf=new Uint8Array(30),Bf=new Uint16Array(30),Rk=new Uint8Array(30),Dk=new Uint16Array(30);function Uf(e,t,r,n){var s,i;for(s=0;s<r;++s)e[s]=0;for(s=0;s<30-r;++s)e[s+r]=s/r|0;for(i=n,s=0;s<30;++s)t[s]=i,i+=1<<e[s]}function Ok(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}Ok(Ck,Pk);Uf(Mf,Bf,4,3);Uf(Rk,Dk,2,1);Mf[28]=0;Bf[28]=258;function Nn(e,t,r,n,s){return Math.pow(1-s,3)*e+3*Math.pow(1-s,2)*s*t+3*(1-s)*Math.pow(s,2)*r+Math.pow(s,3)*n}function nn(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}nn.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};nn.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};nn.prototype.addX=function(e){this.addPoint(e,null)};nn.prototype.addY=function(e){this.addPoint(null,e)};nn.prototype.addBezier=function(e,t,r,n,s,i,c,l){var f=[e,t],d=[r,n],g=[s,i],w=[c,l];this.addPoint(e,t),this.addPoint(c,l);for(var k=0;k<=1;k++){var x=6*f[k]-12*d[k]+6*g[k],A=-3*f[k]+9*d[k]-9*g[k]+3*w[k],P=3*d[k]-3*f[k];if(A===0){if(x===0)continue;var R=-P/x;0<R&&R<1&&(k===0&&this.addX(Nn(f[k],d[k],g[k],w[k],R)),k===1&&this.addY(Nn(f[k],d[k],g[k],w[k],R)));continue}var L=Math.pow(x,2)-4*P*A;if(!(L<0)){var F=(-x+Math.sqrt(L))/(2*A);0<F&&F<1&&(k===0&&this.addX(Nn(f[k],d[k],g[k],w[k],F)),k===1&&this.addY(Nn(f[k],d[k],g[k],w[k],F)));var O=(-x-Math.sqrt(L))/(2*A);0<O&&O<1&&(k===0&&this.addX(Nn(f[k],d[k],g[k],w[k],O)),k===1&&this.addY(Nn(f[k],d[k],g[k],w[k],O)))}}};nn.prototype.addQuad=function(e,t,r,n,s,i){var c=e+.6666666666666666*(r-e),l=t+2/3*(n-t),f=c+1/3*(s-e),d=l+1/3*(i-t);this.addBezier(e,t,c,l,f,d,s,i)};function _t(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}_t.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};_t.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};_t.prototype.curveTo=_t.prototype.bezierCurveTo=function(e,t,r,n,s,i){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:s,y:i})};_t.prototype.quadTo=_t.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})};_t.prototype.close=_t.prototype.closePath=function(){this.commands.push({type:"Z"})};_t.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof nn){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};_t.prototype.getBoundingBox=function(){for(var e=new nn,t=0,r=0,n=0,s=0,i=0;i<this.commands.length;i++){var c=this.commands[i];switch(c.type){case"M":e.addPoint(c.x,c.y),t=n=c.x,r=s=c.y;break;case"L":e.addPoint(c.x,c.y),n=c.x,s=c.y;break;case"Q":e.addQuad(n,s,c.x1,c.y1,c.x,c.y),n=c.x,s=c.y;break;case"C":e.addBezier(n,s,c.x1,c.y1,c.x2,c.y2,c.x,c.y),n=c.x,s=c.y;break;case"Z":n=t,s=r;break;default:throw new Error("Unexpected path command "+c.type)}}return e.isEmpty()&&e.addPoint(0,0),e};_t.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?e.moveTo(r.x,r.y):r.type==="L"?e.lineTo(r.x,r.y):r.type==="C"?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};_t.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(c){return Math.round(c)===c?""+Math.round(c):c.toFixed(e)}function r(){for(var c=arguments,l="",f=0;f<arguments.length;f+=1){var d=c[f];d>=0&&f>0&&(l+=" "),l+=t(d)}return l}for(var n="",s=0;s<this.commands.length;s+=1){var i=this.commands[s];i.type==="M"?n+="M"+r(i.x,i.y):i.type==="L"?n+="L"+r(i.x,i.y):i.type==="C"?n+="C"+r(i.x1,i.y1,i.x2,i.y2,i.x,i.y):i.type==="Q"?n+="Q"+r(i.x1,i.y1,i.x,i.y):i.type==="Z"&&(n+="Z")}return n};_t.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};_t.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function Gf(e){throw new Error(e)}function au(e,t){e||Gf(t)}var be={fail:Gf,argument:au,assert:au},cu=32768,uu=2147483648,Xn={},ee={},de={};function cr(e){return function(){return e}}ee.BYTE=function(e){return be.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};de.BYTE=cr(1);ee.CHAR=function(e){return[e.charCodeAt(0)]};de.CHAR=cr(1);ee.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t};de.CHARARRAY=function(e){return typeof e>"u"?0:e.length};ee.USHORT=function(e){return[e>>8&255,e&255]};de.USHORT=cr(2);ee.SHORT=function(e){return e>=cu&&(e=-(2*cu-e)),[e>>8&255,e&255]};de.SHORT=cr(2);ee.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};de.UINT24=cr(3);ee.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};de.ULONG=cr(4);ee.LONG=function(e){return e>=uu&&(e=-(2*uu-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};de.LONG=cr(4);ee.FIXED=ee.ULONG;de.FIXED=de.ULONG;ee.FWORD=ee.SHORT;de.FWORD=de.SHORT;ee.UFWORD=ee.USHORT;de.UFWORD=de.USHORT;ee.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};de.LONGDATETIME=cr(8);ee.TAG=function(e){return be.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};de.TAG=cr(4);ee.Card8=ee.BYTE;de.Card8=de.BYTE;ee.Card16=ee.USHORT;de.Card16=de.USHORT;ee.OffSize=ee.BYTE;de.OffSize=de.BYTE;ee.SID=ee.USHORT;de.SID=de.USHORT;ee.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?ee.NUMBER16(e):ee.NUMBER32(e)};de.NUMBER=function(e){return ee.NUMBER(e).length};ee.NUMBER16=function(e){return[28,e>>8&255,e&255]};de.NUMBER16=cr(3);ee.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};de.NUMBER32=cr(5);ee.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var s="",i=0,c=t.length;i<c;i+=1){var l=t[i];l==="e"?s+=t[++i]==="-"?"c":"b":l==="."?s+="a":l==="-"?s+="e":s+=l}s+=s.length&1?"f":"ff";for(var f=[30],d=0,g=s.length;d<g;d+=2)f.push(parseInt(s.substr(d,2),16));return f};de.REAL=function(e){return ee.REAL(e).length};ee.NAME=ee.CHARARRAY;de.NAME=de.CHARARRAY;ee.STRING=ee.CHARARRAY;de.STRING=de.CHARARRAY;Xn.UTF8=function(e,t,r){for(var n=[],s=r,i=0;i<s;i++,t+=1)n[i]=e.getUint8(t);return String.fromCharCode.apply(null,n)};Xn.UTF16=function(e,t,r){for(var n=[],s=r/2,i=0;i<s;i++,t+=2)n[i]=e.getUint16(t);return String.fromCharCode.apply(null,n)};ee.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=n&255}return t};de.UTF16=function(e){return e.length*2};var Va={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};Xn.MACSTRING=function(e,t,r,n){var s=Va[n];if(s!==void 0){for(var i="",c=0;c<r;c++){var l=e.getUint8(t+c);l<=127?i+=String.fromCharCode(l):i+=s[l&127]}return i}};var Go=typeof WeakMap=="function"&&new WeakMap,jo,Lk=function(e){if(!jo){jo={};for(var t in Va)jo[t]=new String(t)}var r=jo[e];if(r!==void 0){if(Go){var n=Go.get(r);if(n!==void 0)return n}var s=Va[e];if(s!==void 0){for(var i={},c=0;c<s.length;c++)i[s.charCodeAt(c)]=c+128;return Go&&Go.set(r,i),i}}};ee.MACSTRING=function(e,t){var r=Lk(t);if(r!==void 0){for(var n=[],s=0;s<e.length;s++){var i=e.charCodeAt(s);if(i>=128&&(i=r[i],i===void 0))return;n[s]=i}return n}};de.MACSTRING=function(e,t){var r=ee.MACSTRING(e,t);return r!==void 0?r.length:0};function za(e){return e>=-128&&e<=127}function Fk(e,t,r){for(var n=0,s=e.length;t<s&&n<64&&e[t]===0;)++t,++n;return r.push(128|n-1),t}function Nk(e,t,r){for(var n=0,s=e.length,i=t;i<s&&n<64;){var c=e[i];if(!za(c)||c===0&&i+1<s&&e[i+1]===0)break;++i,++n}r.push(n-1);for(var l=t;l<i;++l)r.push(e[l]+256&255);return i}function Mk(e,t,r){for(var n=0,s=e.length,i=t;i<s&&n<64;){var c=e[i];if(c===0||za(c)&&i+1<s&&za(e[i+1]))break;++i,++n}r.push(64|n-1);for(var l=t;l<i;++l){var f=e[l];r.push(f+65536>>8&255,f+256&255)}return i}ee.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];n===0?t=Fk(e,t,r):n>=-128&&n<=127?t=Nk(e,t,r):t=Mk(e,t,r)}return r};ee.INDEX=function(e){for(var t=1,r=[t],n=[],s=0;s<e.length;s+=1){var i=ee.OBJECT(e[s]);Array.prototype.push.apply(n,i),t+=i.length,r.push(t)}if(n.length===0)return[0,0];for(var c=[],l=1+Math.floor(Math.log(t)/Math.log(2))/8|0,f=[void 0,ee.BYTE,ee.USHORT,ee.UINT24,ee.ULONG][l],d=0;d<r.length;d+=1){var g=f(r[d]);Array.prototype.push.apply(c,g)}return Array.prototype.concat(ee.Card16(e.length),ee.OffSize(l),c,n)};de.INDEX=function(e){return ee.INDEX(e).length};ee.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,s=0;s<n;s+=1){var i=parseInt(r[s],0),c=e[i];t=t.concat(ee.OPERAND(c.value,c.type)),t=t.concat(ee.OPERATOR(i))}return t};de.DICT=function(e){return ee.DICT(e).length};ee.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};ee.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)be.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(ee.OPERAND(e[n],t[n]));else if(t==="SID")r=r.concat(ee.NUMBER(e));else if(t==="offset")r=r.concat(ee.NUMBER32(e));else if(t==="number")r=r.concat(ee.NUMBER(e));else if(t==="real")r=r.concat(ee.REAL(e));else throw new Error("Unknown operand type "+t);return r};ee.OP=ee.BYTE;de.OP=de.BYTE;var Ho=typeof WeakMap=="function"&&new WeakMap;ee.CHARSTRING=function(e){if(Ho){var t=Ho.get(e);if(t!==void 0)return t}for(var r=[],n=e.length,s=0;s<n;s+=1){var i=e[s];r=r.concat(ee[i.type](i.value))}return Ho&&Ho.set(e,r),r};de.CHARSTRING=function(e){return ee.CHARSTRING(e).length};ee.OBJECT=function(e){var t=ee[e.type];return be.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};de.OBJECT=function(e){var t=de[e.type];return be.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};ee.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],s=[],i=0;i<r;i+=1){var c=e.fields[i],l=ee[c.type];be.argument(l!==void 0,"No encoding function for field type "+c.type+" ("+c.name+")");var f=e[c.name];f===void 0&&(f=c.value);var d=l(f);c.type==="TABLE"?(s.push(t.length),t=t.concat([0,0]),n.push(d)):t=t.concat(d)}for(var g=0;g<n.length;g+=1){var w=s[g],k=t.length;be.argument(k<65536,"Table "+e.tableName+" too big."),t[w]=k>>8,t[w+1]=k&255,t=t.concat(n[g])}return t};de.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var s=e.fields[n],i=de[s.type];be.argument(i!==void 0,"No sizeOf function for field type "+s.type+" ("+s.name+")");var c=e[s.name];c===void 0&&(c=s.value),t+=i(c),s.type==="TABLE"&&(t+=2)}return t};ee.RECORD=ee.TABLE;de.RECORD=de.TABLE;ee.LITERAL=function(e){return e};de.LITERAL=function(e){return e.length};function St(e,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var n=0;n<t.length;n+=1){var s=t[n];this[s.name]=s.value}if(this.tableName=e,this.fields=t,r)for(var i=Object.keys(r),c=0;c<i.length;c+=1){var l=i[c],f=r[l];this[l]!==void 0&&(this[l]=f)}}St.prototype.encode=function(){return ee.TABLE(this)};St.prototype.sizeOf=function(){return de.TABLE(this)};function no(e,t,r){r===void 0&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var s=0;s<t.length;s++)n[s+1]={name:e+s,type:"USHORT",value:t[s]};return n}function $a(e,t,r){var n=t.length,s=new Array(n+1);s[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<n;i++)s[i+1]={name:e+i,type:"TABLE",value:r(t[i],i)};return s}function so(e,t,r){var n=t.length,s=[];s[0]={name:e+"Count",type:"USHORT",value:n};for(var i=0;i<n;i++)s=s.concat(r(t[i],i));return s}function _i(e){e.format===1?St.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(no("glyph",e.glyphs))):e.format===2?St.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(so("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):be.assert(!1,"Coverage format must be 1 or 2.")}_i.prototype=Object.create(St.prototype);_i.prototype.constructor=_i;function bi(e){St.call(this,"scriptListTable",so("scriptRecord",e,function(t,r){var n=t.script,s=n.defaultLangSys;return be.assert(!!s,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new St("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new St("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:s.reqFeatureIndex}].concat(no("featureIndex",s.featureIndexes)))}].concat(so("langSys",n.langSysRecords,function(i,c){var l=i.langSys;return[{name:"langSysTag"+c,type:"TAG",value:i.tag},{name:"langSys"+c,type:"TABLE",value:new St("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat(no("featureIndex",l.featureIndexes)))}]})))}]}))}bi.prototype=Object.create(St.prototype);bi.prototype.constructor=bi;function xi(e){St.call(this,"featureListTable",so("featureRecord",e,function(t,r){var n=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new St("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat(no("lookupListIndex",n.lookupListIndexes)))}]}))}xi.prototype=Object.create(St.prototype);xi.prototype.constructor=xi;function Si(e,t){St.call(this,"lookupListTable",$a("lookup",e,function(r){var n=t[r.lookupType];return be.assert(!!n,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new St("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat($a("subtable",r.subtables,n)))}))}Si.prototype=Object.create(St.prototype);Si.prototype.constructor=Si;var se={Table:St,Record:St,Coverage:_i,ScriptList:bi,FeatureList:xi,LookupList:Si,ushortList:no,tableList:$a,recordList:so};function lu(e,t){return e.getUint8(t)}function Ti(e,t){return e.getUint16(t,!1)}function Bk(e,t){return e.getInt16(t,!1)}function Oc(e,t){return e.getUint32(t,!1)}function jf(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535}function Uk(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r}function Gk(e,t,r){for(var n=0,s=0;s<r;s+=1)n<<=8,n+=e.getUint8(t+s);return n}function jk(e,t,r){for(var n=[],s=t;s<r;s+=1)n.push(e.getUint8(s));return n}function Hk(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t}var qk={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function N(e,t){this.data=e,this.offset=t,this.relativeOffset=0}N.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};N.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};N.prototype.parseCard8=N.prototype.parseByte;N.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};N.prototype.parseCard16=N.prototype.parseUShort;N.prototype.parseSID=N.prototype.parseUShort;N.prototype.parseOffset16=N.prototype.parseUShort;N.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};N.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};N.prototype.parseULong=function(){var e=Oc(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};N.prototype.parseOffset32=N.prototype.parseULong;N.prototype.parseFixed=function(){var e=jf(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};N.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var s=0;s<e;s++)n+=String.fromCharCode(t.getUint8(r+s));return n};N.prototype.parseTag=function(){return this.parseString(4)};N.prototype.parseLongDateTime=function(){var e=Oc(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};N.prototype.parseVersion=function(e){var t=Ti(this.data,this.offset+this.relativeOffset),r=Ti(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+r/e/10};N.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=qk[e]*t};N.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint32(n),n+=4;return this.relativeOffset+=e*4,t};N.prototype.parseOffset16List=N.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint16(n),n+=2;return this.relativeOffset+=e*2,t};N.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getInt16(n),n+=2;return this.relativeOffset+=e*2,t};N.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint8(n++);return this.relativeOffset+=e,t};N.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};N.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};N.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),s=0;s<e;s++){for(var i={},c=0;c<n.length;c++){var l=n[c],f=t[l];i[l]=f.call(this)}r[s]=i}return r};N.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),s=0;s<e;s++){for(var i={},c=0;c<n.length;c++){var l=n[c],f=t[l];i[l]=f.call(this)}r[s]=i}return r};N.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n],i=e[s];r[s]=i.call(this)}return r};N.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};N.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r};N.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new N(this.data,this.offset+t).parseStruct(e)};N.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new N(this.data,this.offset+t).parseStruct(e)};N.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,s=new Array(r),i=0;i<r;i++){var c=t[i];if(c===0){s[i]=void 0;continue}if(this.relativeOffset=c,e){for(var l=this.parseOffset16List(),f=new Array(l.length),d=0;d<l.length;d++)this.relativeOffset=c+l[d],f[d]=e.call(this);s[i]=f}else s[i]=this.parseUShortList()}return this.relativeOffset=n,s};N.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var n=new Array(r),s=0;s<r;s++)n[s]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};N.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:N.uShort,end:N.uShort,classId:N.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};N.list=function(e,t){return function(){return this.parseList(e,t)}};N.list32=function(e,t){return function(){return this.parseList32(e,t)}};N.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};N.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};N.pointer=function(e){return function(){return this.parsePointer(e)}};N.pointer32=function(e){return function(){return this.parsePointer32(e)}};N.tag=N.prototype.parseTag;N.byte=N.prototype.parseByte;N.uShort=N.offset16=N.prototype.parseUShort;N.uShortList=N.prototype.parseUShortList;N.uLong=N.offset32=N.prototype.parseULong;N.uLongList=N.prototype.parseULongList;N.struct=N.prototype.parseStruct;N.coverage=N.prototype.parseCoverage;N.classDef=N.prototype.parseClassDef;var fu={reserved:N.uShort,reqFeatureIndex:N.uShort,featureIndexes:N.uShortList};N.prototype.parseScriptList=function(){return this.parsePointer(N.recordList({tag:N.tag,script:N.pointer({defaultLangSys:N.pointer(fu),langSysRecords:N.recordList({tag:N.tag,langSys:N.pointer(fu)})})}))||[]};N.prototype.parseFeatureList=function(){return this.parsePointer(N.recordList({tag:N.tag,feature:N.pointer({featureParams:N.offset16,lookupListIndexes:N.uShortList})}))||[]};N.prototype.parseLookupList=function(e){return this.parsePointer(N.list(N.pointer(function(){var t=this.parseUShort();be.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(N.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]};N.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();be.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:N.offset32,featureTableSubstitutionOffset:N.offset32});return r})||[]};var xe={getByte:lu,getCard8:lu,getUShort:Ti,getCard16:Ti,getShort:Bk,getULong:Oc,getFixed:jf,getTag:Uk,getOffset:Gk,getBytes:jk,bytesToString:Hk,Parser:N};function Wk(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var r;e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var s=t.parseULong(),i=t.parseULong(),c=t.parseULong(),l=s;l<=i;l+=1)e.glyphIndexMap[l]=c,c++}function Vk(e,t,r,n,s){e.length=t.parseUShort(),e.language=t.parseUShort();var i;e.segCount=i=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var c=new xe.Parser(r,n+s+14),l=new xe.Parser(r,n+s+16+i*2),f=new xe.Parser(r,n+s+16+i*4),d=new xe.Parser(r,n+s+16+i*6),g=n+s+16+i*8,w=0;w<i-1;w+=1)for(var k=void 0,x=c.parseUShort(),A=l.parseUShort(),P=f.parseShort(),R=d.parseUShort(),L=A;L<=x;L+=1)R!==0?(g=d.offset+d.relativeOffset-2,g+=R,g+=(L-A)*2,k=xe.getUShort(r,g),k!==0&&(k=k+P&65535)):k=L+P&65535,e.glyphIndexMap[L]=k}function zk(e,t){var r={};r.version=xe.getUShort(e,t),be.argument(r.version===0,"cmap table version should be 0."),r.numTables=xe.getUShort(e,t+2);for(var n=-1,s=r.numTables-1;s>=0;s-=1){var i=xe.getUShort(e,t+4+s*8),c=xe.getUShort(e,t+4+s*8+2);if(i===3&&(c===0||c===1||c===10)||i===0&&(c===0||c===1||c===2||c===3||c===4)){n=xe.getULong(e,t+4+s*8+4);break}}if(n===-1)throw new Error("No valid cmap sub-tables found.");var l=new xe.Parser(e,t+n);if(r.format=l.parseUShort(),r.format===12)Wk(r,l);else if(r.format===4)Vk(r,l,e,t,n);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function $k(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function Xk(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function Yk(e){var t=!0,r;for(r=e.length-1;r>0;r-=1){var n=e.get(r);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var s=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(s=s.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),s=s.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var i=new se.Table("cmap",s);for(i.segments=[],r=0;r<e.length;r+=1){for(var c=e.get(r),l=0;l<c.unicodes.length;l+=1)$k(i,c.unicodes[l],r);i.segments=i.segments.sort(function(F,O){return F.start-O.start})}Xk(i);var f=i.segments.length,d=0,g=[],w=[],k=[],x=[],A=[],P=[];for(r=0;r<f;r+=1){var R=i.segments[r];R.end<=65535&&R.start<=65535?(g=g.concat({name:"end_"+r,type:"USHORT",value:R.end}),w=w.concat({name:"start_"+r,type:"USHORT",value:R.start}),k=k.concat({name:"idDelta_"+r,type:"SHORT",value:R.delta}),x=x.concat({name:"idRangeOffset_"+r,type:"USHORT",value:R.offset}),R.glyphId!==void 0&&(A=A.concat({name:"glyph_"+r,type:"USHORT",value:R.glyphId}))):d+=1,!t&&R.glyphIndex!==void 0&&(P=P.concat({name:"cmap12Start_"+r,type:"ULONG",value:R.start}),P=P.concat({name:"cmap12End_"+r,type:"ULONG",value:R.end}),P=P.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:R.glyphIndex}))}if(i.segCountX2=(f-d)*2,i.searchRange=Math.pow(2,Math.floor(Math.log(f-d)/Math.log(2)))*2,i.entrySelector=Math.log(i.searchRange/2)/Math.log(2),i.rangeShift=i.segCountX2-i.searchRange,i.fields=i.fields.concat(g),i.fields.push({name:"reservedPad",type:"USHORT",value:0}),i.fields=i.fields.concat(w),i.fields=i.fields.concat(k),i.fields=i.fields.concat(x),i.fields=i.fields.concat(A),i.cmap4Length=14+g.length*2+2+w.length*2+k.length*2+x.length*2+A.length*2,!t){var L=16+P.length*4;i.cmap12Offset=20+i.cmap4Length,i.fields=i.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:L},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:P.length/3}]),i.fields=i.fields.concat(P)}return i}var Zk={parse:zk,make:Yk},Qo=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],Kk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],Qk=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],hu=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Hf(e){this.font=e}Hf.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var s=r.get(n),i=0;i<s.unicodes.length;i+=1)if(s.unicodes[i]===t)return n}return null};function Ei(e,t){this.encoding=e,this.charset=t}Ei.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function Jk(e,t,r,n,s){e.beginPath(),e.moveTo(t,r),e.lineTo(n,s),e.stroke()}var ln={line:Jk};function ew(e,t){var r=t||new _t;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function Yt(e){this.bindConstructorValues(e)}Yt.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",ew(this,e.path))};Yt.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};Yt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Yt.prototype.getPath=function(e,t,r,n,s){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var i,c;n||(n={});var l=n.xScale,f=n.yScale;if(n.hinting&&s&&s.hinting&&(c=this.path&&s.hinting.exec(this,r)),c)i=s.hinting.getCommands(c),e=Math.round(e),t=Math.round(t),l=f=1;else{i=this.path.commands;var d=1/(this.path.unitsPerEm||1e3)*r;l===void 0&&(l=d),f===void 0&&(f=d)}for(var g=new _t,w=0;w<i.length;w+=1){var k=i[w];k.type==="M"?g.moveTo(e+k.x*l,t+-k.y*f):k.type==="L"?g.lineTo(e+k.x*l,t+-k.y*f):k.type==="Q"?g.quadraticCurveTo(e+k.x1*l,t+-k.y1*f,e+k.x*l,t+-k.y*f):k.type==="C"?g.curveTo(e+k.x1*l,t+-k.y1*f,e+k.x2*l,t+-k.y2*f,e+k.x*l,t+-k.y*f):k.type==="Z"&&g.closePath()}return g};Yt.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return be.argument(t.length===0,"There are still points left in the current contour."),e};Yt.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var s=e[n];s.type!=="Z"&&(t.push(s.x),r.push(s.y)),(s.type==="Q"||s.type==="C")&&(t.push(s.x1),r.push(s.y1)),s.type==="C"&&(t.push(s.x2),r.push(s.y2))}var i={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i};Yt.prototype.draw=function(e,t,r,n,s){this.getPath(t,r,n,s).draw(e)};Yt.prototype.drawPoints=function(e,t,r,n){function s(w,k,x,A){e.beginPath();for(var P=0;P<w.length;P+=1)e.moveTo(k+w[P].x*A,x+w[P].y*A),e.arc(k+w[P].x*A,x+w[P].y*A,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var i=1/this.path.unitsPerEm*n,c=[],l=[],f=this.path,d=0;d<f.commands.length;d+=1){var g=f.commands[d];g.x!==void 0&&c.push({x:g.x,y:-g.y}),g.x1!==void 0&&l.push({x:g.x1,y:-g.y1}),g.x2!==void 0&&l.push({x:g.x2,y:-g.y2})}e.fillStyle="blue",s(c,t,r,i),e.fillStyle="red",s(l,t,r,i)};Yt.prototype.drawMetrics=function(e,t,r,n){var s;t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24,s=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",ln.line(e,t,-1e4,t,1e4),ln.line(e,-1e4,r,1e4,r);var i=this.xMin||0,c=this.yMin||0,l=this.xMax||0,f=this.yMax||0,d=this.advanceWidth||0;e.strokeStyle="blue",ln.line(e,t+i*s,-1e4,t+i*s,1e4),ln.line(e,t+l*s,-1e4,t+l*s,1e4),ln.line(e,-1e4,r+-c*s,1e4,r+-c*s),ln.line(e,-1e4,r+-f*s,1e4,r+-f*s),e.strokeStyle="green",ln.line(e,t+d*s,-1e4,t+d*s,1e4)};function qo(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(n){e[r]=n},enumerable:!0,configurable:!0})}function Lc(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}Lc.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};Lc.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function tw(e,t){return new Yt({index:t,font:e})}function rw(e,t,r,n,s,i){return function(){var c=new Yt({index:t,font:e});return c.path=function(){r(c,n,s);var l=i(e.glyphs,c);return l.unitsPerEm=e.unitsPerEm,l},qo(c,"xMin","_xMin"),qo(c,"xMax","_xMax"),qo(c,"yMin","_yMin"),qo(c,"yMax","_yMax"),c}}function nw(e,t,r,n){return function(){var s=new Yt({index:t,font:e});return s.path=function(){var i=r(e,s,n);return i.unitsPerEm=e.unitsPerEm,i},s}}var gr={GlyphSet:Lc,glyphLoader:tw,ttfGlyphLoader:rw,cffGlyphLoader:nw};function qf(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!qf(e[r],t[r]))return!1;return!0}else return!1}function Xa(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function Vr(e,t,r){var n=[],s=[],i=xe.getCard16(e,t),c,l;if(i!==0){var f=xe.getByte(e,t+2);c=t+(i+1)*f+2;for(var d=t+3,g=0;g<i+1;g+=1)n.push(xe.getOffset(e,d,f)),d+=f;l=c+n[i]}else l=t+2;for(var w=0;w<n.length-1;w+=1){var k=xe.getBytes(e,c+n[w],c+n[w+1]);r&&(k=r(k)),s.push(k)}return{objects:s,startOffset:t,endOffset:l}}function sw(e,t){var r=[],n=xe.getCard16(e,t),s,i;if(n!==0){var c=xe.getByte(e,t+2);s=t+(n+1)*c+2;for(var l=t+3,f=0;f<n+1;f+=1)r.push(xe.getOffset(e,l,c)),l+=c;i=s+r[n]}else i=t+2;return{offsets:r,startOffset:t,endOffset:i}}function ow(e,t,r,n,s){var i=xe.getCard16(r,n),c=0;if(i!==0){var l=xe.getByte(r,n+2);c=n+(i+1)*l+2}var f=xe.getBytes(r,c+t[e],c+t[e+1]);return f}function iw(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var s=e.parseByte(),i=s>>4,c=s&15;if(i===r||(t+=n[i],c===r))break;t+=n[c]}return parseFloat(t)}function aw(e,t){var r,n,s,i;if(t===28)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(t===29)return r=e.parseByte(),n=e.parseByte(),s=e.parseByte(),i=e.parseByte(),r<<24|n<<16|s<<8|i;if(t===30)return iw(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=e.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=e.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function cw(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],s=e[r][1],i=void 0;if(s.length===1?i=s[0]:i=s,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=i}return t}function Wf(e,t,r){t=t!==void 0?t:0;var n=new xe.Parser(e,t),s=[],i=[];for(r=r!==void 0?r:e.length;n.relativeOffset<r;){var c=n.parseByte();c<=21?(c===12&&(c=1200+n.parseByte()),s.push([c,i]),i=[]):i.push(aw(n,c))}return cw(s)}function Ws(e,t){return t<=390?t=Qo[t]:t=e[t-391],t}function Vf(e,t,r){for(var n={},s,i=0;i<t.length;i+=1){var c=t[i];if(Array.isArray(c.type)){var l=[];l.length=c.type.length;for(var f=0;f<c.type.length;f++)s=e[c.op]!==void 0?e[c.op][f]:void 0,s===void 0&&(s=c.value!==void 0&&c.value[f]!==void 0?c.value[f]:null),c.type[f]==="SID"&&(s=Ws(r,s)),l[f]=s;n[c.name]=l}else s=e[c.op],s===void 0&&(s=c.value!==void 0?c.value:null),c.type==="SID"&&(s=Ws(r,s)),n[c.name]=s}return n}function uw(e,t){var r={};return r.formatMajor=xe.getCard8(e,t),r.formatMinor=xe.getCard8(e,t+1),r.size=xe.getCard8(e,t+2),r.offsetSize=xe.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}var zf=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],$f=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function lw(e,t){var r=Wf(e,0,e.byteLength);return Vf(r,zf,t)}function Xf(e,t,r,n){var s=Wf(e,t,r);return Vf(s,$f,n)}function pu(e,t,r,n){for(var s=[],i=0;i<r.length;i+=1){var c=new DataView(new Uint8Array(r[i]).buffer),l=lw(c,n);l._subrs=[],l._subrsBias=0,l._defaultWidthX=0,l._nominalWidthX=0;var f=l.private[0],d=l.private[1];if(f!==0&&d!==0){var g=Xf(e,d+t,f,n);if(l._defaultWidthX=g.defaultWidthX,l._nominalWidthX=g.nominalWidthX,g.subrs!==0){var w=d+g.subrs,k=Vr(e,w+t);l._subrs=k.objects,l._subrsBias=Xa(l._subrs)}l._privateDict=g}s.push(l)}return s}function fw(e,t,r,n){var s,i,c=new xe.Parser(e,t);r-=1;var l=[".notdef"],f=c.parseCard8();if(f===0)for(var d=0;d<r;d+=1)s=c.parseSID(),l.push(Ws(n,s));else if(f===1)for(;l.length<=r;){s=c.parseSID(),i=c.parseCard8();for(var g=0;g<=i;g+=1)l.push(Ws(n,s)),s+=1}else if(f===2)for(;l.length<=r;){s=c.parseSID(),i=c.parseCard16();for(var w=0;w<=i;w+=1)l.push(Ws(n,s)),s+=1}else throw new Error("Unknown charset format "+f);return l}function hw(e,t,r){var n,s={},i=new xe.Parser(e,t),c=i.parseCard8();if(c===0)for(var l=i.parseCard8(),f=0;f<l;f+=1)n=i.parseCard8(),s[n]=f;else if(c===1){var d=i.parseCard8();n=1;for(var g=0;g<d;g+=1)for(var w=i.parseCard8(),k=i.parseCard8(),x=w;x<=w+k;x+=1)s[x]=n,n+=1}else throw new Error("Unknown encoding format "+c);return new Ei(s,r)}function du(e,t,r){var n,s,i,c,l=new _t,f=[],d=0,g=!1,w=!1,k=0,x=0,A,P,R,L;if(e.isCIDFont){var F=e.tables.cff.topDict._fdSelect[t.index],O=e.tables.cff.topDict._fdArray[F];A=O._subrs,P=O._subrsBias,R=O._defaultWidthX,L=O._nominalWidthX}else A=e.tables.cff.topDict._subrs,P=e.tables.cff.topDict._subrsBias,R=e.tables.cff.topDict._defaultWidthX,L=e.tables.cff.topDict._nominalWidthX;var V=R;function te(he,Se){w&&l.closePath(),l.moveTo(he,Se),w=!0}function ce(){var he;he=f.length%2!==0,he&&!g&&(V=f.shift()+L),d+=f.length>>1,f.length=0,g=!0}function ae(he){for(var Se,De,Ae,Oe,Qe,Ne,je,qe,Le,me,Ye,Je,Be=0;Be<he.length;){var We=he[Be];switch(Be+=1,We){case 1:ce();break;case 3:ce();break;case 4:f.length>1&&!g&&(V=f.shift()+L,g=!0),x+=f.pop(),te(k,x);break;case 5:for(;f.length>0;)k+=f.shift(),x+=f.shift(),l.lineTo(k,x);break;case 6:for(;f.length>0&&(k+=f.shift(),l.lineTo(k,x),f.length!==0);)x+=f.shift(),l.lineTo(k,x);break;case 7:for(;f.length>0&&(x+=f.shift(),l.lineTo(k,x),f.length!==0);)k+=f.shift(),l.lineTo(k,x);break;case 8:for(;f.length>0;)n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c+f.shift(),l.curveTo(n,s,i,c,k,x);break;case 10:Qe=f.pop()+P,Ne=A[Qe],Ne&&ae(Ne);break;case 11:return;case 12:switch(We=he[Be],Be+=1,We){case 35:n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),je=i+f.shift(),qe=c+f.shift(),Le=je+f.shift(),me=qe+f.shift(),Ye=Le+f.shift(),Je=me+f.shift(),k=Ye+f.shift(),x=Je+f.shift(),f.shift(),l.curveTo(n,s,i,c,je,qe),l.curveTo(Le,me,Ye,Je,k,x);break;case 34:n=k+f.shift(),s=x,i=n+f.shift(),c=s+f.shift(),je=i+f.shift(),qe=c,Le=je+f.shift(),me=c,Ye=Le+f.shift(),Je=x,k=Ye+f.shift(),l.curveTo(n,s,i,c,je,qe),l.curveTo(Le,me,Ye,Je,k,x);break;case 36:n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),je=i+f.shift(),qe=c,Le=je+f.shift(),me=c,Ye=Le+f.shift(),Je=me+f.shift(),k=Ye+f.shift(),l.curveTo(n,s,i,c,je,qe),l.curveTo(Le,me,Ye,Je,k,x);break;case 37:n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),je=i+f.shift(),qe=c+f.shift(),Le=je+f.shift(),me=qe+f.shift(),Ye=Le+f.shift(),Je=me+f.shift(),Math.abs(Ye-k)>Math.abs(Je-x)?k=Ye+f.shift():x=Je+f.shift(),l.curveTo(n,s,i,c,je,qe),l.curveTo(Le,me,Ye,Je,k,x);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+We),f.length=0}break;case 14:f.length>0&&!g&&(V=f.shift()+L,g=!0),w&&(l.closePath(),w=!1);break;case 18:ce();break;case 19:case 20:ce(),Be+=d+7>>3;break;case 21:f.length>2&&!g&&(V=f.shift()+L,g=!0),x+=f.pop(),k+=f.pop(),te(k,x);break;case 22:f.length>1&&!g&&(V=f.shift()+L,g=!0),k+=f.pop(),te(k,x);break;case 23:ce();break;case 24:for(;f.length>2;)n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c+f.shift(),l.curveTo(n,s,i,c,k,x);k+=f.shift(),x+=f.shift(),l.lineTo(k,x);break;case 25:for(;f.length>6;)k+=f.shift(),x+=f.shift(),l.lineTo(k,x);n=k+f.shift(),s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c+f.shift(),l.curveTo(n,s,i,c,k,x);break;case 26:for(f.length%2&&(k+=f.shift());f.length>0;)n=k,s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i,x=c+f.shift(),l.curveTo(n,s,i,c,k,x);break;case 27:for(f.length%2&&(x+=f.shift());f.length>0;)n=k+f.shift(),s=x,i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c,l.curveTo(n,s,i,c,k,x);break;case 28:Se=he[Be],De=he[Be+1],f.push((Se<<24|De<<16)>>16),Be+=2;break;case 29:Qe=f.pop()+e.gsubrsBias,Ne=e.gsubrs[Qe],Ne&&ae(Ne);break;case 30:for(;f.length>0&&(n=k,s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c+(f.length===1?f.shift():0),l.curveTo(n,s,i,c,k,x),f.length!==0);)n=k+f.shift(),s=x,i=n+f.shift(),c=s+f.shift(),x=c+f.shift(),k=i+(f.length===1?f.shift():0),l.curveTo(n,s,i,c,k,x);break;case 31:for(;f.length>0&&(n=k+f.shift(),s=x,i=n+f.shift(),c=s+f.shift(),x=c+f.shift(),k=i+(f.length===1?f.shift():0),l.curveTo(n,s,i,c,k,x),f.length!==0);)n=k,s=x+f.shift(),i=n+f.shift(),c=s+f.shift(),k=i+f.shift(),x=c+(f.length===1?f.shift():0),l.curveTo(n,s,i,c,k,x);break;default:We<32?console.log("Glyph "+t.index+": unknown operator "+We):We<247?f.push(We-139):We<251?(Se=he[Be],Be+=1,f.push((We-247)*256+Se+108)):We<255?(Se=he[Be],Be+=1,f.push(-(We-251)*256-Se-108)):(Se=he[Be],De=he[Be+1],Ae=he[Be+2],Oe=he[Be+3],Be+=4,f.push((Se<<24|De<<16|Ae<<8|Oe)/65536))}}}return ae(r),t.advanceWidth=V,l}function pw(e,t,r,n){var s=[],i,c=new xe.Parser(e,t),l=c.parseCard8();if(l===0)for(var f=0;f<r;f++){if(i=c.parseCard8(),i>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");s.push(i)}else if(l===3){var d=c.parseCard16(),g=c.parseCard16();if(g!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+g);for(var w,k=0;k<d;k++){if(i=c.parseCard8(),w=c.parseCard16(),i>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+i+" (FD count "+n+")");if(w>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+w);for(;g<w;g++)s.push(i);g=w}if(w!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+w)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+l);return s}function dw(e,t,r,n){r.tables.cff={};var s=uw(e,t),i=Vr(e,s.endOffset,xe.bytesToString),c=Vr(e,i.endOffset),l=Vr(e,c.endOffset,xe.bytesToString),f=Vr(e,l.endOffset);r.gsubrs=f.objects,r.gsubrsBias=Xa(r.gsubrs);var d=pu(e,t,c.objects,l.objects);if(d.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+d.length);var g=d[0];if(r.tables.cff.topDict=g,g._privateDict&&(r.defaultWidthX=g._privateDict.defaultWidthX,r.nominalWidthX=g._privateDict.nominalWidthX),g.ros[0]!==void 0&&g.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var w=g.fdArray,k=g.fdSelect;if(w===0||k===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");w+=t;var x=Vr(e,w),A=pu(e,t,x.objects,l.objects);g._fdArray=A,k+=t,g._fdSelect=pw(e,k,r.numGlyphs,A.length)}var P=t+g.private[1],R=Xf(e,P,g.private[0],l.objects);if(r.defaultWidthX=R.defaultWidthX,r.nominalWidthX=R.nominalWidthX,R.subrs!==0){var L=P+R.subrs,F=Vr(e,L);r.subrs=F.objects,r.subrsBias=Xa(r.subrs)}else r.subrs=[],r.subrsBias=0;var O;n.lowMemory?(O=sw(e,t+g.charStrings),r.nGlyphs=O.offsets.length):(O=Vr(e,t+g.charStrings),r.nGlyphs=O.objects.length);var V=fw(e,t+g.charset,r.nGlyphs,l.objects);if(g.encoding===0?r.cffEncoding=new Ei(Kk,V):g.encoding===1?r.cffEncoding=new Ei(Qk,V):r.cffEncoding=hw(e,t+g.encoding,V),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new gr.GlyphSet(r),n.lowMemory)r._push=function(ae){var he=ow(ae,O.offsets,e,t+g.charStrings);r.glyphs.push(ae,gr.cffGlyphLoader(r,ae,du,he))};else for(var te=0;te<r.nGlyphs;te+=1){var ce=O.objects[te];r.glyphs.push(te,gr.cffGlyphLoader(r,te,du,ce))}}function Yf(e,t){var r,n=Qo.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+Qo.length:(r=Qo.length+t.length,t.push(e)),r}function mw(){return new se.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function gw(e){var t=new se.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function Zf(e,t,r){for(var n={},s=0;s<e.length;s+=1){var i=e[s],c=t[i.name];c!==void 0&&!qf(c,i.value)&&(i.type==="SID"&&(c=Yf(c,r)),n[i.op]={name:i.name,type:i.type,value:c})}return n}function mu(e,t){var r=new se.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=Zf(zf,e,t),r}function gu(e){var t=new se.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function vw(e){var t=new se.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function yw(){return new se.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function kw(e,t){for(var r=new se.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var s=e[n],i=Yf(s,t);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}function ww(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,s=0,i=0;i<r.commands.length;i+=1){var c=void 0,l=void 0,f=r.commands[i];if(f.type==="Q"){var d=.3333333333333333,g=2/3;f={type:"C",x:f.x,y:f.y,x1:Math.round(d*n+g*f.x1),y1:Math.round(d*s+g*f.y1),x2:Math.round(d*f.x+g*f.x1),y2:Math.round(d*f.y+g*f.y1)}}if(f.type==="M")c=Math.round(f.x-n),l=Math.round(f.y-s),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(f.x),s=Math.round(f.y);else if(f.type==="L")c=Math.round(f.x-n),l=Math.round(f.y-s),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(f.x),s=Math.round(f.y);else if(f.type==="C"){var w=Math.round(f.x1-n),k=Math.round(f.y1-s),x=Math.round(f.x2-f.x1),A=Math.round(f.y2-f.y1);c=Math.round(f.x-f.x2),l=Math.round(f.y-f.y2),t.push({name:"dx1",type:"NUMBER",value:w}),t.push({name:"dy1",type:"NUMBER",value:k}),t.push({name:"dx2",type:"NUMBER",value:x}),t.push({name:"dy2",type:"NUMBER",value:A}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(f.x),s=Math.round(f.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function _w(e){for(var t=new se.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),s=ww(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:s})}return t}function bw(e,t){var r=new se.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=Zf($f,e,t),r}function xw(e,t){for(var r=new se.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,s={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},i={},c=[],l,f=1;f<e.length;f+=1)l=e.get(f),c.push(l.name);var d=[];r.header=mw(),r.nameIndex=gw([t.postScriptName]);var g=mu(s,d);r.topDictIndex=gu(g),r.globalSubrIndex=yw(),r.charsets=kw(c,d),r.charStringsIndex=_w(e),r.privateDict=bw(i,d),r.stringIndex=vw(d);var w=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return s.charset=w,s.encoding=0,s.charStrings=s.charset+r.charsets.sizeOf(),s.private[1]=s.charStrings+r.charStringsIndex.sizeOf(),g=mu(s,d),r.topDictIndex=gu(g),r}var Sw={parse:dw,make:xw};function Tw(e,t){var r={},n=new xe.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),be.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function Ew(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new se.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var Aw={parse:Tw,make:Ew};function Iw(e,t){var r={},n=new xe.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function Cw(e){return new se.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var Pw={parse:Iw,make:Cw};function Rw(e,t,r,n,s){for(var i,c,l=new xe.Parser(e,t),f=0;f<n;f+=1){f<r&&(i=l.parseUShort(),c=l.parseShort());var d=s.get(f);d.advanceWidth=i,d.leftSideBearing=c}}function Dw(e,t,r,n,s){e._hmtxTableData={};for(var i,c,l=new xe.Parser(t,r),f=0;f<s;f+=1)f<n&&(i=l.parseUShort(),c=l.parseShort()),e._hmtxTableData[f]={advanceWidth:i,leftSideBearing:c}}function Ow(e,t,r,n,s,i,c){c.lowMemory?Dw(e,t,r,n,s):Rw(t,r,n,s,i)}function Lw(e){for(var t=new se.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),s=n.advanceWidth||0,i=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:s}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:i})}return t}var Fw={parse:Ow,make:Lw};function Nw(e){for(var t=new se.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+e.length*4,s=0;s<e.length;++s){var i=r.indexOf(e[s]);i<0&&(i=r.length,r+=e[s]),t.fields.push({name:"offset "+s,type:"USHORT",value:n+i}),t.fields.push({name:"length "+s,type:"USHORT",value:e[s].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function Mw(e,t){var r=new xe.Parser(e,t),n=r.parseULong();be.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var s=r.parseULong(),i=[],c=0;c<s;c++){for(var l="",f=t+r.parseUShort(),d=r.parseUShort(),g=f;g<f+d;++g)l+=String.fromCharCode(e.getInt8(g));i.push(l)}return i}var Bw={make:Nw,parse:Mw};function Uw(e,t){var r={},n=new xe.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function Gw(e){return new se.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var jw={parse:Uw,make:Gw},Kf=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Qf={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Hw={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Jf={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function qw(e,t,r){switch(e){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return Qf[t];case 3:return Jf[t]}}var Ya="utf-16",Ww={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Vw={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function eh(e,t,r){switch(e){case 0:return Ya;case 1:return Vw[r]||Ww[t];case 3:if(t===1||t===10)return Ya;break}}function zw(e,t,r){for(var n={},s=new xe.Parser(e,t),i=s.parseUShort(),c=s.parseUShort(),l=s.offset+s.parseUShort(),f=0;f<c;f++){var d=s.parseUShort(),g=s.parseUShort(),w=s.parseUShort(),k=s.parseUShort(),x=Kf[k]||k,A=s.parseUShort(),P=s.parseUShort(),R=qw(d,w,r),L=eh(d,g,w);if(L!==void 0&&R!==void 0){var F=void 0;if(L===Ya?F=Xn.UTF16(e,l+P,A):F=Xn.MACSTRING(e,l+P,A,L),F){var O=n[x];O===void 0&&(O=n[x]={}),O[R]=F}}}return i===1&&s.parseUShort(),n}function _a(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function vu(e,t,r,n,s,i){return new se.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:s},{name:"offset",type:"USHORT",value:i}])}function $w(e,t){var r=e.length,n=t.length-r+1;e:for(var s=0;s<n;s++)for(;s<n;s++){for(var i=0;i<r;i++)if(t[s+i]!==e[i])continue e;return s}return-1}function yu(e,t){var r=$w(e,t);if(r<0){r=t.length;for(var n=0,s=e.length;n<s;++n)t.push(e[n])}return r}function Xw(e,t){var r,n=[],s={},i=_a(Kf);for(var c in e){var l=i[c];if(l===void 0&&(l=c),r=parseInt(l),isNaN(r))throw new Error('Name table entry "'+c+'" does not exist, see nameTableNames for complete list.');s[r]=e[c],n.push(r)}for(var f=_a(Qf),d=_a(Jf),g=[],w=[],k=0;k<n.length;k++){r=n[k];var x=s[r];for(var A in x){var P=x[A],R=1,L=f[A],F=Hw[L],O=eh(R,F,L),V=ee.MACSTRING(P,O);V===void 0&&(R=0,L=t.indexOf(A),L<0&&(L=t.length,t.push(A)),F=4,V=ee.UTF16(P));var te=yu(V,w);g.push(vu(R,F,L,r,V.length,te));var ce=d[A];if(ce!==void 0){var ae=ee.UTF16(P),he=yu(ae,w);g.push(vu(3,1,ce,r,ae.length,he))}}}g.sort(function(Ae,Oe){return Ae.platformID-Oe.platformID||Ae.encodingID-Oe.encodingID||Ae.languageID-Oe.languageID||Ae.nameID-Oe.nameID});for(var Se=new se.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:g.length},{name:"stringOffset",type:"USHORT",value:6+g.length*12}]),De=0;De<g.length;De++)Se.fields.push({name:"record_"+De,type:"RECORD",value:g[De]});return Se.fields.push({name:"strings",type:"LITERAL",value:w}),Se}var Yw={parse:zw,make:Xw},Za=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Zw(e){for(var t=0;t<Za.length;t+=1){var r=Za[t];if(e>=r.begin&&e<r.end)return t}return-1}function Kw(e,t){var r={},n=new xe.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var s=0;s<10;s++)r.panose[s]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function Qw(e){return new se.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var ku={parse:Kw,make:Qw,unicodeRanges:Za,getUnicodeRange:Zw};function Jw(e,t){var r={},n=new xe.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=hu.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var s=0;s<r.numberOfGlyphs;s++)r.glyphNameIndex[s]=n.parseUShort();r.names=[];for(var i=0;i<r.numberOfGlyphs;i++)if(r.glyphNameIndex[i]>=hu.length){var c=n.parseChar();r.names.push(n.parseString(c))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var l=0;l<r.numberOfGlyphs;l++)r.offset[l]=n.parseChar();break}return r}function e_(){return new se.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var t_={parse:Jw,make:e_},nr=new Array(9);nr[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(N.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(N.coverage),substitute:this.parseOffset16List()};be.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};nr[2]=function(){var t=this.parseUShort();return be.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),sequences:this.parseListOfLists()}};nr[3]=function(){var t=this.parseUShort();return be.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),alternateSets:this.parseListOfLists()}};nr[4]=function(){var t=this.parseUShort();return be.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var jn={sequenceIndex:N.uShort,lookupListIndex:N.uShort};nr[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(N.coverage),ruleSets:this.parseListOfLists(function(){var i=this.parseUShort(),c=this.parseUShort();return{input:this.parseUShortList(i-1),lookupRecords:this.parseRecordList(c,jn)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(N.coverage),classDef:this.parsePointer(N.classDef),classSets:this.parseListOfLists(function(){var i=this.parseUShort(),c=this.parseUShort();return{classes:this.parseUShortList(i-1),lookupRecords:this.parseRecordList(c,jn)}})};if(r===3){var n=this.parseUShort(),s=this.parseUShort();return{substFormat:r,coverages:this.parseList(n,N.pointer(N.coverage)),lookupRecords:this.parseRecordList(s,jn)}}be.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};nr[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(N.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jn)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(N.coverage),backtrackClassDef:this.parsePointer(N.classDef),inputClassDef:this.parsePointer(N.classDef),lookaheadClassDef:this.parsePointer(N.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(jn)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(N.pointer(N.coverage)),inputCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),lookupRecords:this.parseRecordList(jn)};be.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};nr[7]=function(){var t=this.parseUShort();be.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),n=new N(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:nr[r].call(n)}};nr[8]=function(){var t=this.parseUShort();return be.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(N.coverage),backtrackCoverage:this.parseList(N.pointer(N.coverage)),lookaheadCoverage:this.parseList(N.pointer(N.coverage)),substitutes:this.parseUShortList()}};function r_(e,t){t=t||0;var r=new N(e,t),n=r.parseVersion(1);return be.argument(n===1||n===1.1,"Unsupported GSUB table version."),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(nr)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(nr),variations:r.parseFeatureVariationsList()}}var Qn=new Array(9);Qn[1]=function(t){return t.substFormat===1?new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.ushortList("substitute",t.substitute)))};Qn[2]=function(t){return be.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("seqSet",t.sequences,function(r){return new se.Table("sequenceSetTable",se.ushortList("sequence",r))})))};Qn[3]=function(t){return be.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("altSet",t.alternateSets,function(r){return new se.Table("alternateSetTable",se.ushortList("alternate",r))})))};Qn[4]=function(t){return be.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("ligSet",t.ligatureSets,function(r){return new se.Table("ligatureSetTable",se.tableList("ligature",r,function(n){return new se.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(se.ushortList("component",n.components,n.components.length+1)))}))})))};Qn[6]=function(t){if(t.substFormat===1){var r=new se.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("chainRuleSet",t.chainRuleSets,function(i){return new se.Table("chainRuleSetTable",se.tableList("chainRule",i,function(c){var l=se.ushortList("backtrackGlyph",c.backtrack,c.backtrack.length).concat(se.ushortList("inputGlyph",c.input,c.input.length+1)).concat(se.ushortList("lookaheadGlyph",c.lookahead,c.lookahead.length)).concat(se.ushortList("substitution",[],c.lookupRecords.length));return c.lookupRecords.forEach(function(f,d){l=l.concat({name:"sequenceIndex"+d,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+d,type:"USHORT",value:f.lookupListIndex})}),new se.Table("chainRuleTable",l)}))})));return r}else if(t.substFormat===2)be.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(i,c){n.push({name:"backtrackCoverage"+c,type:"TABLE",value:new se.Coverage(i)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(i,c){n.push({name:"inputCoverage"+c,type:"TABLE",value:new se.Coverage(i)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(i,c){n.push({name:"lookaheadCoverage"+c,type:"TABLE",value:new se.Coverage(i)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(i,c){n=n.concat({name:"sequenceIndex"+c,type:"USHORT",value:i.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:i.lookupListIndex})});var s=new se.Table("chainContextTable",n);return s}be.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function n_(e){return new se.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new se.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new se.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new se.LookupList(e.lookups,Qn)}])}var s_={parse:r_,make:n_};function o_(e,t){var r=new xe.Parser(e,t),n=r.parseULong();be.argument(n===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var s=r.parseULong(),i={},c=0;c<s;c++){var l=r.parseTag(),f=r.parseULong(),d=r.parseULong(),g=Xn.UTF8(e,t+f,d);i[l]=g}return i}function i_(e){var t=Object.keys(e).length,r="",n=16+t*12,s=new se.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var i in e){var c=r.length;r+=e[i],s.fields.push({name:"tag "+i,type:"TAG",value:i}),s.fields.push({name:"offset "+i,type:"ULONG",value:n+c}),s.fields.push({name:"length "+i,type:"ULONG",value:e[i].length})}return s.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),s}var a_={parse:o_,make:i_};function wu(e){return Math.log(e)/Math.log(2)|0}function Fc(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32),t}function _u(e,t,r,n){return new se.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function th(e){var t=new se.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,wu(t.numTables));t.searchRange=16*r,t.entrySelector=wu(r),t.rangeShift=t.numTables*16-t.searchRange;for(var n=[],s=[],i=t.sizeOf()+_u().sizeOf()*t.numTables;i%4!==0;)i+=1,s.push({name:"padding",type:"BYTE",value:0});for(var c=0;c<e.length;c+=1){var l=e[c];be.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var f=l.sizeOf(),d=_u(l.tableName,Fc(l.encode()),i,f);for(n.push({name:d.tag+" Table Record",type:"RECORD",value:d}),s.push({name:l.tableName+" table",type:"RECORD",value:l}),i+=f,be.argument(!isNaN(i),"Something went wrong calculating the offset.");i%4!==0;)i+=1,s.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(g,w){return g.value.tag>w.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(s),t}function bu(e,t,r){for(var n=0;n<t.length;n+=1){var s=e.charToGlyphIndex(t[n]);if(s>0){var i=e.glyphs.get(s);return i.getMetrics()}}return r}function c_(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function u_(e){for(var t=[],r=[],n=[],s=[],i=[],c=[],l=[],f,d=0,g=0,w=0,k=0,x=0,A=0;A<e.glyphs.length;A+=1){var P=e.glyphs.get(A),R=P.unicode|0;if(isNaN(P.advanceWidth))throw new Error("Glyph "+P.name+" ("+A+"): advanceWidth is not a number.");(f>R||f===void 0)&&R>0&&(f=R),d<R&&(d=R);var L=ku.getUnicodeRange(R);if(L<32)g|=1<<L;else if(L<64)w|=1<<L-32;else if(L<96)k|=1<<L-64;else if(L<123)x|=1<<L-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(P.name!==".notdef"){var F=P.getMetrics();t.push(F.xMin),r.push(F.yMin),n.push(F.xMax),s.push(F.yMax),c.push(F.leftSideBearing),l.push(F.rightSideBearing),i.push(P.advanceWidth)}}var O={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,i),advanceWidthAvg:c_(i),minLeftSideBearing:Math.min.apply(null,c),maxLeftSideBearing:Math.max.apply(null,c),minRightSideBearing:Math.min.apply(null,l)};O.ascender=e.ascender,O.descender=e.descender;var V=Aw.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:O.xMin,yMin:O.yMin,xMax:O.xMax,yMax:O.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),te=Pw.make({ascender:O.ascender,descender:O.descender,advanceWidthMax:O.advanceWidthMax,minLeftSideBearing:O.minLeftSideBearing,minRightSideBearing:O.minRightSideBearing,xMaxExtent:O.maxLeftSideBearing+(O.xMax-O.xMin),numberOfHMetrics:e.glyphs.length}),ce=jw.make(e.glyphs.length),ae=ku.make(Object.assign({xAvgCharWidth:Math.round(O.advanceWidthAvg),usFirstCharIndex:f,usLastCharIndex:d,ulUnicodeRange1:g,ulUnicodeRange2:w,ulUnicodeRange3:k,ulUnicodeRange4:x,sTypoAscender:O.ascender,sTypoDescender:O.descender,sTypoLineGap:0,usWinAscent:O.yMax,usWinDescent:Math.abs(O.yMin),ulCodePageRange1:1,sxHeight:bu(e,"xyvw",{yMax:Math.round(O.ascender/2)}).yMax,sCapHeight:bu(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",O).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),he=Fw.make(e.glyphs),Se=Zk.make(e.glyphs),De=e.getEnglishName("fontFamily"),Ae=e.getEnglishName("fontSubfamily"),Oe=De+" "+Ae,Qe=e.getEnglishName("postScriptName");Qe||(Qe=De.replace(/\s/g,"")+"-"+Ae);var Ne={};for(var je in e.names)Ne[je]=e.names[je];Ne.uniqueID||(Ne.uniqueID={en:e.getEnglishName("manufacturer")+":"+Oe}),Ne.postScriptName||(Ne.postScriptName={en:Qe}),Ne.preferredFamily||(Ne.preferredFamily=e.names.fontFamily),Ne.preferredSubfamily||(Ne.preferredSubfamily=e.names.fontSubfamily);var qe=[],Le=Yw.make(Ne,qe),me=qe.length>0?Bw.make(qe):void 0,Ye=t_.make(),Je=Sw.make(e.glyphs,{version:e.getEnglishName("version"),fullName:Oe,familyName:De,weightName:Ae,postScriptName:Qe,unitsPerEm:e.unitsPerEm,fontBBox:[0,O.yMin,O.ascender,O.advanceWidthMax]}),Be=e.metas&&Object.keys(e.metas).length>0?a_.make(e.metas):void 0,We=[V,te,ce,ae,Le,Se,Ye,Je,he];me&&We.push(me),e.tables.gsub&&We.push(s_.make(e.tables.gsub)),Be&&We.push(Be);for(var Ct=th(We),Vt=Ct.encode(),j=Fc(Vt),H=Ct.fields,q=!1,W=0;W<H.length;W+=1)if(H[W].name==="head table"){H[W].value.checkSumAdjustment=2981146554-j,q=!0;break}if(!q)throw new Error("Could not find head table with checkSum to adjust.");return Ct}var l_={make:th,fontToTable:u_,computeCheckSum:Fc};function ba(e,t){for(var r=0,n=e.length-1;r<=n;){var s=r+n>>>1,i=e[s].tag;if(i===t)return s;i<t?r=s+1:n=s-1}return-r-1}function xu(e,t){for(var r=0,n=e.length-1;r<=n;){var s=r+n>>>1,i=e[s];if(i===t)return s;i<t?r=s+1:n=s-1}return-r-1}function Su(e,t){for(var r,n=0,s=e.length-1;n<=s;){var i=n+s>>>1;r=e[i];var c=r.start;if(c===t)return r;c<t?n=i+1:s=i-1}if(n>0)return r=e[n-1],t>r.end?0:r}function yo(e,t){this.font=e,this.tableName=t}yo.prototype={searchTag:ba,binSearch:xu,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if(n==="DFLT")return n;n==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,s=ba(r.scripts,e);if(s>=0)return n[s].script;if(t){var i={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-s,0,i),i.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||t==="dflt"||t==="DFLT")return n.defaultLangSys;var s=ba(n.langSysRecords,t);if(s>=0)return n.langSysRecords[s].langSys;if(r){var i={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-s,0,i),i.langSys}}},getFeatureTable:function(e,t,r,n){var s=this.getLangSysTable(e,t,n);if(s){for(var i,c=s.featureIndexes,l=this.font.tables[this.tableName].features,f=0;f<c.length;f++)if(i=l[c[f]],i.tag===r)return i.feature;if(n){var d=l.length;return be.assert(d===0||r>=l[d-1].tag,"Features must be added in alphabetical order."),i={tag:r,feature:{params:0,lookupListIndexes:[]}},l.push(i),c.push(d),i.feature}}},getLookupTables:function(e,t,r,n,s){var i=this.getFeatureTable(e,t,r,s),c=[];if(i){for(var l,f=i.lookupListIndexes,d=this.font.tables[this.tableName].lookups,g=0;g<f.length;g++)l=d[f[g]],l.lookupType===n&&c.push(l);if(c.length===0&&s){l={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var w=d.length;return d.push(l),f.push(w),[l]}}return c},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Su(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=xu(e.glyphs,t);return r>=0?r:-1;case 2:var n=Su(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var s=r[n],i=s.start,c=s.end,l=i;l<=c;l++)t.push(l);return t}};function ko(e){yo.call(this,e,"gpos")}ko.prototype=yo.prototype;ko.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};ko.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var s=e[n].subtables,i=0;i<s.length;i++){var c=s[i],l=this.getCoverageIndex(c.coverage,t);if(!(l<0))switch(c.posFormat){case 1:for(var f=c.pairSets[l],d=0;d<f.length;d++){var g=f[d];if(g.secondGlyph===r)return g.value1&&g.value1.xAdvance||0}break;case 2:var w=this.getGlyphClass(c.classDef1,t),k=this.getGlyphClass(c.classDef2,r),x=c.classRecords[w][k];return x.value1&&x.value1.xAdvance||0}}return 0};ko.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function qt(e){yo.call(this,e,"gsub")}function f_(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Nc(e,t,r){for(var n=e.subtables,s=0;s<n.length;s++){var i=n[s];if(i.substFormat===t)return i}if(r)return n.push(r),r}qt.prototype=yo.prototype;qt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};qt.prototype.getSingle=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,1),i=0;i<s.length;i++)for(var c=s[i].subtables,l=0;l<c.length;l++){var f=c[l],d=this.expandCoverage(f.coverage),g=void 0;if(f.substFormat===1){var w=f.deltaGlyphId;for(g=0;g<d.length;g++){var k=d[g];n.push({sub:k,by:k+w})}}else{var x=f.substitute;for(g=0;g<d.length;g++)n.push({sub:d[g],by:x[g]})}}return n};qt.prototype.getMultiple=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,2),i=0;i<s.length;i++)for(var c=s[i].subtables,l=0;l<c.length;l++){var f=c[l],d=this.expandCoverage(f.coverage),g=void 0;for(g=0;g<d.length;g++){var w=d[g],k=f.sequences[g];n.push({sub:w,by:k})}}return n};qt.prototype.getAlternates=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,3),i=0;i<s.length;i++)for(var c=s[i].subtables,l=0;l<c.length;l++)for(var f=c[l],d=this.expandCoverage(f.coverage),g=f.alternateSets,w=0;w<d.length;w++)n.push({sub:d[w],by:g[w]});return n};qt.prototype.getLigatures=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,4),i=0;i<s.length;i++)for(var c=s[i].subtables,l=0;l<c.length;l++)for(var f=c[l],d=this.expandCoverage(f.coverage),g=f.ligatureSets,w=0;w<d.length;w++)for(var k=d[w],x=g[w],A=0;A<x.length;A++){var P=x[A];n.push({sub:[k].concat(P.components),by:P.ligGlyph})}return n};qt.prototype.addSingle=function(e,t,r,n){var s=this.getLookupTables(r,n,e,1,!0)[0],i=Nc(s,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});be.assert(i.coverage.format===1,"Single: unable to modify coverage table format "+i.coverage.format);var c=t.sub,l=this.binSearch(i.coverage.glyphs,c);l<0&&(l=-1-l,i.coverage.glyphs.splice(l,0,c),i.substitute.splice(l,0,0)),i.substitute[l]=t.by};qt.prototype.addMultiple=function(e,t,r,n){be.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var s=this.getLookupTables(r,n,e,2,!0)[0],i=Nc(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});be.assert(i.coverage.format===1,"Multiple: unable to modify coverage table format "+i.coverage.format);var c=t.sub,l=this.binSearch(i.coverage.glyphs,c);l<0&&(l=-1-l,i.coverage.glyphs.splice(l,0,c),i.sequences.splice(l,0,0)),i.sequences[l]=t.by};qt.prototype.addAlternate=function(e,t,r,n){var s=this.getLookupTables(r,n,e,3,!0)[0],i=Nc(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});be.assert(i.coverage.format===1,"Alternate: unable to modify coverage table format "+i.coverage.format);var c=t.sub,l=this.binSearch(i.coverage.glyphs,c);l<0&&(l=-1-l,i.coverage.glyphs.splice(l,0,c),i.alternateSets.splice(l,0,0)),i.alternateSets[l]=t.by};qt.prototype.addLigature=function(e,t,r,n){var s=this.getLookupTables(r,n,e,4,!0)[0],i=s.subtables[0];i||(i={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},s.subtables[0]=i),be.assert(i.coverage.format===1,"Ligature: unable to modify coverage table format "+i.coverage.format);var c=t.sub[0],l=t.sub.slice(1),f={ligGlyph:t.by,components:l},d=this.binSearch(i.coverage.glyphs,c);if(d>=0){for(var g=i.ligatureSets[d],w=0;w<g.length;w++)if(f_(g[w].components,l))return;g.push(f)}else d=-1-d,i.coverage.glyphs.splice(d,0,c),i.ligatureSets.splice(d,0,[f])};qt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}};qt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};function h_(){return typeof window<"u"}function p_(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}function Fs(e,t){if(!e)throw t}function Tu(e,t,r,n,s){var i;return(t&n)>0?(i=e.parseByte(),(t&s)===0&&(i=-i),i=r+i):(t&s)>0?i=r:i=r+e.parseShort(),i}function rh(e,t,r){var n=new xe.Parser(t,r);e.numberOfContours=n.parseShort(),e._xMin=n.parseShort(),e._yMin=n.parseShort(),e._xMax=n.parseShort(),e._yMax=n.parseShort();var s,i;if(e.numberOfContours>0){for(var c=e.endPointIndices=[],l=0;l<e.numberOfContours;l+=1)c.push(n.parseUShort());e.instructionLength=n.parseUShort(),e.instructions=[];for(var f=0;f<e.instructionLength;f+=1)e.instructions.push(n.parseByte());var d=c[c.length-1]+1;s=[];for(var g=0;g<d;g+=1)if(i=n.parseByte(),s.push(i),(i&8)>0)for(var w=n.parseByte(),k=0;k<w;k+=1)s.push(i),g+=1;if(be.argument(s.length===d,"Bad flags."),c.length>0){var x=[],A;if(d>0){for(var P=0;P<d;P+=1)i=s[P],A={},A.onCurve=!!(i&1),A.lastPointOfContour=c.indexOf(P)>=0,x.push(A);for(var R=0,L=0;L<d;L+=1)i=s[L],A=x[L],A.x=Tu(n,i,R,2,16),R=A.x;for(var F=0,O=0;O<d;O+=1)i=s[O],A=x[O],A.y=Tu(n,i,F,4,32),F=A.y}e.points=x}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var V=!0;V;){s=n.parseUShort();var te={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(s&1)>0?(s&2)>0?(te.dx=n.parseShort(),te.dy=n.parseShort()):te.matchedPoints=[n.parseUShort(),n.parseUShort()]:(s&2)>0?(te.dx=n.parseChar(),te.dy=n.parseChar()):te.matchedPoints=[n.parseByte(),n.parseByte()],(s&8)>0?te.xScale=te.yScale=n.parseF2Dot14():(s&64)>0?(te.xScale=n.parseF2Dot14(),te.yScale=n.parseF2Dot14()):(s&128)>0&&(te.xScale=n.parseF2Dot14(),te.scale01=n.parseF2Dot14(),te.scale10=n.parseF2Dot14(),te.yScale=n.parseF2Dot14()),e.components.push(te),V=!!(s&32)}if(s&256){e.instructionLength=n.parseUShort(),e.instructions=[];for(var ce=0;ce<e.instructionLength;ce+=1)e.instructions.push(n.parseByte())}}}function xa(e,t){for(var r=[],n=0;n<e.length;n+=1){var s=e[n],i={x:t.xScale*s.x+t.scale01*s.y+t.dx,y:t.scale10*s.x+t.yScale*s.y+t.dy,onCurve:s.onCurve,lastPointOfContour:s.lastPointOfContour};r.push(i)}return r}function d_(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var s=e[n];r.push(s),s.lastPointOfContour&&(t.push(r),r=[])}return be.argument(r.length===0,"There are still points left in the current contour."),t}function nh(e){var t=new _t;if(!e)return t;for(var r=d_(e),n=0;n<r.length;++n){var s=r[n],i=null,c=s[s.length-1],l=s[0];if(c.onCurve)t.moveTo(c.x,c.y);else if(l.onCurve)t.moveTo(l.x,l.y);else{var f={x:(c.x+l.x)*.5,y:(c.y+l.y)*.5};t.moveTo(f.x,f.y)}for(var d=0;d<s.length;++d)if(i=c,c=l,l=s[(d+1)%s.length],c.onCurve)t.lineTo(c.x,c.y);else{var g=l;i.onCurve||((c.x+i.x)*.5,(c.y+i.y)*.5),l.onCurve||(g={x:(c.x+l.x)*.5,y:(c.y+l.y)*.5}),t.quadraticCurveTo(c.x,c.y,g.x,g.y)}t.closePath()}return t}function sh(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],s=e.get(n.glyphIndex);if(s.getPath(),s.points){var i=void 0;if(n.matchedPoints===void 0)i=xa(s.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>s.points.length-1)throw Error("Matched points out of range in "+t.name);var c=t.points[n.matchedPoints[0]],l=s.points[n.matchedPoints[1]],f={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};l=xa([l],f)[0],f.dx=c.x-l.x,f.dy=c.y-l.y,i=xa(s.points,f)}t.points=t.points.concat(i)}}return nh(t.points)}function m_(e,t,r,n){for(var s=new gr.GlyphSet(n),i=0;i<r.length-1;i+=1){var c=r[i],l=r[i+1];c!==l?s.push(i,gr.ttfGlyphLoader(n,i,rh,e,t+c,sh)):s.push(i,gr.glyphLoader(n,i))}return s}function g_(e,t,r,n){var s=new gr.GlyphSet(n);return n._push=function(i){var c=r[i],l=r[i+1];c!==l?s.push(i,gr.ttfGlyphLoader(n,i,rh,e,t+c,sh)):s.push(i,gr.glyphLoader(n,i))},s}function v_(e,t,r,n,s){return s.lowMemory?g_(e,t,r,n):m_(e,t,r,n)}var y_={getPath:nh,parse:v_},oh,_n,ih,Ka;function ah(e){this.font=e,this.getCommands=function(t){return y_.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function k_(e){return e}function ch(e){return Math.sign(e)*Math.round(Math.abs(e))}function w_(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function __(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function b_(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function x_(e){return Math.sign(e)*Math.floor(Math.abs(e))}var uh=function(e){var t=this.srPeriod,r=this.srPhase,n=this.srThreshold,s=1;return e<0&&(e=-e,s=-1),e+=n-r,e=Math.trunc(e/t)*t,e+=r,e<0?r*s:e*s},dr={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var s,i,c,l,f,d,g;if(!n||n===this){if(s=e.xo-t.xo,i=e.xo-r.xo,f=t.x-t.xo,d=r.x-r.xo,c=Math.abs(s),l=Math.abs(i),g=c+l,g===0){e.x=e.xo+(f+d)/2;return}e.x=e.xo+(f*l+d*c)/g;return}if(s=n.distance(e,t,!0,!0),i=n.distance(e,r,!0,!0),f=n.distance(t,t,!1,!0),d=n.distance(r,r,!1,!0),c=Math.abs(s),l=Math.abs(i),g=c+l,g===0){dr.setRelative(e,e,(f+d)/2,n,!0);return}dr.setRelative(e,e,(f*l+d*c)/g,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,s){if(!n||n===this){e.x=(s?t.xo:t.x)+r;return}var i=s?t.xo:t.x,c=s?t.yo:t.y,l=i+r*n.x,f=c+r*n.y;e.x=l+(e.y-f)/n.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Cr={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var s,i,c,l,f,d,g;if(!n||n===this){if(s=e.yo-t.yo,i=e.yo-r.yo,f=t.y-t.yo,d=r.y-r.yo,c=Math.abs(s),l=Math.abs(i),g=c+l,g===0){e.y=e.yo+(f+d)/2;return}e.y=e.yo+(f*l+d*c)/g;return}if(s=n.distance(e,t,!0,!0),i=n.distance(e,r,!0,!0),f=n.distance(t,t,!1,!0),d=n.distance(r,r,!1,!0),c=Math.abs(s),l=Math.abs(i),g=c+l,g===0){Cr.setRelative(e,e,(f+d)/2,n,!0);return}Cr.setRelative(e,e,(f*l+d*c)/g,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,s){if(!n||n===this){e.y=(s?t.yo:t.y)+r;return}var i=s?t.xo:t.x,c=s?t.yo:t.y,l=i+r*n.x,f=c+r*n.y;e.y=f+n.normalSlope*(e.x-l)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(dr);Object.freeze(Cr);function wo(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}wo.prototype.distance=function(e,t,r,n){return this.x*dr.distance(e,t,r,n)+this.y*Cr.distance(e,t,r,n)};wo.prototype.interpolate=function(e,t,r,n){var s,i,c,l,f,d,g;if(c=n.distance(e,t,!0,!0),l=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),i=n.distance(r,r,!1,!0),f=Math.abs(c),d=Math.abs(l),g=f+d,g===0){this.setRelative(e,e,(s+i)/2,n,!0);return}this.setRelative(e,e,(s*d+i*f)/g,n,!0)};wo.prototype.setRelative=function(e,t,r,n,s){n=n||this;var i=s?t.xo:t.x,c=s?t.yo:t.y,l=i+r*n.x,f=c+r*n.y,d=n.normalSlope,g=this.slope,w=e.x,k=e.y;e.x=(g*w-d*l+f-k)/(g-d),e.y=g*(e.x-w)+k};wo.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function _o(e,t){var r=Math.sqrt(e*e+t*t);return e/=r,t/=r,e===1&&t===0?dr:e===0&&t===1?Cr:new wo(e,t)}function Pr(e,t,r,n){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Pr.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};Pr.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var oo=Object.freeze(new Pr(0,0)),S_={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Xr(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=dr,this.round=ch}}ah.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var s=this._fpgmState;if(!s){Xr.prototype=S_,s=this._fpgmState=new Xr("fpgm",r.tables.fpgm),s.funcs=[],s.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),s.step=-1);try{_n(s)}catch(d){console.log("Hinting error in FPGM:"+d),this._errorState=3;return}}Xr.prototype=s,n=this._prepState=new Xr("prep",r.tables.prep),n.ppem=t;var i=r.tables.cvt;if(i)for(var c=n.cvt=new Array(i.length),l=t/r.unitsPerEm,f=0;f<i.length;f++)c[f]=i[f]*l;else n.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{_n(n)}catch(d){this._errorState<2&&console.log("Hinting error in PREP:"+d),this._errorState=2}}if(!(this._errorState>1))try{return ih(e,n)}catch(d){this._errorState<1&&(console.log("Hinting error:"+d),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};ih=function(e,t){var r=t.ppem/t.font.unitsPerEm,n=r,s=e.components,i,c,l;if(Xr.prototype=t,!s)l=new Xr("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),l.step=-1),Ka(e,l,r,n),c=l.gZone;else{var f=t.font;c=[],i=[];for(var d=0;d<s.length;d++){var g=s[d],w=f.glyphs.get(g.glyphIndex);l=new Xr("glyf",w.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+d+"---"),l.step=-1),Ka(w,l,r,n);for(var k=Math.round(g.dx*r),x=Math.round(g.dy*n),A=l.gZone,P=l.contours,R=0;R<A.length;R++){var L=A[R];L.xTouched=L.yTouched=!1,L.xo=L.x=L.x+k,L.yo=L.y=L.y+x}var F=c.length;c.push.apply(c,A);for(var O=0;O<P.length;O++)i.push(P[O]+F)}e.instructions&&!l.inhibitGridFit&&(l=new Xr("glyf",e.instructions),l.gZone=l.z0=l.z1=l.z2=c,l.contours=i,c.push(new Pr(0,0),new Pr(Math.round(e.advanceWidth*r),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),l.step=-1),_n(l),c.length-=2)}return c};Ka=function(e,t,r,n){for(var s=e.points||[],i=s.length,c=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],f,d=0;d<i;d++)f=s[d],c[d]=new Pr(f.x*r,f.y*n,f.lastPointOfContour,f.onCurve);for(var g,w,k=0;k<i;k++)f=c[k],g||(g=f,l.push(k)),f.lastPointOfContour?(f.nextPointOnContour=g,g.prevPointOnContour=f,g=void 0):(w=c[k+1],f.nextPointOnContour=w,w.prevPointOnContour=f);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var x=0;x<i;x++)console.log(x,c[x].x,c[x].y)}if(c.push(new Pr(0,0),new Pr(Math.round(e.advanceWidth*r),0)),_n(t),c.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var A=0;A<i;A++)console.log(A,c[A].x,c[A].y)}}};_n=function(e){var t=e.prog;if(t){var r=t.length,n;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,n=oh[t[e.ip]],!n)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}};function Gi(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Pr(0,0)}function lh(e,t){var r=e.prog,n=e.ip,s=1,i;do if(i=r[++n],i===88)s++;else if(i===89)s--;else if(i===64)n+=r[n+1]+1;else if(i===65)n+=2*r[n+1]+1;else if(i>=176&&i<=183)n+=i-176+1;else if(i>=184&&i<=191)n+=(i-184+1)*2;else if(t&&s===1&&i===27)break;while(s>0);e.ip=n}function Eu(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function Au(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function Iu(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function Cu(e,t){var r=t.stack,n=r.pop(),s=r.pop(),i=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log("SPVTL["+e+"]",n,s);var l,f;e?(l=i.y-c.y,f=c.x-i.x):(l=c.x-i.x,f=c.y-i.y),t.pv=t.dpv=_o(l,f)}function Pu(e,t){var r=t.stack,n=r.pop(),s=r.pop(),i=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log("SFVTL["+e+"]",n,s);var l,f;e?(l=i.y-c.y,f=c.x-i.x):(l=c.x-i.x,f=c.y-i.y),t.fv=_o(l,f)}function T_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=_o(n,r)}function E_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=_o(n,r)}function A_(e){var t=e.stack,r=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function I_(e){var t=e.stack,r=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function C_(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")}function P_(e){var t=e.stack,r=t.pop(),n=t.pop(),s=t.pop(),i=t.pop(),c=t.pop(),l=e.z0,f=e.z1,d=l[r],g=l[n],w=f[s],k=f[i],x=e.z2[c];exports.DEBUG&&console.log("ISECT[], ",r,n,s,i,c);var A=d.x,P=d.y,R=g.x,L=g.y,F=w.x,O=w.y,V=k.x,te=k.y,ce=(A-R)*(O-te)-(P-L)*(F-V),ae=A*L-P*R,he=F*te-O*V;x.x=(ae*(F-V)-he*(A-R))/ce,x.y=(ae*(O-te)-he*(P-L))/ce}function R_(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function D_(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function O_(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function L_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Gi(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function F_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Gi(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function N_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Gi(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function M_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Gi(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function B_(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function U_(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=ch}function G_(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=__}function j_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function H_(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),lh(e,!1)}function q_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function W_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function V_(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function Sa(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function z_(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function $_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)}function X_(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function Y_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var s=e.ip,i=e.prog;e.prog=e.funcs[r];for(var c=0;c<n;c++)_n(e),exports.DEBUG&&console.log(++e.step,c+1<n?"next loopcall":"done loopcall",c);e.ip=s,e.prog=i}function Z_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],_n(e),e.ip=r,e.prog=n,exports.DEBUG&&console.log(++e.step,"returning from",t)}function K_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])}function Q_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function J_(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,s=t.pop(),i=n;for(exports.DEBUG&&console.log(e.step,"FDEF[]",s);r[++n]!==45;);e.ip=n,e.funcs[s]=r.slice(i+1,n)}function Ru(e,t){var r=t.stack.pop(),n=t.z0[r],s=t.fv,i=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var c=i.distance(n,oo);e&&(c=t.round(c)),s.setRelative(n,oo,c,i),s.touch(n),t.rp0=t.rp1=r}function Du(e,t){var r=t.z2,n=r.length-2,s,i,c;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var l=0;l<n;l++)s=r[l],!e.touched(s)&&(i=s.prevTouched(e),i!==s&&(c=s.nextTouched(e),i===c&&e.setRelative(s,s,e.distance(i,i,!1,!0),e,!0),e.interpolate(s,i,c,e)))}function Ou(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],i=t.fv,c=t.pv,l=t.loop,f=t.z2;l--;){var d=r.pop(),g=f[d],w=c.distance(s,s,!1,!0);i.setRelative(g,g,w,c),i.touch(g),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",d)}t.loop=1}function Lu(e,t){var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],i=t.fv,c=t.pv,l=r.pop(),f=t.z2[t.contours[l]],d=f;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",l);var g=c.distance(s,s,!1,!0);do d!==s&&i.setRelative(d,d,g,c),d=d.nextPointOnContour;while(d!==f)}function Fu(e,t){var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],i=t.fv,c=t.pv,l=r.pop();exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",l);var f;switch(l){case 0:f=t.tZone;break;case 1:f=t.gZone;break;default:throw new Error("Invalid zone")}for(var d,g=c.distance(s,s,!1,!0),w=f.length-2,k=0;k<w;k++)d=f[k],i.setRelative(d,d,g,c)}function eb(e){for(var t=e.stack,r=e.loop,n=e.fv,s=t.pop()/64,i=e.z2;r--;){var c=t.pop(),l=i[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",c,s),n.setRelative(l,l,s),n.touch(l)}e.loop=1}function tb(e){for(var t=e.stack,r=e.rp1,n=e.rp2,s=e.loop,i=e.z0[r],c=e.z1[n],l=e.fv,f=e.dpv,d=e.z2;s--;){var g=t.pop(),w=d[g];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"IP[]",g,r,"<->",n),l.interpolate(w,i,c,f),l.touch(w)}e.loop=1}function Nu(e,t){var r=t.stack,n=r.pop()/64,s=r.pop(),i=t.z1[s],c=t.z0[t.rp0],l=t.fv,f=t.pv;l.setRelative(i,c,n,f),l.touch(i),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,s),t.rp1=t.rp0,t.rp2=s,e&&(t.rp0=s)}function rb(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],s=e.loop,i=e.fv,c=e.pv,l=e.z1;s--;){var f=t.pop(),d=l[f];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"ALIGNRP[]",f),i.setRelative(d,n,0,c),i.touch(d)}e.loop=1}function nb(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=w_}function Mu(e,t){var r=t.stack,n=r.pop(),s=r.pop(),i=t.z0[s],c=t.fv,l=t.pv,f=t.cvt[n];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",f,")",s);var d=l.distance(i,oo);e&&(Math.abs(d-f)<t.cvCutIn&&(d=f),d=t.round(d)),c.setRelative(i,oo,d,l),t.zp0===0&&(i.xo=i.x,i.yo=i.y),c.touch(i),t.rp0=t.rp1=s}function sb(e){var t=e.prog,r=e.ip,n=e.stack,s=t[++r];exports.DEBUG&&console.log(e.step,"NPUSHB[]",s);for(var i=0;i<s;i++)n.push(t[++r]);e.ip=r}function ob(e){var t=e.ip,r=e.prog,n=e.stack,s=r[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",s);for(var i=0;i<s;i++){var c=r[++t]<<8|r[++t];c&32768&&(c=-((c^65535)+1)),n.push(c)}e.ip=t}function ib(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),s=t.pop();exports.DEBUG&&console.log(e.step,"WS",n,s),r[s]=n}function ab(e){var t=e.stack,r=e.store,n=t.pop();exports.DEBUG&&console.log(e.step,"RS",n);var s=r&&r[n]||0;t.push(s)}function cb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function ub(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",r),t.push(e.cvt[r]*64)}function Bu(e,t){var r=t.stack,n=r.pop(),s=t.z2[n];exports.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(t.dpv.distance(s,oo,e,!1)*64)}function Uu(e,t){var r=t.stack,n=r.pop(),s=r.pop(),i=t.z1[n],c=t.z0[s],l=t.dpv.distance(c,i,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",n,s,"->",l),t.stack.push(Math.round(l*64))}function lb(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function fb(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function hb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)}function pb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)}function db(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)}function mb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)}function gb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)}function vb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)}function yb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function kb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function wb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(lh(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))}function _b(e){exports.DEBUG&&console.log(e.step,"EIF[]")}function bb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)}function xb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)}function Sb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)}function Ta(e,t){var r=t.stack,n=r.pop(),s=t.fv,i=t.pv,c=t.ppem,l=t.deltaBase+(e-1)*16,f=t.deltaShift,d=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var g=0;g<n;g++){var w=r.pop(),k=r.pop(),x=l+((k&240)>>4);if(x===c){var A=(k&15)-8;A>=0&&A++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",w,"by",A*f);var P=d[w];s.setRelative(P,P,A*f,i)}}}function Tb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function Eb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function Ab(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)}function Ib(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)}function Cb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(n*64/r)}function Pb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)}function Rb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))}function Db(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)}function Ob(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function Lb(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function Wo(e,t){var r=t.stack,n=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(n/64)*64)}function Fb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function Ea(e,t){var r=t.stack,n=r.pop(),s=t.ppem,i=t.deltaBase+(e-1)*16,c=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var l=0;l<n;l++){var f=r.pop(),d=r.pop(),g=i+((d&240)>>4);if(g===s){var w=(d&15)-8;w>=0&&w++;var k=w*c;exports.DEBUG&&console.log(t.step,"DELTACFIX",f,"by",k),t.cvt[f]+=k}}}function Nb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=uh;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function Mb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=uh;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function Bb(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=k_}function Ub(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=b_}function Gb(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=x_}function jb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function Gu(e,t){var r=t.stack,n=r.pop(),s=r.pop(),i=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",n,s);var l,f;e?(l=i.y-c.y,f=c.x-i.x):(l=c.x-i.x,f=c.y-i.y),t.dpv=_o(l,f)}function Hb(e){var t=e.stack,r=t.pop(),n=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",r),r&1&&(n=35),r&32&&(n|=4096),t.push(n)}function qb(e){var t=e.stack,r=t.pop(),n=t.pop(),s=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(s)}function Wb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))}function Vb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))}function zb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function $b(e){var t=e.stack.pop(),r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:e.inhibitGridFit=!!r;return;case 2:e.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function qr(e,t){var r=t.stack,n=t.prog,s=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var i=0;i<e;i++)r.push(n[++s]);t.ip=s}function Wr(e,t){var r=t.ip,n=t.prog,s=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var i=0;i<e;i++){var c=n[++r]<<8|n[++r];c&32768&&(c=-((c^65535)+1)),s.push(c)}t.ip=r}function ne(e,t,r,n,s,i){var c=i.stack,l=e&&c.pop(),f=c.pop(),d=i.rp0,g=i.z0[d],w=i.z1[f],k=i.minDis,x=i.fv,A=i.dpv,P,R,L,F;R=P=A.distance(w,g,!0,!0),L=R>=0?1:-1,R=Math.abs(R),e&&(F=i.cvt[l],n&&Math.abs(R-F)<i.cvCutIn&&(R=F)),r&&R<k&&(R=k),n&&(R=i.round(R)),x.setRelative(w,g,L*R,A),x.touch(w),exports.DEBUG&&console.log(i.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(s===0?"Gr":s===1?"Bl":s===2?"Wh":"")+"]",e?l+"("+i.cvt[l]+","+F+")":"",f,"(d =",P,"->",L*R,")"),i.rp1=i.rp0,i.rp2=f,t&&(i.rp0=f)}oh=[Eu.bind(void 0,Cr),Eu.bind(void 0,dr),Au.bind(void 0,Cr),Au.bind(void 0,dr),Iu.bind(void 0,Cr),Iu.bind(void 0,dr),Cu.bind(void 0,0),Cu.bind(void 0,1),Pu.bind(void 0,0),Pu.bind(void 0,1),T_,E_,A_,I_,C_,P_,R_,D_,O_,L_,F_,N_,M_,B_,U_,G_,j_,H_,q_,W_,void 0,void 0,V_,Sa,z_,$_,X_,K_,Q_,void 0,void 0,void 0,Y_,Z_,J_,void 0,Ru.bind(void 0,0),Ru.bind(void 0,1),Du.bind(void 0,Cr),Du.bind(void 0,dr),Ou.bind(void 0,0),Ou.bind(void 0,1),Lu.bind(void 0,0),Lu.bind(void 0,1),Fu.bind(void 0,0),Fu.bind(void 0,1),eb,tb,Nu.bind(void 0,0),Nu.bind(void 0,1),rb,nb,Mu.bind(void 0,0),Mu.bind(void 0,1),sb,ob,ib,ab,cb,ub,Bu.bind(void 0,0),Bu.bind(void 0,1),void 0,Uu.bind(void 0,0),Uu.bind(void 0,1),lb,void 0,fb,void 0,void 0,hb,pb,db,mb,gb,vb,yb,kb,wb,_b,bb,xb,Sb,Ta.bind(void 0,1),Tb,Eb,Ab,Ib,Cb,Pb,Rb,Db,Ob,Lb,Wo.bind(void 0,0),Wo.bind(void 0,1),Wo.bind(void 0,2),Wo.bind(void 0,3),void 0,void 0,void 0,void 0,Fb,Ta.bind(void 0,2),Ta.bind(void 0,3),Ea.bind(void 0,1),Ea.bind(void 0,2),Ea.bind(void 0,3),Nb,Mb,void 0,void 0,Bb,void 0,Ub,Gb,Sa,Sa,void 0,void 0,void 0,void 0,void 0,jb,Gu.bind(void 0,0),Gu.bind(void 0,1),Hb,void 0,qb,Wb,Vb,zb,$b,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,qr.bind(void 0,1),qr.bind(void 0,2),qr.bind(void 0,3),qr.bind(void 0,4),qr.bind(void 0,5),qr.bind(void 0,6),qr.bind(void 0,7),qr.bind(void 0,8),Wr.bind(void 0,1),Wr.bind(void 0,2),Wr.bind(void 0,3),Wr.bind(void 0,4),Wr.bind(void 0,5),Wr.bind(void 0,6),Wr.bind(void 0,7),Wr.bind(void 0,8),ne.bind(void 0,0,0,0,0,0),ne.bind(void 0,0,0,0,0,1),ne.bind(void 0,0,0,0,0,2),ne.bind(void 0,0,0,0,0,3),ne.bind(void 0,0,0,0,1,0),ne.bind(void 0,0,0,0,1,1),ne.bind(void 0,0,0,0,1,2),ne.bind(void 0,0,0,0,1,3),ne.bind(void 0,0,0,1,0,0),ne.bind(void 0,0,0,1,0,1),ne.bind(void 0,0,0,1,0,2),ne.bind(void 0,0,0,1,0,3),ne.bind(void 0,0,0,1,1,0),ne.bind(void 0,0,0,1,1,1),ne.bind(void 0,0,0,1,1,2),ne.bind(void 0,0,0,1,1,3),ne.bind(void 0,0,1,0,0,0),ne.bind(void 0,0,1,0,0,1),ne.bind(void 0,0,1,0,0,2),ne.bind(void 0,0,1,0,0,3),ne.bind(void 0,0,1,0,1,0),ne.bind(void 0,0,1,0,1,1),ne.bind(void 0,0,1,0,1,2),ne.bind(void 0,0,1,0,1,3),ne.bind(void 0,0,1,1,0,0),ne.bind(void 0,0,1,1,0,1),ne.bind(void 0,0,1,1,0,2),ne.bind(void 0,0,1,1,0,3),ne.bind(void 0,0,1,1,1,0),ne.bind(void 0,0,1,1,1,1),ne.bind(void 0,0,1,1,1,2),ne.bind(void 0,0,1,1,1,3),ne.bind(void 0,1,0,0,0,0),ne.bind(void 0,1,0,0,0,1),ne.bind(void 0,1,0,0,0,2),ne.bind(void 0,1,0,0,0,3),ne.bind(void 0,1,0,0,1,0),ne.bind(void 0,1,0,0,1,1),ne.bind(void 0,1,0,0,1,2),ne.bind(void 0,1,0,0,1,3),ne.bind(void 0,1,0,1,0,0),ne.bind(void 0,1,0,1,0,1),ne.bind(void 0,1,0,1,0,2),ne.bind(void 0,1,0,1,0,3),ne.bind(void 0,1,0,1,1,0),ne.bind(void 0,1,0,1,1,1),ne.bind(void 0,1,0,1,1,2),ne.bind(void 0,1,0,1,1,3),ne.bind(void 0,1,1,0,0,0),ne.bind(void 0,1,1,0,0,1),ne.bind(void 0,1,1,0,0,2),ne.bind(void 0,1,1,0,0,3),ne.bind(void 0,1,1,0,1,0),ne.bind(void 0,1,1,0,1,1),ne.bind(void 0,1,1,0,1,2),ne.bind(void 0,1,1,0,1,3),ne.bind(void 0,1,1,1,0,0),ne.bind(void 0,1,1,1,0,1),ne.bind(void 0,1,1,1,0,2),ne.bind(void 0,1,1,1,0,3),ne.bind(void 0,1,1,1,1,0),ne.bind(void 0,1,1,1,1,1),ne.bind(void 0,1,1,1,1,2),ne.bind(void 0,1,1,1,1,3)];function Jn(e){this.char=e,this.state={},this.activeState=null}function Mc(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function Xb(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function sr(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function ji(e){this.eventId=e,this.subscribers=[]}function Yb(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(s){Object.defineProperty(t.events,s,{value:new ji(s)})}),e&&r.forEach(function(s){var i=e[s];typeof i=="function"&&t.events[s].subscribe(i)});var n=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];n.forEach(function(s){t.events[s].subscribe(t.updateContextsRanges)})}function ft(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],Yb.call(this,e)}Jn.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};Jn.prototype.getState=function(e){return this.state[e]||null};ft.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};ft.prototype.composeRUD=function(e){var t=this,r=!0,n=e.map(function(i){return t[i[0]].apply(t,i.slice(1).concat(r))}),s=function(i){return typeof i=="object"&&i.hasOwnProperty("FAIL")};if(n.every(s))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(s)};this.dispatch("composeRUD",[n.filter(function(i){return!s(i)})])};ft.prototype.replaceRange=function(e,t,r,n){t=t!==null?t:this.tokens.length;var s=r.every(function(c){return c instanceof Jn});if(!isNaN(e)&&this.inboundIndex(e)&&s){var i=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[i,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ft.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Jn){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};ft.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n};ft.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}else return{FAIL:"removeToken: invalid token index."}};ft.prototype.insertToken=function(e,t,r){var n=e.every(function(s){return s instanceof Jn});return n?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};ft.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe(function(n,s){var i=[n,s],c=t===null||t.apply(this,i)===!0,l=[n,s];if(c){var f=r.apply(this,l);n.setState(e,f)}}),this.registeredModifiers.push(e)};ji.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};ji.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};sr.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};sr.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};ft.prototype.rangeToText=function(e){if(e instanceof Mc)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};ft.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};ft.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};ft.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null};ft.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof ji&&n.subscribers.forEach(function(s){s.apply(r,t||[])})};ft.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var n=new Xb(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n};ft.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};ft.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};ft.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.ranges=[]}};ft.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(n){return n.char}),t=0;t<e.length;t++){var r=new sr(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ft.prototype.setEndOffset=function(e,t){var r=this.getContext(t).openRange.startIndex,n=new Mc(r,e,t),s=this.getContext(t).ranges;return n.rangeId=t+"."+s.length,s.push(n),this.getContext(t).openRange=null,n};ft.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach(function(n){var s=n.contextName,i=t.getContext(s).openRange;if(!i&&n.checkStart(e)&&(i=new Mc(r,null,s),t.getContext(s).openRange=i,t.dispatch("contextStart",[s,r])),i&&n.checkEnd(e)){var c=r-i.startIndex+1,l=t.setEndOffset(c,s);t.dispatch("contextEnd",[s,l])}})};ft.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],s=new sr(t,r);this.dispatch("next",[s]),this.runContextCheck(s);var i=new Jn(n);this.tokens.push(i),this.dispatch("newToken",[i,s])}return this.dispatch("end",[this.tokens]),this.tokens};function Jr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function fh(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function tn(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Jo(e){return/[A-z]/.test(e)}function Zb(e){return/\s/.test(e)}function Wt(e){this.font=e,this.features={}}function pn(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function bo(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var s=r[n];if(e>=s.start&&e<=s.end){var i=e-s.start;return s.index+i}}break;default:return-1}return-1}function Kb(e,t){var r=bo(e,t.coverage);return r===-1?null:e+t.deltaGlyphId}function Qb(e,t){var r=bo(e,t.coverage);return r===-1?null:t.substitute[r]}function Aa(e,t){for(var r=[],n=0;n<e.length;n++){var s=e[n],i=t.current;i=Array.isArray(i)?i[0]:i;var c=bo(i,s);c!==-1&&r.push(c)}return r.length!==e.length?-1:r}function Jb(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=Aa(t.inputCoverage,e);if(n===-1)return[];var s=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var i=e.lookahead.slice(s);i.length&&tn(i[0].char);)i.shift();var c=new sr(i,0),l=Aa(t.lookaheadCoverage,c),f=[].concat(e.backtrack);for(f.reverse();f.length&&tn(f[0].char);)f.shift();if(f.length<t.backtrackCoverage.length)return[];var d=new sr(f,0),g=Aa(t.backtrackCoverage,d),w=n.length===t.inputCoverage.length&&l.length===t.lookaheadCoverage.length&&g.length===t.backtrackCoverage.length,k=[];if(w)for(var x=0;x<t.lookupRecords.length;x++)for(var A=t.lookupRecords[x],P=A.lookupListIndex,R=this.getLookupByIndex(P),L=0;L<R.subtables.length;L++){var F=R.subtables[L],O=this.getLookupMethod(R,F),V=this.getSubstitutionType(R,F);if(V==="12")for(var te=0;te<n.length;te++){var ce=e.get(te),ae=O(ce);ae&&k.push(ae)}}return k}function ex(e,t){var r=e.current,n=bo(r,t.coverage);if(n===-1)return null;for(var s,i=t.ligatureSets[n],c=0;c<i.length;c++){s=i[c];for(var l=0;l<s.components.length;l++){var f=e.lookahead[l],d=s.components[l];if(f!==d)break;if(l===s.components.length-1)return s}}return null}function tx(e,t){var r=bo(e,t.coverage);return r===-1?null:t.sequences[r]}Wt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};Wt.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,n=0;n<r.length;n++){var s=r[n];if(s.tag===e&&s.script.defaultLangSys)return s.script.defaultLangSys.featureIndexes;var i=s.langSysRecords;if(i)for(var c=0;c<i.length;c++){var l=i[c];if(l.tag===e){var f=l.langSys;return f.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};Wt.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var s=e[n].tag,i=e[n].feature;r[s]=i}this.features[t].tags=r};Wt.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(s){return n.features[s]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};Wt.prototype.getSubstitutionType=function(e,t){var r=e.lookupType.toString(),n=t.substFormat.toString();return r+n};Wt.prototype.getLookupMethod=function(e,t){var r=this,n=this.getSubstitutionType(e,t);switch(n){case"11":return function(s){return Kb.apply(r,[s,t])};case"12":return function(s){return Qb.apply(r,[s,t])};case"63":return function(s){return Jb.apply(r,[s,t])};case"41":return function(s){return ex.apply(r,[s,t])};case"21":return function(s){return tx.apply(r,[s,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};Wt.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var s=this.getFeatureLookups(n),i=[].concat(t.context),c=0;c<s.length;c++)for(var l=s[c],f=this.getLookupSubtables(l),d=0;d<f.length;d++){var g=f[d],w=this.getSubstitutionType(l,g),k=this.getLookupMethod(l,g),x=void 0;switch(w){case"11":x=k(t.current),x&&i.splice(r,1,new pn({id:11,tag:e.tag,substitution:x}));break;case"12":x=k(t.current),x&&i.splice(r,1,new pn({id:12,tag:e.tag,substitution:x}));break;case"63":x=k(t),Array.isArray(x)&&x.length&&i.splice(r,1,new pn({id:63,tag:e.tag,substitution:x}));break;case"41":x=k(t),x&&i.splice(r,1,new pn({id:41,tag:e.tag,substitution:x}));break;case"21":x=k(t.current),x&&i.splice(r,1,new pn({id:21,tag:e.tag,substitution:x}));break}t=new sr(i,r),!(Array.isArray(x)&&!x.length)&&(x=null)}return i.length?i:null};Wt.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some(function(n){return n.tag===e.tag});return t&&r};Wt.prototype.getLookupSubtables=function(e){return e.subtables||null};Wt.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};Wt.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};Wt.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function rx(e){var t=e.current,r=e.get(-1);return r===null&&Jr(t)||!Jr(r)&&Jr(t)}function nx(e){var t=e.get(1);return t===null||!Jr(t)}var sx={startCheck:rx,endCheck:nx};function ox(e){var t=e.current,r=e.get(-1);return(Jr(t)||tn(t))&&!Jr(r)}function ix(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!Jr(t)&&!tn(t)):var r=Zb(t);if(!r)return!0;if(r){var n=!1;if(n=e.lookahead.some(function(s){return Jr(s)||tn(s)}),!n)return!0}break;default:return!1}}var ax={startCheck:ox,endCheck:ix};function cx(e,t,r){t[r].setState(e.tag,e.substitution)}function ux(e,t,r){t[r].setState(e.tag,e.substitution)}function lx(e,t,r){e.substitution.forEach(function(n,s){var i=t[r+s];i.setState(e.tag,n)})}function fx(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var s=e.substitution.components.length,i=0;i<s;i++)n=t[r+i+1],n.setState("deleted",!0)}var ju={11:cx,12:ux,63:lx,41:fx};function Bc(e,t,r){e instanceof pn&&ju[e.id]&&ju[e.id](e,t,r)}function hx(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],s=fh(n),i=tn(n);if(!s&&!i)return!0;if(s)return!1}return!1}function px(e){if(fh(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var r=e.lookahead[t],n=tn(r);if(!n)return!0}return!1}function dx(e){var t=this,r="arab",n=this.featuresTags[r],s=this.tokenizer.getRangeTokens(e);if(s.length!==1){var i=new sr(s.map(function(l){return l.getState("glyphIndex")}),0),c=new sr(s.map(function(l){return l.char}),0);s.forEach(function(l,f){if(!tn(l.char)){i.setCurrentIndex(f),c.setCurrentIndex(f);var d=0;hx(c)&&(d|=1),px(c)&&(d|=2);var g;switch(d){case 1:g="fina";break;case 2:g="init";break;case 3:g="medi";break}if(n.indexOf(g)!==-1){var w=t.query.lookupFeature({tag:g,script:r,contextParams:i});if(w instanceof Error)return console.info(w.message);w.forEach(function(k,x){k instanceof pn&&(Bc(k,s,x),i.context[x]=k.substitution)})}}})}}function Hu(e,t){var r=e.map(function(n){return n.activeState.value});return new sr(r,0)}function mx(e){var t=this,r="arab",n=this.tokenizer.getRangeTokens(e),s=Hu(n);s.context.forEach(function(i,c){s.setCurrentIndex(c);var l=t.query.lookupFeature({tag:"rlig",script:r,contextParams:s});l.length&&(l.forEach(function(f){return Bc(f,n,c)}),s=Hu(n))})}function gx(e){var t=e.current,r=e.get(-1);return r===null&&Jo(t)||!Jo(r)&&Jo(t)}function vx(e){var t=e.get(1);return t===null||!Jo(t)}var yx={startCheck:gx,endCheck:vx};function qu(e,t){var r=e.map(function(n){return n.activeState.value});return new sr(r,0)}function kx(e){var t=this,r="latn",n=this.tokenizer.getRangeTokens(e),s=qu(n);s.context.forEach(function(i,c){s.setCurrentIndex(c);var l=t.query.lookupFeature({tag:"liga",script:r,contextParams:s});l.length&&(l.forEach(function(f){return Bc(f,n,c)}),s=qu(n))})}function ur(e){this.baseDir=e||"ltr",this.tokenizer=new ft,this.featuresTags={}}ur.prototype.setText=function(e){this.text=e};ur.prototype.contextChecks={latinWordCheck:yx,arabicWordCheck:sx,arabicSentenceCheck:ax};function Ia(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function wx(){return Ia.call(this,"latinWord"),Ia.call(this,"arabicWord"),Ia.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function _x(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var n=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,n.reverse())})}ur.prototype.registerFeatures=function(e,t){var r=this,n=t.filter(function(s){return r.query.supports({script:e,tag:s})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n};ur.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new Wt(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}};ur.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)};function Uc(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function bx(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){Uc.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(n){dx.call(e,n)})}}function xx(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){Uc.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(s){mx.call(e,s)})}}}function Sx(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){Uc.call(this);var n=this.tokenizer.getContextRanges("latinWord");n.forEach(function(s){kx.call(e,s)})}}}ur.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};ur.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(bx.call(this),xx.call(this)),this.checkContextReady("latinWord")&&Sx.call(this),this.checkContextReady("arabicSentence")&&_x.call(this)};ur.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),wx.call(this),this.applyFeaturesToContexts())};ur.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};ur.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var s=n.activeState.value;t.push(Array.isArray(s)?s[0]:s)}}return t};function Ke(e){e=e||{},e.tables=e.tables||{},e.empty||(Fs(e.familyName,"When creating a new Font object, familyName is required."),Fs(e.styleName,"When creating a new Font object, styleName is required."),Fs(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Fs(e.ascender,"When creating a new Font object, ascender is required."),Fs(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new gr.GlyphSet(this,e.glyphs||[]),this.encoding=new Hf(this),this.position=new ko(this),this.substitution=new qt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new ah(this)}})}Ke.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};Ke.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};Ke.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Ke.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return e[r]})}:t})};Ke.prototype.stringToGlyphs=function(e,t){var r=this,n=new ur,s=function(w){return r.charToGlyphIndex(w.char)};n.registerModifier("glyphIndex",null,s);var i=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,i);for(var c=n.getTextGlyphs(e),l=c.length,f=new Array(l),d=this.glyphs.get(0),g=0;g<l;g+=1)f[g]=this.glyphs.get(c[g])||d;return f};Ke.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};Ke.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Ke.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};Ke.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0};Ke.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Ke.prototype.forEachGlyph=function(e,t,r,n,s,i){t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:72,s=Object.assign({},this.defaultRenderOptions,s);var c=1/this.unitsPerEm*n,l=this.stringToGlyphs(e,s),f;if(s.kerning){var d=s.script||this.position.getDefaultScriptName();f=this.position.getKerningTables(d,s.language)}for(var g=0;g<l.length;g+=1){var w=l[g];if(i.call(this,w,t,r,n,s),w.advanceWidth&&(t+=w.advanceWidth*c),s.kerning&&g<l.length-1){var k=f?this.position.getKerningValue(f,w.index,l[g+1].index):this.getKerningValue(w,l[g+1]);t+=k*c}s.letterSpacing?t+=s.letterSpacing*n:s.tracking&&(t+=s.tracking/1e3*n)}return t};Ke.prototype.getPath=function(e,t,r,n,s){var i=new _t;return this.forEachGlyph(e,t,r,n,s,function(c,l,f,d){var g=c.getPath(l,f,d,s,this);i.extend(g)}),i};Ke.prototype.getPaths=function(e,t,r,n,s){var i=[];return this.forEachGlyph(e,t,r,n,s,function(c,l,f,d){var g=c.getPath(l,f,d,s,this);i.push(g)}),i};Ke.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})};Ke.prototype.draw=function(e,t,r,n,s,i){this.getPath(t,r,n,s,i).draw(e)};Ke.prototype.drawPoints=function(e,t,r,n,s,i){this.forEachGlyph(t,r,n,s,i,function(c,l,f,d){c.drawPoints(e,l,f,d)})};Ke.prototype.drawMetrics=function(e,t,r,n,s,i){this.forEachGlyph(t,r,n,s,i,function(c,l,f,d){c.drawMetrics(e,l,f,d)})};Ke.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};Ke.prototype.validate=function(){var e=this;function t(n,s){}function r(n){var s=e.getEnglishName(n);s&&s.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};Ke.prototype.toTables=function(){return l_.fontToTable(this)};Ke.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Ke.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),s=0;s<t.length;s++)n[s]=t[s];return r};Ke.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(h_())if(window.URL=window.URL||window.webkitURL,window.URL){var s=new DataView(n),i=new Blob([s],{type:"font/opentype"}),c=document.createElement("a");c.href=window.URL.createObjectURL(i),c.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),c.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var f=require("fs"),d=p_(n);f.writeFileSync(e,d)}};Ke.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Ke.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Ke.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Or=new Array(10);Or[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(N.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(N.coverage),values:this.parseValueRecordList()};be.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Or[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();be.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(N.coverage),s=this.parseUShort(),i=this.parseUShort();if(r===1)return{posFormat:r,coverage:n,valueFormat1:s,valueFormat2:i,pairSets:this.parseList(N.pointer(N.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(s),value2:this.parseValueRecord(i)}})))};if(r===2){var c=this.parsePointer(N.classDef),l=this.parsePointer(N.classDef),f=this.parseUShort(),d=this.parseUShort();return{posFormat:r,coverage:n,valueFormat1:s,valueFormat2:i,classDef1:c,classDef2:l,class1Count:f,class2Count:d,classRecords:this.parseList(f,N.list(d,function(){return{value1:this.parseValueRecord(s),value2:this.parseValueRecord(i)}}))}}};Or[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Or[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Or[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Or[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Or[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Or[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Or[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);const mn=1e-8,Bn=(e,t)=>Rt(e,t,mn*10),Tx=(e,t,r,n)=>{const s=mt([[mt([[e[0],e[1]],[t[0],t[1]]]),mt([[e[0],1],[t[0],1]])],[mt([[r[0],r[1]],[n[0],n[1]]]),mt([[r[0],1],[n[0],1]])]])/mt([[mt([[e[0],1],[t[0],1]]),mt([[e[1],1],[t[1],1]])],[mt([[r[0],1],[n[0],1]]),mt([[r[1],1],[n[1],1]])]]),i=mt([[mt([[e[0],e[1]],[t[0],t[1]]]),mt([[e[1],1],[t[1],1]])],[mt([[r[0],r[1]],[n[0],n[1]]]),mt([[r[1],1],[n[1],1]])]])/mt([[mt([[e[0],1],[t[0],1]]),mt([[e[1],1],[t[1],1]])],[mt([[r[0],1],[n[0],1]]),mt([[r[1],1],[n[1],1]])]]);return[s,i]};function Ex(e,t,r,n,s){const i=pf(t,r,n.original.lastPoint);e(n),e(i)}function Ax(e,t,r,n,s){const i=en(t,r);e(n),e(i)}function Ix(e,t,r,n,s){const i=n.offset instanceof Xe?Fi(t,n.offset.tangentAt(1)):n.offset.firstPoint,c=s.offset instanceof Xe?kn(r,s.offset.tangentAt(0)):s.offset.lastPoint,l=Tx(i,t,r,c),f=en(t,l),d=en(l,r);e(n),e(f),e(d)}const Cx={round:Ex,bevel:Ax,miter:Ix};function Px(e,t,r={}){const n=e.orientation==="clockwise"?-t:t,s=e.curves.map(g=>({offset:Js(g,n),original:g})),i=[];let c=null,l=s.at(-1);if(!l)return[];if(i.length===1)return i;function f(g){if(g instanceof Xe){i.push(g);return}c?g.offset instanceof Xe?i.push(g.offset):Bn(g.offset.firstPoint,g.offset.lastPoint)||i.push(en(g.offset.firstPoint,g.offset.lastPoint)):c=g}const d=function*(){for(const g of s.slice(0,-1))yield g;if(!c)throw new Error("Bug in the offset algorithm");yield c};for(const g of d()){const w=l.offset.lastPoint,k=g.offset.firstPoint;if(Bn(w,k)){f(l),l=g;continue}let x=[];if(l.offset instanceof Xe&&g.offset instanceof Xe){const{intersections:P,commonSegmentsPoints:R}=Qr(l.offset,g.offset,mn/100);x=[...P,...R]}if(x.length>0){let P=x[0];if(x.length>1){const F=l?.original.lastPoint,O=x.map(V=>Cy(V,F));P=x[O.indexOf(Math.min(...O))]}const R=l.offset.splitAt([P],mn)[0],L=g.offset.splitAt([P],mn).at(-1);if(!L)throw new Error("Bug in the splitting algo in offset");f({offset:R,original:l.original}),l={offset:L,original:g.original};continue}const A=Cx[r.lineJoinType??"round"];A(f,w,k,l,g),l=g}return f(l),i}function Rx(e,t,r={}){const n=Px(e,t,r);if(n.length<2)return null;const s=new Map,i=(g,w)=>{const k=s.get(g)||[];s.set(g,[...k,...w])};if(n.forEach((g,w)=>{n.slice(w+1).forEach((k,x)=>{const{intersections:A,commonSegmentsPoints:P}=Qr(g,k,mn),R=[...A,...P].filter(L=>{const F=Bn(L,g.firstPoint)||Bn(L,g.lastPoint),O=Bn(L,k.firstPoint)||Bn(L,k.lastPoint);return!(F&&O)});R.length&&(i(w,R),i(x+w+1,R))})}),!s.size){const g=new Ee(n);return e.intersects(g)?null:g}const l=n.flatMap((g,w)=>{if(!s.has(w))return g;const k=s.get(w)||[];return g.splitAt(k,mn*100)}).filter(g=>!e.curves.find(k=>k.distanceFrom(g)<Math.abs(t)-mn));if(!l.length)return null;const d=Vy(l).filter(g=>g.length>1).map(g=>new Ee(g)).filter(g=>g.isClosed());return d.length?d.length===1?d[0]:new we(d):null}const Wu=e=>{let t=e[0];for(let r=1;r<e.length;r++)t=Ir(t,e[r]);return t};function ei(e,t,r={}){if(e instanceof Ee)return Rx(e,t,r);if(e instanceof we)return Wu(e.blueprints.map(n=>ei(n,t,r)));if(e instanceof He){const n=Wu(e.blueprints.slice(1).map(s=>ei(s,t,r)));return $r(ei(e.blueprints[0],t,r),n)}return null}function Vu(e,t,r,n){let s=()=>!0;n&&(s=n.shouldKeep.bind(n));const i=[t.curves[0]],c=(f,d)=>{s({firstCurve:f,secondCurve:d,point:f.lastPoint})?i.push(...e(f,d,r)):i.push(f,d)};t.curves.slice(1).forEach(f=>{const d=i.pop();if(!d)throw new Error("Bug in the blueprint filletting algo");c(d,f)});const l=i.at(-1);if(!l)throw new Error("Bug in the blueprint corner algo");if(Rt(i[0].firstPoint,l.lastPoint)&&i.length>1){const f=i.pop(),d=i.shift();if(!f||!d)throw new Error("Bug in the blueprint filletting algo");c(f,d)}return new Ee(i)}function Gc(e,t,r,n){if(t instanceof Ee)return Vu(e,t,r,n);if(t instanceof He)return new He(t.blueprints.map(s=>Vu(e,s,r,n)));if(t instanceof we){const s=t.blueprints.map(i=>Gc(e,i,r,n)).filter(i=>i!==null);return new we(s)}return null}function Dx(e,t,r){return Gc(mf,e,t,r)}function Ox(e,t,r){return Gc(gf,e,t,r)}function Qa(e,t){return e instanceof Ee?new Ee(fi(e.curves,t)):e instanceof He?new He(e.blueprints.map(r=>Qa(r,t))):e instanceof we?new we(e.blueprints.map(r=>Qa(r,t))):e}class gt{constructor(t=null){this.innerShape=t}clone(){var t;return new gt(((t=this.innerShape)==null?void 0:t.clone())||null)}serialize(){function t(r){if(r instanceof He)return{type:"CompoundBlueprint",blueprints:r.blueprints.map(t)};if(r instanceof we)return{type:"Blueprints",blueprints:r.blueprints.map(t)};if(r instanceof Ee)return{type:"Blueprint",curves:r.curves.map(n=>n.serialize())};throw new Error("Unknown shape type for serialization")}return JSON.stringify(t(this.innerShape))}get boundingBox(){return this.innerShape?this.innerShape.boundingBox:new po}stretch(t,r,n){return this.innerShape?new gt(this.innerShape.stretch(t,r,n)):new gt}get repr(){return this.innerShape===null?"=== empty shape":this.innerShape.repr}rotate(t,r){return this.innerShape?new gt(this.innerShape.rotate(t,r)):new gt}translate(t,r=0){return this.innerShape?new gt(this.innerShape.translate(t,r)):new gt}scale(t,r){return this.innerShape?new gt(this.innerShape.scale(t,r)):new gt}mirror(t,r,n){return this.innerShape?new gt(this.innerShape.mirror(t,r,n)):new gt}cut(t){return new gt($r(this.innerShape,t.innerShape))}fuse(t){return new gt(Ir(this.innerShape,t.innerShape))}intersect(t){return new gt(Gs(this.innerShape,t.innerShape))}fillet(t,r){const n=r&&r(new mi);return new gt(Dx(this.innerShape,t,n))}chamfer(t,r){const n=r&&r(new mi);return new gt(Ox(this.innerShape,t,n))}sketchOnPlane(t,r){if(!this.innerShape)throw new Error("Trying to sketch an empty drawing");return this.innerShape.sketchOnPlane(t,r)}sketchOnFace(t,r){if(!this.innerShape)throw new Error("Trying to sketch an empty drawing");return this.innerShape.sketchOnFace(t,r)}punchHole(t,r,n={}){return this.innerShape?this.innerShape.punchHole(t,r,n):t}toSVG(t){var r;return((r=this.innerShape)==null?void 0:r.toSVG(t))||""}toSVGViewBox(t=1){var r;return((r=this.innerShape)==null?void 0:r.toSVGViewBox(t))||""}toSVGPaths(){var t;return((t=this.innerShape)==null?void 0:t.toSVGPaths())||[]}offset(t,r={}){return new gt(ei(this.innerShape,t,r))}approximate(t,r={}){if(t!=="svg")throw new Error("Only 'svg' is supported for now");return new gt(Qa(this.innerShape,r))}get blueprint(){if(!(this.innerShape instanceof Ee)){if(this.innerShape instanceof we&&this.innerShape.blueprints.length===1&&this.innerShape.blueprints[0]instanceof Ee)return this.innerShape.blueprints[0];throw new Error("This drawing is not a blueprint")}return this.innerShape}}class Lx extends gk{constructor(t=[0,0]){super(),this.pointer=t,this.firstPoint=t,this.pendingCurves=[]}done(){return new gt(new Ee(this.pendingCurves))}close(){return this._closeSketch(),this.done()}closeWithMirror(){return this._closeWithMirror(),this.close()}closeWithCustomCorner(t,r="fillet"){return this._closeSketch(),this._customCornerLastWithFirst(t,r),this.done()}}function Ux(e){const t=new Lx;return e&&t.movePointerTo(e),t}var Gx=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(e=e||__filename),(function(r){r=r||{};var r=typeof r<"u"?r:{},n,s;r.ready=new Promise(function(a,u){n=a,s=u});var i=Object.assign({},r),c="./this.program",l=(a,u)=>{throw u},f=typeof window=="object",d=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",w="";function k(a){return r.locateFile?r.locateFile(a,w):w+a}var x,A,P,R,L,F;g?(d?w=require("path").dirname(w)+"/":w=__dirname+"/",F=()=>{L||(R=require("fs"),L=require("path"))},x=function(u,h){return F(),u=L.normalize(u),R.readFileSync(u,h?void 0:"utf8")},P=a=>{var u=x(a,!0);return u.buffer||(u=new Uint8Array(u)),u},A=(a,u,h)=>{F(),a=L.normalize(a),R.readFile(a,function(m,v){m?h(m):u(v.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(a){if(!(a instanceof l1))throw a}),process.on("unhandledRejection",function(a){throw a}),l=(a,u)=>{throw process.exitCode=a,u},r.inspect=function(){return"[Emscripten Module object]"}):(f||d)&&(d?w=self.location.href:typeof document<"u"&&document.currentScript&&(w=document.currentScript.src),e&&(w=e),w.indexOf("blob:")!==0?w=w.substr(0,w.replace(/[?#].*/,"").lastIndexOf("/")+1):w="",x=a=>{var u=new XMLHttpRequest;return u.open("GET",a,!1),u.send(null),u.responseText},d&&(P=a=>{var u=new XMLHttpRequest;return u.open("GET",a,!1),u.responseType="arraybuffer",u.send(null),new Uint8Array(u.response)}),A=(a,u,h)=>{var m=new XMLHttpRequest;m.open("GET",a,!0),m.responseType="arraybuffer",m.onload=()=>{if(m.status==200||m.status==0&&m.response){u(m.response);return}h()},m.onerror=h,m.send(null)});var O=r.print||console.log.bind(console),V=r.printErr||console.warn.bind(console);Object.assign(r,i),i=null,r.arguments&&r.arguments,r.thisProgram&&(c=r.thisProgram),r.quit&&(l=r.quit);var te=4,ce;r.wasmBinary&&(ce=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&zt("no native wasm support detected");var ae,he=!1;function Se(a,u){a||zt(u)}var De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Ae(a,u,h){for(var m=u+h,v=u;a[v]&&!(v>=m);)++v;if(v-u>16&&a.buffer&&De)return De.decode(a.subarray(u,v));for(var _="";u<v;){var S=a[u++];if(!(S&128)){_+=String.fromCharCode(S);continue}var T=a[u++]&63;if((S&224)==192){_+=String.fromCharCode((S&31)<<6|T);continue}var C=a[u++]&63;if((S&240)==224?S=(S&15)<<12|T<<6|C:S=(S&7)<<18|T<<12|C<<6|a[u++]&63,S<65536)_+=String.fromCharCode(S);else{var B=S-65536;_+=String.fromCharCode(55296|B>>10,56320|B&1023)}}return _}function Oe(a,u){return a?Ae(W,a,u):""}function Qe(a,u,h,m){if(!(m>0))return 0;for(var v=h,_=h+m-1,S=0;S<a.length;++S){var T=a.charCodeAt(S);if(T>=55296&&T<=57343){var C=a.charCodeAt(++S);T=65536+((T&1023)<<10)|C&1023}if(T<=127){if(h>=_)break;u[h++]=T}else if(T<=2047){if(h+1>=_)break;u[h++]=192|T>>6,u[h++]=128|T&63}else if(T<=65535){if(h+2>=_)break;u[h++]=224|T>>12,u[h++]=128|T>>6&63,u[h++]=128|T&63}else{if(h+3>=_)break;u[h++]=240|T>>18,u[h++]=128|T>>12&63,u[h++]=128|T>>6&63,u[h++]=128|T&63}}return u[h]=0,h-v}function Ne(a,u,h){return Qe(a,W,u,h)}function je(a){for(var u=0,h=0;h<a.length;++h){var m=a.charCodeAt(h);m>=55296&&m<=57343&&(m=65536+((m&1023)<<10)|a.charCodeAt(++h)&1023),m<=127?++u:m<=2047?u+=2:m<=65535?u+=3:u+=4}return u}var qe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Le(a,u){for(var h=a,m=h>>1,v=m+u/2;!(m>=v)&&fe[m];)++m;if(h=m<<1,h-a>32&&qe)return qe.decode(W.subarray(a,h));for(var _="",S=0;!(S>=u/2);++S){var T=K[a+S*2>>1];if(T==0)break;_+=String.fromCharCode(T)}return _}function me(a,u,h){if(h===void 0&&(h=2147483647),h<2)return 0;h-=2;for(var m=u,v=h<a.length*2?h/2:a.length,_=0;_<v;++_){var S=a.charCodeAt(_);K[u>>1]=S,u+=2}return K[u>>1]=0,u-m}function Ye(a){return a.length*2}function Je(a,u){for(var h=0,m="";!(h>=u/4);){var v=M[a+h*4>>2];if(v==0)break;if(++h,v>=65536){var _=v-65536;m+=String.fromCharCode(55296|_>>10,56320|_&1023)}else m+=String.fromCharCode(v)}return m}function Be(a,u,h){if(h===void 0&&(h=2147483647),h<4)return 0;for(var m=u,v=m+h-4,_=0;_<a.length;++_){var S=a.charCodeAt(_);if(S>=55296&&S<=57343){var T=a.charCodeAt(++_);S=65536+((S&1023)<<10)|T&1023}if(M[u>>2]=S,u+=4,u+4>v)break}return M[u>>2]=0,u-m}function We(a){for(var u=0,h=0;h<a.length;++h){var m=a.charCodeAt(h);m>=55296&&m<=57343&&++h,u+=4}return u}function Ct(a){var u=je(a)+1,h=Sr(u);return h&&Qe(a,q,h,u),h}function Vt(a,u){q.set(a,u)}function j(a,u,h){for(var m=0;m<a.length;++m)q[u++>>0]=a.charCodeAt(m);q[u>>0]=0}var H,q,W,K,fe,M,re,Ie,Ve;function ht(a){H=a,r.HEAP8=q=new Int8Array(a),r.HEAP16=K=new Int16Array(a),r.HEAP32=M=new Int32Array(a),r.HEAPU8=W=new Uint8Array(a),r.HEAPU16=fe=new Uint16Array(a),r.HEAPU32=re=new Uint32Array(a),r.HEAPF32=Ie=new Float32Array(a),r.HEAPF64=Ve=new Float64Array(a)}r.INITIAL_MEMORY;var It,et=[],kt=[],wt=[];function kr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)es(r.preRun.shift());an(et)}function Lr(){!r.noFSInit&&!y.init.initialized&&y.init(),y.ignorePermissions=!1,an(kt)}function sn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)rs(r.postRun.shift());an(wt)}function es(a){et.unshift(a)}function ts(a){kt.unshift(a)}function rs(a){wt.unshift(a)}var Zt=0,wr=null;function xo(a){return a}function on(a){Zt++,r.monitorRunDependencies&&r.monitorRunDependencies(Zt)}function Fr(a){if(Zt--,r.monitorRunDependencies&&r.monitorRunDependencies(Zt),Zt==0&&wr){var u=wr;wr=null,u()}}function zt(a){r.onAbort&&r.onAbort(a),a="Aborted("+a+")",V(a),he=!0,a+=". Build with -sASSERTIONS for more info.";var u=new WebAssembly.RuntimeError(a);throw s(u),u}var ns="data:application/octet-stream;base64,";function En(a){return a.startsWith(ns)}function An(a){return a.startsWith("file://")}var bt;bt="replicad_single.wasm",En(bt)||(bt=k(bt));function In(a){try{if(a==bt&&ce)return new Uint8Array(ce);if(P)return P(a);throw"both async and sync fetching of the wasm failed"}catch(u){zt(u)}}function ss(){if(!ce&&(f||d)){if(typeof fetch=="function"&&!An(bt))return fetch(bt,{credentials:"same-origin"}).then(function(a){if(!a.ok)throw"failed to load wasm binary file at '"+bt+"'";return a.arrayBuffer()}).catch(function(){return In(bt)});if(A)return new Promise(function(a,u){A(bt,function(h){a(new Uint8Array(h))},u)})}return Promise.resolve().then(function(){return In(bt)})}function os(){var a={a:hd};function u(S,T){var C=S.exports;r.asm=C,ae=r.asm.oa,ht(ae.buffer),It=r.asm.va,ts(r.asm.pa),Fr()}on();function h(S){u(S.instance)}function m(S){return ss().then(function(T){return WebAssembly.instantiate(T,a)}).then(function(T){return T}).then(S,function(T){V("failed to asynchronously prepare wasm: "+T),zt(T)})}function v(){return!ce&&typeof WebAssembly.instantiateStreaming=="function"&&!En(bt)&&!An(bt)&&!g&&typeof fetch=="function"?fetch(bt,{credentials:"same-origin"}).then(function(S){var T=WebAssembly.instantiateStreaming(S,a);return T.then(h,function(C){return V("wasm streaming compile failed: "+C),V("falling back to ArrayBuffer instantiation"),m(h)})}):m(h)}if(r.instantiateWasm)try{var _=r.instantiateWasm(a,u);return _}catch(S){return V("Module.instantiateWasm callback failed with error: "+S),!1}return v().catch(s),{}}var at,Mt;function is(){return r.HEAP8.length}function an(a){for(;a.length>0;){var u=a.shift();if(typeof u=="function"){u(r);continue}var h=u.func;typeof h=="number"?u.arg===void 0?Mr(h)():Mr(h)(u.arg):h(u.arg===void 0?null:u.arg)}}var Nr=[];function Mr(a){var u=Nr[a];return u||(a>=Nr.length&&(Nr.length=a+1),Nr[a]=u=It.get(a)),u}function as(a,u,h,m){zt("Assertion failed: "+Oe(a)+", at: "+[u?Oe(u):"unknown filename",h,m?Oe(m):"unknown function"])}function cs(a){return Sr(a+24)+24}function us(a){this.excPtr=a,this.ptr=a-24,this.set_type=function(u){re[this.ptr+4>>2]=u},this.get_type=function(){return re[this.ptr+4>>2]},this.set_destructor=function(u){re[this.ptr+8>>2]=u},this.get_destructor=function(){return re[this.ptr+8>>2]},this.set_refcount=function(u){M[this.ptr>>2]=u},this.set_caught=function(u){u=u?1:0,q[this.ptr+12>>0]=u},this.get_caught=function(){return q[this.ptr+12>>0]!=0},this.set_rethrown=function(u){u=u?1:0,q[this.ptr+13>>0]=u},this.get_rethrown=function(){return q[this.ptr+13>>0]!=0},this.init=function(u,h){this.set_adjusted_ptr(0),this.set_type(u),this.set_destructor(h),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var u=M[this.ptr>>2];M[this.ptr>>2]=u+1},this.release_ref=function(){var u=M[this.ptr>>2];return M[this.ptr>>2]=u-1,u===1},this.set_adjusted_ptr=function(u){re[this.ptr+16>>2]=u},this.get_adjusted_ptr=function(){return re[this.ptr+16>>2]},this.get_exception_ptr=function(){var u=u1(this.get_type());if(u)return re[this.excPtr>>2];var h=this.get_adjusted_ptr();return h!==0?h:this.excPtr}}function ls(a,u,h){var m=new us(a);throw m.init(u,h),a}var Pe={isAbs:a=>a.charAt(0)==="/",splitPath:a=>{var u=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return u.exec(a).slice(1)},normalizeArray:(a,u)=>{for(var h=0,m=a.length-1;m>=0;m--){var v=a[m];v==="."?a.splice(m,1):v===".."?(a.splice(m,1),h++):h&&(a.splice(m,1),h--)}if(u)for(;h;h--)a.unshift("..");return a},normalize:a=>{var u=Pe.isAbs(a),h=a.substr(-1)==="/";return a=Pe.normalizeArray(a.split("/").filter(m=>!!m),!u).join("/"),!a&&!u&&(a="."),a&&h&&(a+="/"),(u?"/":"")+a},dirname:a=>{var u=Pe.splitPath(a),h=u[0],m=u[1];return!h&&!m?".":(m&&(m=m.substr(0,m.length-1)),h+m)},basename:a=>{if(a==="/")return"/";a=Pe.normalize(a),a=a.replace(/\/$/,"");var u=a.lastIndexOf("/");return u===-1?a:a.substr(u+1)},join:function(){var a=Array.prototype.slice.call(arguments,0);return Pe.normalize(a.join("/"))},join2:(a,u)=>Pe.normalize(a+"/"+u)};function fs(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var a=new Uint8Array(1);return function(){return crypto.getRandomValues(a),a[0]}}else if(g)try{var u=require("crypto");return function(){return u.randomBytes(1)[0]}}catch{}return function(){zt("randomDevice")}}var Bt={resolve:function(){for(var a="",u=!1,h=arguments.length-1;h>=-1&&!u;h--){var m=h>=0?arguments[h]:y.cwd();if(typeof m!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!m)return"";a=m+"/"+a,u=Pe.isAbs(m)}return a=Pe.normalizeArray(a.split("/").filter(v=>!!v),!u).join("/"),(u?"/":"")+a||"."},relative:(a,u)=>{a=Bt.resolve(a).substr(1),u=Bt.resolve(u).substr(1);function h(B){for(var Y=0;Y<B.length&&B[Y]==="";Y++);for(var Z=B.length-1;Z>=0&&B[Z]==="";Z--);return Y>Z?[]:B.slice(Y,Z-Y+1)}for(var m=h(a.split("/")),v=h(u.split("/")),_=Math.min(m.length,v.length),S=_,T=0;T<_;T++)if(m[T]!==v[T]){S=T;break}for(var C=[],T=S;T<m.length;T++)C.push("..");return C=C.concat(v.slice(S)),C.join("/")}},Kt={ttys:[],init:function(){},shutdown:function(){},register:function(a,u){Kt.ttys[a]={input:[],output:[],ops:u},y.registerDevice(a,Kt.stream_ops)},stream_ops:{open:function(a){var u=Kt.ttys[a.node.rdev];if(!u)throw new y.ErrnoError(43);a.tty=u,a.seekable=!1},close:function(a){a.tty.ops.flush(a.tty)},flush:function(a){a.tty.ops.flush(a.tty)},read:function(a,u,h,m,v){if(!a.tty||!a.tty.ops.get_char)throw new y.ErrnoError(60);for(var _=0,S=0;S<m;S++){var T;try{T=a.tty.ops.get_char(a.tty)}catch{throw new y.ErrnoError(29)}if(T===void 0&&_===0)throw new y.ErrnoError(6);if(T==null)break;_++,u[h+S]=T}return _&&(a.node.timestamp=Date.now()),_},write:function(a,u,h,m,v){if(!a.tty||!a.tty.ops.put_char)throw new y.ErrnoError(60);try{for(var _=0;_<m;_++)a.tty.ops.put_char(a.tty,u[h+_])}catch{throw new y.ErrnoError(29)}return m&&(a.node.timestamp=Date.now()),_}},default_tty_ops:{get_char:function(a){if(!a.input.length){var u=null;if(g){var h=256,m=Buffer.alloc(h),v=0;try{v=R.readSync(process.stdin.fd,m,0,h,-1)}catch(_){if(_.toString().includes("EOF"))v=0;else throw _}v>0?u=m.slice(0,v).toString("utf-8"):u=null}else typeof window<"u"&&typeof window.prompt=="function"?(u=window.prompt("Input: "),u!==null&&(u+=`
`)):typeof readline=="function"&&(u=readline(),u!==null&&(u+=`
`));if(!u)return null;a.input=Fo(u,!0)}return a.input.shift()},put_char:function(a,u){u===null||u===10?(O(Ae(a.output,0)),a.output=[]):u!=0&&a.output.push(u)},flush:function(a){a.output&&a.output.length>0&&(O(Ae(a.output,0)),a.output=[])}},default_tty1_ops:{put_char:function(a,u){u===null||u===10?(V(Ae(a.output,0)),a.output=[]):u!=0&&a.output.push(u)},flush:function(a){a.output&&a.output.length>0&&(V(Ae(a.output,0)),a.output=[])}}};function hs(a,u){W.fill(0,a,a+u)}function ps(a,u){return Math.ceil(a/u)*u}function Cn(a){a=ps(a,65536);var u=c1(65536,a);return u?(hs(u,a),u):0}var ge={ops_table:null,mount:function(a){return ge.createNode(null,"/",16895,0)},createNode:function(a,u,h,m){if(y.isBlkdev(h)||y.isFIFO(h))throw new y.ErrnoError(63);ge.ops_table||(ge.ops_table={dir:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,lookup:ge.node_ops.lookup,mknod:ge.node_ops.mknod,rename:ge.node_ops.rename,unlink:ge.node_ops.unlink,rmdir:ge.node_ops.rmdir,readdir:ge.node_ops.readdir,symlink:ge.node_ops.symlink},stream:{llseek:ge.stream_ops.llseek}},file:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:{llseek:ge.stream_ops.llseek,read:ge.stream_ops.read,write:ge.stream_ops.write,allocate:ge.stream_ops.allocate,mmap:ge.stream_ops.mmap,msync:ge.stream_ops.msync}},link:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,readlink:ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:y.chrdev_stream_ops}});var v=y.createNode(a,u,h,m);return y.isDir(v.mode)?(v.node_ops=ge.ops_table.dir.node,v.stream_ops=ge.ops_table.dir.stream,v.contents={}):y.isFile(v.mode)?(v.node_ops=ge.ops_table.file.node,v.stream_ops=ge.ops_table.file.stream,v.usedBytes=0,v.contents=null):y.isLink(v.mode)?(v.node_ops=ge.ops_table.link.node,v.stream_ops=ge.ops_table.link.stream):y.isChrdev(v.mode)&&(v.node_ops=ge.ops_table.chrdev.node,v.stream_ops=ge.ops_table.chrdev.stream),v.timestamp=Date.now(),a&&(a.contents[u]=v,a.timestamp=v.timestamp),v},getFileDataAsTypedArray:function(a){return a.contents?a.contents.subarray?a.contents.subarray(0,a.usedBytes):new Uint8Array(a.contents):new Uint8Array(0)},expandFileStorage:function(a,u){var h=a.contents?a.contents.length:0;if(!(h>=u)){var m=1024*1024;u=Math.max(u,h*(h<m?2:1.125)>>>0),h!=0&&(u=Math.max(u,256));var v=a.contents;a.contents=new Uint8Array(u),a.usedBytes>0&&a.contents.set(v.subarray(0,a.usedBytes),0)}},resizeFileStorage:function(a,u){if(a.usedBytes!=u)if(u==0)a.contents=null,a.usedBytes=0;else{var h=a.contents;a.contents=new Uint8Array(u),h&&a.contents.set(h.subarray(0,Math.min(u,a.usedBytes))),a.usedBytes=u}},node_ops:{getattr:function(a){var u={};return u.dev=y.isChrdev(a.mode)?a.id:1,u.ino=a.id,u.mode=a.mode,u.nlink=1,u.uid=0,u.gid=0,u.rdev=a.rdev,y.isDir(a.mode)?u.size=4096:y.isFile(a.mode)?u.size=a.usedBytes:y.isLink(a.mode)?u.size=a.link.length:u.size=0,u.atime=new Date(a.timestamp),u.mtime=new Date(a.timestamp),u.ctime=new Date(a.timestamp),u.blksize=4096,u.blocks=Math.ceil(u.size/u.blksize),u},setattr:function(a,u){u.mode!==void 0&&(a.mode=u.mode),u.timestamp!==void 0&&(a.timestamp=u.timestamp),u.size!==void 0&&ge.resizeFileStorage(a,u.size)},lookup:function(a,u){throw y.genericErrors[44]},mknod:function(a,u,h,m){return ge.createNode(a,u,h,m)},rename:function(a,u,h){if(y.isDir(a.mode)){var m;try{m=y.lookupNode(u,h)}catch{}if(m)for(var v in m.contents)throw new y.ErrnoError(55)}delete a.parent.contents[a.name],a.parent.timestamp=Date.now(),a.name=h,u.contents[h]=a,u.timestamp=a.parent.timestamp,a.parent=u},unlink:function(a,u){delete a.contents[u],a.timestamp=Date.now()},rmdir:function(a,u){var h=y.lookupNode(a,u);for(var m in h.contents)throw new y.ErrnoError(55);delete a.contents[u],a.timestamp=Date.now()},readdir:function(a){var u=[".",".."];for(var h in a.contents)a.contents.hasOwnProperty(h)&&u.push(h);return u},symlink:function(a,u,h){var m=ge.createNode(a,u,41471,0);return m.link=h,m},readlink:function(a){if(!y.isLink(a.mode))throw new y.ErrnoError(28);return a.link}},stream_ops:{read:function(a,u,h,m,v){var _=a.node.contents;if(v>=a.node.usedBytes)return 0;var S=Math.min(a.node.usedBytes-v,m);if(S>8&&_.subarray)u.set(_.subarray(v,v+S),h);else for(var T=0;T<S;T++)u[h+T]=_[v+T];return S},write:function(a,u,h,m,v,_){if(u.buffer===q.buffer&&(_=!1),!m)return 0;var S=a.node;if(S.timestamp=Date.now(),u.subarray&&(!S.contents||S.contents.subarray)){if(_)return S.contents=u.subarray(h,h+m),S.usedBytes=m,m;if(S.usedBytes===0&&v===0)return S.contents=u.slice(h,h+m),S.usedBytes=m,m;if(v+m<=S.usedBytes)return S.contents.set(u.subarray(h,h+m),v),m}if(ge.expandFileStorage(S,v+m),S.contents.subarray&&u.subarray)S.contents.set(u.subarray(h,h+m),v);else for(var T=0;T<m;T++)S.contents[v+T]=u[h+T];return S.usedBytes=Math.max(S.usedBytes,v+m),m},llseek:function(a,u,h){var m=u;if(h===1?m+=a.position:h===2&&y.isFile(a.node.mode)&&(m+=a.node.usedBytes),m<0)throw new y.ErrnoError(28);return m},allocate:function(a,u,h){ge.expandFileStorage(a.node,u+h),a.node.usedBytes=Math.max(a.node.usedBytes,u+h)},mmap:function(a,u,h,m,v){if(!y.isFile(a.node.mode))throw new y.ErrnoError(43);var _,S,T=a.node.contents;if(!(v&2)&&T.buffer===H)S=!1,_=T.byteOffset;else{if((h>0||h+u<T.length)&&(T.subarray?T=T.subarray(h,h+u):T=Array.prototype.slice.call(T,h,h+u)),S=!0,_=Cn(u),!_)throw new y.ErrnoError(48);q.set(T,_)}return{ptr:_,allocated:S}},msync:function(a,u,h,m,v){if(!y.isFile(a.node.mode))throw new y.ErrnoError(43);return v&2||ge.stream_ops.write(a,u,0,m,h,!1),0}}};function ds(a,u,h,m){var v="al "+a;A(a,function(_){Se(_,'Loading data file "'+a+'" failed (no arrayBuffer).'),u(new Uint8Array(_)),v&&Fr()},function(_){if(h)h();else throw'Loading data file "'+a+'" failed.'}),v&&on()}var y={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(a,u={})=>{if(a=Bt.resolve(y.cwd(),a),!a)return{path:"",node:null};var h={follow_mount:!0,recurse_count:0};if(u=Object.assign(h,u),u.recurse_count>8)throw new y.ErrnoError(32);for(var m=Pe.normalizeArray(a.split("/").filter(Z=>!!Z),!1),v=y.root,_="/",S=0;S<m.length;S++){var T=S===m.length-1;if(T&&u.parent)break;if(v=y.lookupNode(v,m[S]),_=Pe.join2(_,m[S]),y.isMountpoint(v)&&(!T||T&&u.follow_mount)&&(v=v.mounted.root),!T||u.follow)for(var C=0;y.isLink(v.mode);){var B=y.readlink(_);_=Bt.resolve(Pe.dirname(_),B);var Y=y.lookupPath(_,{recurse_count:u.recurse_count+1});if(v=Y.node,C++>40)throw new y.ErrnoError(32)}}return{path:_,node:v}},getPath:a=>{for(var u;;){if(y.isRoot(a)){var h=a.mount.mountpoint;return u?h[h.length-1]!=="/"?h+"/"+u:h+u:h}u=u?a.name+"/"+u:a.name,a=a.parent}},hashName:(a,u)=>{for(var h=0,m=0;m<u.length;m++)h=(h<<5)-h+u.charCodeAt(m)|0;return(a+h>>>0)%y.nameTable.length},hashAddNode:a=>{var u=y.hashName(a.parent.id,a.name);a.name_next=y.nameTable[u],y.nameTable[u]=a},hashRemoveNode:a=>{var u=y.hashName(a.parent.id,a.name);if(y.nameTable[u]===a)y.nameTable[u]=a.name_next;else for(var h=y.nameTable[u];h;){if(h.name_next===a){h.name_next=a.name_next;break}h=h.name_next}},lookupNode:(a,u)=>{var h=y.mayLookup(a);if(h)throw new y.ErrnoError(h,a);for(var m=y.hashName(a.id,u),v=y.nameTable[m];v;v=v.name_next){var _=v.name;if(v.parent.id===a.id&&_===u)return v}return y.lookup(a,u)},createNode:(a,u,h,m)=>{var v=new y.FSNode(a,u,h,m);return y.hashAddNode(v),v},destroyNode:a=>{y.hashRemoveNode(a)},isRoot:a=>a===a.parent,isMountpoint:a=>!!a.mounted,isFile:a=>(a&61440)===32768,isDir:a=>(a&61440)===16384,isLink:a=>(a&61440)===40960,isChrdev:a=>(a&61440)===8192,isBlkdev:a=>(a&61440)===24576,isFIFO:a=>(a&61440)===4096,isSocket:a=>(a&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:a=>{var u=y.flagModes[a];if(typeof u>"u")throw new Error("Unknown file open mode: "+a);return u},flagsToPermissionString:a=>{var u=["r","w","rw"][a&3];return a&512&&(u+="w"),u},nodePermissions:(a,u)=>y.ignorePermissions?0:u.includes("r")&&!(a.mode&292)||u.includes("w")&&!(a.mode&146)||u.includes("x")&&!(a.mode&73)?2:0,mayLookup:a=>{var u=y.nodePermissions(a,"x");return u||(a.node_ops.lookup?0:2)},mayCreate:(a,u)=>{try{var h=y.lookupNode(a,u);return 20}catch{}return y.nodePermissions(a,"wx")},mayDelete:(a,u,h)=>{var m;try{m=y.lookupNode(a,u)}catch(_){return _.errno}var v=y.nodePermissions(a,"wx");if(v)return v;if(h){if(!y.isDir(m.mode))return 54;if(y.isRoot(m)||y.getPath(m)===y.cwd())return 10}else if(y.isDir(m.mode))return 31;return 0},mayOpen:(a,u)=>a?y.isLink(a.mode)?32:y.isDir(a.mode)&&(y.flagsToPermissionString(u)!=="r"||u&512)?31:y.nodePermissions(a,y.flagsToPermissionString(u)):44,MAX_OPEN_FDS:4096,nextfd:(a=0,u=y.MAX_OPEN_FDS)=>{for(var h=a;h<=u;h++)if(!y.streams[h])return h;throw new y.ErrnoError(33)},getStream:a=>y.streams[a],createStream:(a,u,h)=>{y.FSStream||(y.FSStream=function(){this.shared={}},y.FSStream.prototype={},Object.defineProperties(y.FSStream.prototype,{object:{get:function(){return this.node},set:function(v){this.node=v}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(v){this.shared.flags=v}},position:{get:function(){return this.shared.position},set:function(v){this.shared.position=v}}})),a=Object.assign(new y.FSStream,a);var m=y.nextfd(u,h);return a.fd=m,y.streams[m]=a,a},closeStream:a=>{y.streams[a]=null},chrdev_stream_ops:{open:a=>{var u=y.getDevice(a.node.rdev);a.stream_ops=u.stream_ops,a.stream_ops.open&&a.stream_ops.open(a)},llseek:()=>{throw new y.ErrnoError(70)}},major:a=>a>>8,minor:a=>a&255,makedev:(a,u)=>a<<8|u,registerDevice:(a,u)=>{y.devices[a]={stream_ops:u}},getDevice:a=>y.devices[a],getMounts:a=>{for(var u=[],h=[a];h.length;){var m=h.pop();u.push(m),h.push.apply(h,m.mounts)}return u},syncfs:(a,u)=>{typeof a=="function"&&(u=a,a=!1),y.syncFSRequests++,y.syncFSRequests>1&&V("warning: "+y.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var h=y.getMounts(y.root.mount),m=0;function v(S){return y.syncFSRequests--,u(S)}function _(S){if(S)return _.errored?void 0:(_.errored=!0,v(S));++m>=h.length&&v(null)}h.forEach(S=>{if(!S.type.syncfs)return _(null);S.type.syncfs(S,a,_)})},mount:(a,u,h)=>{var m=h==="/",v=!h,_;if(m&&y.root)throw new y.ErrnoError(10);if(!m&&!v){var S=y.lookupPath(h,{follow_mount:!1});if(h=S.path,_=S.node,y.isMountpoint(_))throw new y.ErrnoError(10);if(!y.isDir(_.mode))throw new y.ErrnoError(54)}var T={type:a,opts:u,mountpoint:h,mounts:[]},C=a.mount(T);return C.mount=T,T.root=C,m?y.root=C:_&&(_.mounted=T,_.mount&&_.mount.mounts.push(T)),C},unmount:a=>{var u=y.lookupPath(a,{follow_mount:!1});if(!y.isMountpoint(u.node))throw new y.ErrnoError(28);var h=u.node,m=h.mounted,v=y.getMounts(m);Object.keys(y.nameTable).forEach(S=>{for(var T=y.nameTable[S];T;){var C=T.name_next;v.includes(T.mount)&&y.destroyNode(T),T=C}}),h.mounted=null;var _=h.mount.mounts.indexOf(m);h.mount.mounts.splice(_,1)},lookup:(a,u)=>a.node_ops.lookup(a,u),mknod:(a,u,h)=>{var m=y.lookupPath(a,{parent:!0}),v=m.node,_=Pe.basename(a);if(!_||_==="."||_==="..")throw new y.ErrnoError(28);var S=y.mayCreate(v,_);if(S)throw new y.ErrnoError(S);if(!v.node_ops.mknod)throw new y.ErrnoError(63);return v.node_ops.mknod(v,_,u,h)},create:(a,u)=>(u=u!==void 0?u:438,u&=4095,u|=32768,y.mknod(a,u,0)),mkdir:(a,u)=>(u=u!==void 0?u:511,u&=1023,u|=16384,y.mknod(a,u,0)),mkdirTree:(a,u)=>{for(var h=a.split("/"),m="",v=0;v<h.length;++v)if(h[v]){m+="/"+h[v];try{y.mkdir(m,u)}catch(_){if(_.errno!=20)throw _}}},mkdev:(a,u,h)=>(typeof h>"u"&&(h=u,u=438),u|=8192,y.mknod(a,u,h)),symlink:(a,u)=>{if(!Bt.resolve(a))throw new y.ErrnoError(44);var h=y.lookupPath(u,{parent:!0}),m=h.node;if(!m)throw new y.ErrnoError(44);var v=Pe.basename(u),_=y.mayCreate(m,v);if(_)throw new y.ErrnoError(_);if(!m.node_ops.symlink)throw new y.ErrnoError(63);return m.node_ops.symlink(m,v,a)},rename:(a,u)=>{var h=Pe.dirname(a),m=Pe.dirname(u),v=Pe.basename(a),_=Pe.basename(u),S,T,C;if(S=y.lookupPath(a,{parent:!0}),T=S.node,S=y.lookupPath(u,{parent:!0}),C=S.node,!T||!C)throw new y.ErrnoError(44);if(T.mount!==C.mount)throw new y.ErrnoError(75);var B=y.lookupNode(T,v),Y=Bt.relative(a,m);if(Y.charAt(0)!==".")throw new y.ErrnoError(28);if(Y=Bt.relative(u,h),Y.charAt(0)!==".")throw new y.ErrnoError(55);var Z;try{Z=y.lookupNode(C,_)}catch{}if(B!==Z){var $=y.isDir(B.mode),Q=y.mayDelete(T,v,$);if(Q)throw new y.ErrnoError(Q);if(Q=Z?y.mayDelete(C,_,$):y.mayCreate(C,_),Q)throw new y.ErrnoError(Q);if(!T.node_ops.rename)throw new y.ErrnoError(63);if(y.isMountpoint(B)||Z&&y.isMountpoint(Z))throw new y.ErrnoError(10);if(C!==T&&(Q=y.nodePermissions(T,"w"),Q))throw new y.ErrnoError(Q);y.hashRemoveNode(B);try{T.node_ops.rename(B,C,_)}catch(ue){throw ue}finally{y.hashAddNode(B)}}},rmdir:a=>{var u=y.lookupPath(a,{parent:!0}),h=u.node,m=Pe.basename(a),v=y.lookupNode(h,m),_=y.mayDelete(h,m,!0);if(_)throw new y.ErrnoError(_);if(!h.node_ops.rmdir)throw new y.ErrnoError(63);if(y.isMountpoint(v))throw new y.ErrnoError(10);h.node_ops.rmdir(h,m),y.destroyNode(v)},readdir:a=>{var u=y.lookupPath(a,{follow:!0}),h=u.node;if(!h.node_ops.readdir)throw new y.ErrnoError(54);return h.node_ops.readdir(h)},unlink:a=>{var u=y.lookupPath(a,{parent:!0}),h=u.node;if(!h)throw new y.ErrnoError(44);var m=Pe.basename(a),v=y.lookupNode(h,m),_=y.mayDelete(h,m,!1);if(_)throw new y.ErrnoError(_);if(!h.node_ops.unlink)throw new y.ErrnoError(63);if(y.isMountpoint(v))throw new y.ErrnoError(10);h.node_ops.unlink(h,m),y.destroyNode(v)},readlink:a=>{var u=y.lookupPath(a),h=u.node;if(!h)throw new y.ErrnoError(44);if(!h.node_ops.readlink)throw new y.ErrnoError(28);return Bt.resolve(y.getPath(h.parent),h.node_ops.readlink(h))},stat:(a,u)=>{var h=y.lookupPath(a,{follow:!u}),m=h.node;if(!m)throw new y.ErrnoError(44);if(!m.node_ops.getattr)throw new y.ErrnoError(63);return m.node_ops.getattr(m)},lstat:a=>y.stat(a,!0),chmod:(a,u,h)=>{var m;if(typeof a=="string"){var v=y.lookupPath(a,{follow:!h});m=v.node}else m=a;if(!m.node_ops.setattr)throw new y.ErrnoError(63);m.node_ops.setattr(m,{mode:u&4095|m.mode&-4096,timestamp:Date.now()})},lchmod:(a,u)=>{y.chmod(a,u,!0)},fchmod:(a,u)=>{var h=y.getStream(a);if(!h)throw new y.ErrnoError(8);y.chmod(h.node,u)},chown:(a,u,h,m)=>{var v;if(typeof a=="string"){var _=y.lookupPath(a,{follow:!m});v=_.node}else v=a;if(!v.node_ops.setattr)throw new y.ErrnoError(63);v.node_ops.setattr(v,{timestamp:Date.now()})},lchown:(a,u,h)=>{y.chown(a,u,h,!0)},fchown:(a,u,h)=>{var m=y.getStream(a);if(!m)throw new y.ErrnoError(8);y.chown(m.node,u,h)},truncate:(a,u)=>{if(u<0)throw new y.ErrnoError(28);var h;if(typeof a=="string"){var m=y.lookupPath(a,{follow:!0});h=m.node}else h=a;if(!h.node_ops.setattr)throw new y.ErrnoError(63);if(y.isDir(h.mode))throw new y.ErrnoError(31);if(!y.isFile(h.mode))throw new y.ErrnoError(28);var v=y.nodePermissions(h,"w");if(v)throw new y.ErrnoError(v);h.node_ops.setattr(h,{size:u,timestamp:Date.now()})},ftruncate:(a,u)=>{var h=y.getStream(a);if(!h)throw new y.ErrnoError(8);if((h.flags&2097155)===0)throw new y.ErrnoError(28);y.truncate(h.node,u)},utime:(a,u,h)=>{var m=y.lookupPath(a,{follow:!0}),v=m.node;v.node_ops.setattr(v,{timestamp:Math.max(u,h)})},open:(a,u,h)=>{if(a==="")throw new y.ErrnoError(44);u=typeof u=="string"?y.modeStringToFlags(u):u,h=typeof h>"u"?438:h,u&64?h=h&4095|32768:h=0;var m;if(typeof a=="object")m=a;else{a=Pe.normalize(a);try{var v=y.lookupPath(a,{follow:!(u&131072)});m=v.node}catch{}}var _=!1;if(u&64)if(m){if(u&128)throw new y.ErrnoError(20)}else m=y.mknod(a,h,0),_=!0;if(!m)throw new y.ErrnoError(44);if(y.isChrdev(m.mode)&&(u&=-513),u&65536&&!y.isDir(m.mode))throw new y.ErrnoError(54);if(!_){var S=y.mayOpen(m,u);if(S)throw new y.ErrnoError(S)}u&512&&!_&&y.truncate(m,0),u&=-131713;var T=y.createStream({node:m,path:y.getPath(m),flags:u,seekable:!0,position:0,stream_ops:m.stream_ops,ungotten:[],error:!1});return T.stream_ops.open&&T.stream_ops.open(T),r.logReadFiles&&!(u&1)&&(y.readFiles||(y.readFiles={}),a in y.readFiles||(y.readFiles[a]=1)),T},close:a=>{if(y.isClosed(a))throw new y.ErrnoError(8);a.getdents&&(a.getdents=null);try{a.stream_ops.close&&a.stream_ops.close(a)}catch(u){throw u}finally{y.closeStream(a.fd)}a.fd=null},isClosed:a=>a.fd===null,llseek:(a,u,h)=>{if(y.isClosed(a))throw new y.ErrnoError(8);if(!a.seekable||!a.stream_ops.llseek)throw new y.ErrnoError(70);if(h!=0&&h!=1&&h!=2)throw new y.ErrnoError(28);return a.position=a.stream_ops.llseek(a,u,h),a.ungotten=[],a.position},read:(a,u,h,m,v)=>{if(m<0||v<0)throw new y.ErrnoError(28);if(y.isClosed(a))throw new y.ErrnoError(8);if((a.flags&2097155)===1)throw new y.ErrnoError(8);if(y.isDir(a.node.mode))throw new y.ErrnoError(31);if(!a.stream_ops.read)throw new y.ErrnoError(28);var _=typeof v<"u";if(!_)v=a.position;else if(!a.seekable)throw new y.ErrnoError(70);var S=a.stream_ops.read(a,u,h,m,v);return _||(a.position+=S),S},write:(a,u,h,m,v,_)=>{if(m<0||v<0)throw new y.ErrnoError(28);if(y.isClosed(a))throw new y.ErrnoError(8);if((a.flags&2097155)===0)throw new y.ErrnoError(8);if(y.isDir(a.node.mode))throw new y.ErrnoError(31);if(!a.stream_ops.write)throw new y.ErrnoError(28);a.seekable&&a.flags&1024&&y.llseek(a,0,2);var S=typeof v<"u";if(!S)v=a.position;else if(!a.seekable)throw new y.ErrnoError(70);var T=a.stream_ops.write(a,u,h,m,v,_);return S||(a.position+=T),T},allocate:(a,u,h)=>{if(y.isClosed(a))throw new y.ErrnoError(8);if(u<0||h<=0)throw new y.ErrnoError(28);if((a.flags&2097155)===0)throw new y.ErrnoError(8);if(!y.isFile(a.node.mode)&&!y.isDir(a.node.mode))throw new y.ErrnoError(43);if(!a.stream_ops.allocate)throw new y.ErrnoError(138);a.stream_ops.allocate(a,u,h)},mmap:(a,u,h,m,v)=>{if((m&2)!==0&&(v&2)===0&&(a.flags&2097155)!==2)throw new y.ErrnoError(2);if((a.flags&2097155)===1)throw new y.ErrnoError(2);if(!a.stream_ops.mmap)throw new y.ErrnoError(43);return a.stream_ops.mmap(a,u,h,m,v)},msync:(a,u,h,m,v)=>!a||!a.stream_ops.msync?0:a.stream_ops.msync(a,u,h,m,v),munmap:a=>0,ioctl:(a,u,h)=>{if(!a.stream_ops.ioctl)throw new y.ErrnoError(59);return a.stream_ops.ioctl(a,u,h)},readFile:(a,u={})=>{if(u.flags=u.flags||0,u.encoding=u.encoding||"binary",u.encoding!=="utf8"&&u.encoding!=="binary")throw new Error('Invalid encoding type "'+u.encoding+'"');var h,m=y.open(a,u.flags),v=y.stat(a),_=v.size,S=new Uint8Array(_);return y.read(m,S,0,_,0),u.encoding==="utf8"?h=Ae(S,0):u.encoding==="binary"&&(h=S),y.close(m),h},writeFile:(a,u,h={})=>{h.flags=h.flags||577;var m=y.open(a,h.flags,h.mode);if(typeof u=="string"){var v=new Uint8Array(je(u)+1),_=Qe(u,v,0,v.length);y.write(m,v,0,_,void 0,h.canOwn)}else if(ArrayBuffer.isView(u))y.write(m,u,0,u.byteLength,void 0,h.canOwn);else throw new Error("Unsupported data type");y.close(m)},cwd:()=>y.currentPath,chdir:a=>{var u=y.lookupPath(a,{follow:!0});if(u.node===null)throw new y.ErrnoError(44);if(!y.isDir(u.node.mode))throw new y.ErrnoError(54);var h=y.nodePermissions(u.node,"x");if(h)throw new y.ErrnoError(h);y.currentPath=u.path},createDefaultDirectories:()=>{y.mkdir("/tmp"),y.mkdir("/home"),y.mkdir("/home/web_user")},createDefaultDevices:()=>{y.mkdir("/dev"),y.registerDevice(y.makedev(1,3),{read:()=>0,write:(u,h,m,v,_)=>v}),y.mkdev("/dev/null",y.makedev(1,3)),Kt.register(y.makedev(5,0),Kt.default_tty_ops),Kt.register(y.makedev(6,0),Kt.default_tty1_ops),y.mkdev("/dev/tty",y.makedev(5,0)),y.mkdev("/dev/tty1",y.makedev(6,0));var a=fs();y.createDevice("/dev","random",a),y.createDevice("/dev","urandom",a),y.mkdir("/dev/shm"),y.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{y.mkdir("/proc");var a=y.mkdir("/proc/self");y.mkdir("/proc/self/fd"),y.mount({mount:()=>{var u=y.createNode(a,"fd",16895,73);return u.node_ops={lookup:(h,m)=>{var v=+m,_=y.getStream(v);if(!_)throw new y.ErrnoError(8);var S={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>_.path}};return S.parent=S,S}},u}},{},"/proc/self/fd")},createStandardStreams:()=>{r.stdin?y.createDevice("/dev","stdin",r.stdin):y.symlink("/dev/tty","/dev/stdin"),r.stdout?y.createDevice("/dev","stdout",null,r.stdout):y.symlink("/dev/tty","/dev/stdout"),r.stderr?y.createDevice("/dev","stderr",null,r.stderr):y.symlink("/dev/tty1","/dev/stderr"),y.open("/dev/stdin",0),y.open("/dev/stdout",1),y.open("/dev/stderr",1)},ensureErrnoError:()=>{y.ErrnoError||(y.ErrnoError=function(u,h){this.node=h,this.setErrno=function(m){this.errno=m},this.setErrno(u),this.message="FS error"},y.ErrnoError.prototype=new Error,y.ErrnoError.prototype.constructor=y.ErrnoError,[44].forEach(a=>{y.genericErrors[a]=new y.ErrnoError(a),y.genericErrors[a].stack="<generic error, no stack>"}))},staticInit:()=>{y.ensureErrnoError(),y.nameTable=new Array(4096),y.mount(ge,{},"/"),y.createDefaultDirectories(),y.createDefaultDevices(),y.createSpecialDirectories(),y.filesystems={MEMFS:ge}},init:(a,u,h)=>{y.init.initialized=!0,y.ensureErrnoError(),r.stdin=a||r.stdin,r.stdout=u||r.stdout,r.stderr=h||r.stderr,y.createStandardStreams()},quit:()=>{y.init.initialized=!1;for(var a=0;a<y.streams.length;a++){var u=y.streams[a];u&&y.close(u)}},getMode:(a,u)=>{var h=0;return a&&(h|=365),u&&(h|=146),h},findObject:(a,u)=>{var h=y.analyzePath(a,u);return h.exists?h.object:null},analyzePath:(a,u)=>{try{var h=y.lookupPath(a,{follow:!u});a=h.path}catch{}var m={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var h=y.lookupPath(a,{parent:!0});m.parentExists=!0,m.parentPath=h.path,m.parentObject=h.node,m.name=Pe.basename(a),h=y.lookupPath(a,{follow:!u}),m.exists=!0,m.path=h.path,m.object=h.node,m.name=h.node.name,m.isRoot=h.path==="/"}catch(v){m.error=v.errno}return m},createPath:(a,u,h,m)=>{a=typeof a=="string"?a:y.getPath(a);for(var v=u.split("/").reverse();v.length;){var _=v.pop();if(_){var S=Pe.join2(a,_);try{y.mkdir(S)}catch{}a=S}}return S},createFile:(a,u,h,m,v)=>{var _=Pe.join2(typeof a=="string"?a:y.getPath(a),u),S=y.getMode(m,v);return y.create(_,S)},createDataFile:(a,u,h,m,v,_)=>{var S=u;a&&(a=typeof a=="string"?a:y.getPath(a),S=u?Pe.join2(a,u):a);var T=y.getMode(m,v),C=y.create(S,T);if(h){if(typeof h=="string"){for(var B=new Array(h.length),Y=0,Z=h.length;Y<Z;++Y)B[Y]=h.charCodeAt(Y);h=B}y.chmod(C,T|146);var $=y.open(C,577);y.write($,h,0,h.length,0,_),y.close($),y.chmod(C,T)}return C},createDevice:(a,u,h,m)=>{var v=Pe.join2(typeof a=="string"?a:y.getPath(a),u),_=y.getMode(!!h,!!m);y.createDevice.major||(y.createDevice.major=64);var S=y.makedev(y.createDevice.major++,0);return y.registerDevice(S,{open:T=>{T.seekable=!1},close:T=>{m&&m.buffer&&m.buffer.length&&m(10)},read:(T,C,B,Y,Z)=>{for(var $=0,Q=0;Q<Y;Q++){var ue;try{ue=h()}catch{throw new y.ErrnoError(29)}if(ue===void 0&&$===0)throw new y.ErrnoError(6);if(ue==null)break;$++,C[B+Q]=ue}return $&&(T.node.timestamp=Date.now()),$},write:(T,C,B,Y,Z)=>{for(var $=0;$<Y;$++)try{m(C[B+$])}catch{throw new y.ErrnoError(29)}return Y&&(T.node.timestamp=Date.now()),$}}),y.mkdev(v,_,S)},forceLoadFile:a=>{if(a.isDevice||a.isFolder||a.link||a.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(x)try{a.contents=Fo(x(a.url),!0),a.usedBytes=a.contents.length}catch{throw new y.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(a,u,h,m,v)=>{function _(){this.lengthKnown=!1,this.chunks=[]}if(_.prototype.get=function(Q){if(!(Q>this.length-1||Q<0)){var ue=Q%this.chunkSize,Ue=Q/this.chunkSize|0;return this.getter(Ue)[ue]}},_.prototype.setDataGetter=function(Q){this.getter=Q},_.prototype.cacheLength=function(){var Q=new XMLHttpRequest;if(Q.open("HEAD",h,!1),Q.send(null),!(Q.status>=200&&Q.status<300||Q.status===304))throw new Error("Couldn't load "+h+". Status: "+Q.status);var ue=Number(Q.getResponseHeader("Content-length")),Ue,it=(Ue=Q.getResponseHeader("Accept-Ranges"))&&Ue==="bytes",ct=(Ue=Q.getResponseHeader("Content-Encoding"))&&Ue==="gzip",z=1024*1024;it||(z=ue);var oe=(ze,Lt)=>{if(ze>Lt)throw new Error("invalid range ("+ze+", "+Lt+") or no bytes requested!");if(Lt>ue-1)throw new Error("only "+ue+" bytes available! programmer error!");var ut=new XMLHttpRequest;if(ut.open("GET",h,!1),ue!==z&&ut.setRequestHeader("Range","bytes="+ze+"-"+Lt),ut.responseType="arraybuffer",ut.overrideMimeType&&ut.overrideMimeType("text/plain; charset=x-user-defined"),ut.send(null),!(ut.status>=200&&ut.status<300||ut.status===304))throw new Error("Couldn't load "+h+". Status: "+ut.status);return ut.response!==void 0?new Uint8Array(ut.response||[]):Fo(ut.responseText||"",!0)},dt=this;dt.setDataGetter(ze=>{var Lt=ze*z,ut=(ze+1)*z-1;if(ut=Math.min(ut,ue-1),typeof dt.chunks[ze]>"u"&&(dt.chunks[ze]=oe(Lt,ut)),typeof dt.chunks[ze]>"u")throw new Error("doXHR failed!");return dt.chunks[ze]}),(ct||!ue)&&(z=ue=1,ue=this.getter(0).length,z=ue,O("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ue,this._chunkSize=z,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!d)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var S=new _;Object.defineProperties(S,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var T={isDevice:!1,contents:S}}else var T={isDevice:!1,url:h};var C=y.createFile(a,u,T,m,v);T.contents?C.contents=T.contents:T.url&&(C.contents=null,C.url=T.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var B={},Y=Object.keys(C.stream_ops);Y.forEach($=>{var Q=C.stream_ops[$];B[$]=function(){return y.forceLoadFile(C),Q.apply(null,arguments)}});function Z($,Q,ue,Ue,it){var ct=$.node.contents;if(it>=ct.length)return 0;var z=Math.min(ct.length-it,Ue);if(ct.slice)for(var oe=0;oe<z;oe++)Q[ue+oe]=ct[it+oe];else for(var oe=0;oe<z;oe++)Q[ue+oe]=ct.get(it+oe);return z}return B.read=($,Q,ue,Ue,it)=>(y.forceLoadFile(C),Z($,Q,ue,Ue,it)),B.mmap=($,Q,ue,Ue,it)=>{y.forceLoadFile(C);var ct=Cn(Q);if(!ct)throw new y.ErrnoError(48);return Z($,q,ct,Q,ue),{ptr:ct,allocated:!0}},C.stream_ops=B,C},createPreloadedFile:(a,u,h,m,v,_,S,T,C,B)=>{var Y=u?Bt.resolve(Pe.join2(a,u)):a;function Z($){function Q(ue){B&&B(),T||y.createDataFile(a,u,ue,m,v,C),_&&_(),Fr()}Browser.handledByPreloadPlugin($,Y,Q,()=>{S&&S(),Fr()})||Q($)}on(),typeof h=="string"?ds(h,$=>Z($),S):Z(h)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(a,u,h)=>{u=u||(()=>{}),h=h||(()=>{});var m=y.indexedDB();try{var v=m.open(y.DB_NAME(),y.DB_VERSION)}catch(_){return h(_)}v.onupgradeneeded=()=>{O("creating db");var _=v.result;_.createObjectStore(y.DB_STORE_NAME)},v.onsuccess=()=>{var _=v.result,S=_.transaction([y.DB_STORE_NAME],"readwrite"),T=S.objectStore(y.DB_STORE_NAME),C=0,B=0,Y=a.length;function Z(){B==0?u():h()}a.forEach($=>{var Q=T.put(y.analyzePath($).object.contents,$);Q.onsuccess=()=>{C++,C+B==Y&&Z()},Q.onerror=()=>{B++,C+B==Y&&Z()}}),S.onerror=h},v.onerror=h},loadFilesFromDB:(a,u,h)=>{u=u||(()=>{}),h=h||(()=>{});var m=y.indexedDB();try{var v=m.open(y.DB_NAME(),y.DB_VERSION)}catch(_){return h(_)}v.onupgradeneeded=h,v.onsuccess=()=>{var _=v.result;try{var S=_.transaction([y.DB_STORE_NAME],"readonly")}catch($){h($);return}var T=S.objectStore(y.DB_STORE_NAME),C=0,B=0,Y=a.length;function Z(){B==0?u():h()}a.forEach($=>{var Q=T.get($);Q.onsuccess=()=>{y.analyzePath($).exists&&y.unlink($),y.createDataFile(Pe.dirname($),Pe.basename($),Q.result,!0,!0,!0),C++,C+B==Y&&Z()},Q.onerror=()=>{B++,C+B==Y&&Z()}}),S.onerror=h},v.onerror=h}},Re={DEFAULT_POLLMASK:5,calculateAt:function(a,u,h){if(Pe.isAbs(u))return u;var m;if(a===-100)m=y.cwd();else{var v=y.getStream(a);if(!v)throw new y.ErrnoError(8);m=v.path}if(u.length==0){if(!h)throw new y.ErrnoError(44);return m}return Pe.join2(m,u)},doStat:function(a,u,h){try{var m=a(u)}catch(v){if(v&&v.node&&Pe.normalize(u)!==Pe.normalize(y.getPath(v.node)))return-54;throw v}return M[h>>2]=m.dev,M[h+4>>2]=0,M[h+8>>2]=m.ino,M[h+12>>2]=m.mode,M[h+16>>2]=m.nlink,M[h+20>>2]=m.uid,M[h+24>>2]=m.gid,M[h+28>>2]=m.rdev,M[h+32>>2]=0,Mt=[m.size>>>0,(at=m.size,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],M[h+40>>2]=Mt[0],M[h+44>>2]=Mt[1],M[h+48>>2]=4096,M[h+52>>2]=m.blocks,M[h+56>>2]=m.atime.getTime()/1e3|0,M[h+60>>2]=0,M[h+64>>2]=m.mtime.getTime()/1e3|0,M[h+68>>2]=0,M[h+72>>2]=m.ctime.getTime()/1e3|0,M[h+76>>2]=0,Mt=[m.ino>>>0,(at=m.ino,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],M[h+80>>2]=Mt[0],M[h+84>>2]=Mt[1],0},doMsync:function(a,u,h,m,v){var _=W.slice(a,a+h);y.msync(u,_,v,h,m)},varargs:void 0,get:function(){Re.varargs+=4;var a=M[Re.varargs-4>>2];return a},getStr:function(a){var u=Oe(a);return u},getStreamFromFD:function(a){var u=y.getStream(a);if(!u)throw new y.ErrnoError(8);return u}};function ms(a,u){try{return a=Re.getStr(a),y.chmod(a,u),0}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return-h.errno}}function gs(a,u,h,m){try{if(u=Re.getStr(u),u=Re.calculateAt(a,u),h&-8)return-28;var v=y.lookupPath(u,{follow:!0}),_=v.node;if(!_)return-44;var S="";return h&4&&(S+="r"),h&2&&(S+="w"),h&1&&(S+="x"),S&&y.nodePermissions(_,S)?-2:0}catch(T){if(typeof y>"u"||!(T instanceof y.ErrnoError))throw T;return-T.errno}}function vs(a){return M[o1()>>2]=a,a}function ys(a,u,h){Re.varargs=h;try{var m=Re.getStreamFromFD(a);switch(u){case 0:{var v=Re.get();if(v<0)return-28;var _;return _=y.createStream(m,v),_.fd}case 1:case 2:return 0;case 3:return m.flags;case 4:{var v=Re.get();return m.flags|=v,0}case 5:{var v=Re.get(),S=0;return K[v+S>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return vs(28),-1;default:return-28}}catch(T){if(typeof y>"u"||!(T instanceof y.ErrnoError))throw T;return-T.errno}}function ks(a,u){try{var h=Re.getStreamFromFD(a);return Re.doStat(y.stat,h.path,u)}catch(m){if(typeof y>"u"||!(m instanceof y.ErrnoError))throw m;return-m.errno}}function ws(a,u,h){Re.varargs=h;try{var m=Re.getStreamFromFD(a);switch(u){case 21509:case 21505:return m.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return m.tty?0:-59;case 21519:{if(!m.tty)return-59;var v=Re.get();return M[v>>2]=0,0}case 21520:return m.tty?-28:-59;case 21531:{var v=Re.get();return y.ioctl(m,u,v)}case 21523:return m.tty?0:-59;case 21524:return m.tty?0:-59;default:zt("bad ioctl syscall "+u)}}catch(_){if(typeof y>"u"||!(_ instanceof y.ErrnoError))throw _;return-_.errno}}function _s(a,u){try{return a=Re.getStr(a),Re.doStat(y.lstat,a,u)}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return-h.errno}}function bs(a,u,h,m){try{u=Re.getStr(u);var v=m&256,_=m&4096;return m=m&-4353,u=Re.calculateAt(a,u,_),Re.doStat(v?y.lstat:y.stat,u,h)}catch(S){if(typeof y>"u"||!(S instanceof y.ErrnoError))throw S;return-S.errno}}function xs(a,u,h,m){Re.varargs=m;try{u=Re.getStr(u),u=Re.calculateAt(a,u);var v=m?Re.get():0;return y.open(u,h,v).fd}catch(_){if(typeof y>"u"||!(_ instanceof y.ErrnoError))throw _;return-_.errno}}function Hi(a,u){try{return a=Re.getStr(a),Re.doStat(y.stat,a,u)}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return-h.errno}}function qi(a,u,h,m,v){}function Pn(a){switch(a){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+a)}}function Wi(){for(var a=new Array(256),u=0;u<256;++u)a[u]=String.fromCharCode(u);So=a}var So=void 0;function xt(a){for(var u="",h=a;W[h];)u+=So[W[h++]];return u}var Br={},_r={},Rn={},Vi=48,zi=57;function Dn(a){if(a===void 0)return"_unknown";a=a.replace(/[^a-zA-Z0-9_]/g,"$");var u=a.charCodeAt(0);return u>=Vi&&u<=zi?"_"+a:a}function On(a,u){return a=Dn(a),new Function("body","return function "+a+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(u)}function Ss(a,u){var h=On(u,function(m){this.name=u,this.message=m;var v=new Error(m).stack;v!==void 0&&(this.stack=this.toString()+`
`+v.replace(/^Error(:[^\n]*)?\n/,""))});return h.prototype=Object.create(a.prototype),h.prototype.constructor=h,h.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},h}var Ur=void 0;function Fe(a){throw new Ur(a)}var jc=void 0;function To(a){throw new jc(a)}function cn(a,u,h){a.forEach(function(T){Rn[T]=u});function m(T){var C=h(T);C.length!==a.length&&To("Mismatched type converter count");for(var B=0;B<a.length;++B)lr(a[B],C[B])}var v=new Array(u.length),_=[],S=0;u.forEach((T,C)=>{_r.hasOwnProperty(T)?v[C]=_r[T]:(_.push(T),Br.hasOwnProperty(T)||(Br[T]=[]),Br[T].push(()=>{v[C]=_r[T],++S,S===_.length&&m(v)}))}),_.length===0&&m(v)}function lr(a,u,h={}){if(!("argPackAdvance"in u))throw new TypeError("registerType registeredInstance requires argPackAdvance");var m=u.name;if(a||Fe('type "'+m+'" must have a positive integer typeid pointer'),_r.hasOwnProperty(a)){if(h.ignoreDuplicateRegistrations)return;Fe("Cannot register type '"+m+"' twice")}if(_r[a]=u,delete Rn[a],Br.hasOwnProperty(a)){var v=Br[a];delete Br[a],v.forEach(_=>_())}}function hh(a,u,h,m,v){var _=Pn(h);u=xt(u),lr(a,{name:u,fromWireType:function(S){return!!S},toWireType:function(S,T){return T?m:v},argPackAdvance:8,readValueFromPointer:function(S){var T;if(h===1)T=q;else if(h===2)T=K;else if(h===4)T=M;else throw new TypeError("Unknown boolean type size: "+u);return this.fromWireType(T[S>>_])},destructorFunction:null})}function ph(a){if(!(this instanceof Gr)||!(a instanceof Gr))return!1;for(var u=this.$$.ptrType.registeredClass,h=this.$$.ptr,m=a.$$.ptrType.registeredClass,v=a.$$.ptr;u.baseClass;)h=u.upcast(h),u=u.baseClass;for(;m.baseClass;)v=m.upcast(v),m=m.baseClass;return u===m&&h===v}function dh(a){return{count:a.count,deleteScheduled:a.deleteScheduled,preservePointerOnDelete:a.preservePointerOnDelete,ptr:a.ptr,ptrType:a.ptrType,smartPtr:a.smartPtr,smartPtrType:a.smartPtrType}}function $i(a){function u(h){return h.$$.ptrType.registeredClass.name}Fe(u(a)+" instance already deleted")}var Xi=!1;function Hc(a){}function mh(a){a.smartPtr?a.smartPtrType.rawDestructor(a.smartPtr):a.ptrType.registeredClass.rawDestructor(a.ptr)}function qc(a){a.count.value-=1;var u=a.count.value===0;u&&mh(a)}function Wc(a,u,h){if(u===h)return a;if(h.baseClass===void 0)return null;var m=Wc(a,u,h.baseClass);return m===null?null:h.downcast(m)}var Vc={};function gh(){return Object.keys(As).length}function vh(){var a=[];for(var u in As)As.hasOwnProperty(u)&&a.push(As[u]);return a}var Ts=[];function Yi(){for(;Ts.length;){var a=Ts.pop();a.$$.deleteScheduled=!1,a.delete()}}var Es=void 0;function yh(a){Es=a,Ts.length&&Es&&Es(Yi)}function kh(){r.getInheritedInstanceCount=gh,r.getLiveInheritedInstances=vh,r.flushPendingDeletes=Yi,r.setDelayFunction=yh}var As={};function wh(a,u){for(u===void 0&&Fe("ptr should not be undefined");a.baseClass;)u=a.upcast(u),a=a.baseClass;return u}function _h(a,u){return u=wh(a,u),As[u]}function Eo(a,u){(!u.ptrType||!u.ptr)&&To("makeClassHandle requires ptr and ptrType");var h=!!u.smartPtrType,m=!!u.smartPtr;return h!==m&&To("Both smartPtrType and smartPtr must be specified"),u.count={value:1},Is(Object.create(a,{$$:{value:u}}))}function bh(a){var u=this.getPointee(a);if(!u)return this.destructor(a),null;var h=_h(this.registeredClass,u);if(h!==void 0){if(h.$$.count.value===0)return h.$$.ptr=u,h.$$.smartPtr=a,h.clone();var m=h.clone();return this.destructor(a),m}function v(){return this.isSmartPointer?Eo(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:u,smartPtrType:this,smartPtr:a}):Eo(this.registeredClass.instancePrototype,{ptrType:this,ptr:a})}var _=this.registeredClass.getActualType(u),S=Vc[_];if(!S)return v.call(this);var T;this.isConst?T=S.constPointerType:T=S.pointerType;var C=Wc(u,this.registeredClass,T.registeredClass);return C===null?v.call(this):this.isSmartPointer?Eo(T.registeredClass.instancePrototype,{ptrType:T,ptr:C,smartPtrType:this,smartPtr:a}):Eo(T.registeredClass.instancePrototype,{ptrType:T,ptr:C})}function Is(a){return typeof FinalizationRegistry>"u"?(Is=u=>u,a):(Xi=new FinalizationRegistry(u=>{qc(u.$$)}),Is=u=>{var h=u.$$,m=!!h.smartPtr;if(m){var v={$$:h};Xi.register(u,v,u)}return u},Hc=u=>Xi.unregister(u),Is(a))}function xh(){if(this.$$.ptr||$i(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var a=Is(Object.create(Object.getPrototypeOf(this),{$$:{value:dh(this.$$)}}));return a.$$.count.value+=1,a.$$.deleteScheduled=!1,a}function Sh(){this.$$.ptr||$i(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),Hc(this),qc(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Th(){return!this.$$.ptr}function Eh(){return this.$$.ptr||$i(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),Ts.push(this),Ts.length===1&&Es&&Es(Yi),this.$$.deleteScheduled=!0,this}function Ah(){Gr.prototype.isAliasOf=ph,Gr.prototype.clone=xh,Gr.prototype.delete=Sh,Gr.prototype.isDeleted=Th,Gr.prototype.deleteLater=Eh}function Gr(){}function Zi(a,u,h){if(a[u].overloadTable===void 0){var m=a[u];a[u]=function(){return a[u].overloadTable.hasOwnProperty(arguments.length)||Fe("Function '"+h+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+a[u].overloadTable+")!"),a[u].overloadTable[arguments.length].apply(this,arguments)},a[u].overloadTable=[],a[u].overloadTable[m.argCount]=m}}function zc(a,u,h){r.hasOwnProperty(a)?(Fe("Cannot register public name '"+a+"' twice"),Zi(r,a,a),r.hasOwnProperty(h)&&Fe("Cannot register multiple overloads of a function with the same number of arguments ("+h+")!"),r[a].overloadTable[h]=u):r[a]=u}function Ih(a,u,h,m,v,_,S,T){this.name=a,this.constructor=u,this.instancePrototype=h,this.rawDestructor=m,this.baseClass=v,this.getActualType=_,this.upcast=S,this.downcast=T,this.pureVirtualFunctions=[]}function Ki(a,u,h){for(;u!==h;)u.upcast||Fe("Expected null or instance of "+h.name+", got an instance of "+u.name),a=u.upcast(a),u=u.baseClass;return a}function Ch(a,u){if(u===null)return this.isReference&&Fe("null is not a valid "+this.name),0;u.$$||Fe('Cannot pass "'+ra(u)+'" as a '+this.name),u.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name);var h=u.$$.ptrType.registeredClass,m=Ki(u.$$.ptr,h,this.registeredClass);return m}function Ph(a,u){var h;if(u===null)return this.isReference&&Fe("null is not a valid "+this.name),this.isSmartPointer?(h=this.rawConstructor(),a!==null&&a.push(this.rawDestructor,h),h):0;u.$$||Fe('Cannot pass "'+ra(u)+'" as a '+this.name),u.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&u.$$.ptrType.isConst&&Fe("Cannot convert argument of type "+(u.$$.smartPtrType?u.$$.smartPtrType.name:u.$$.ptrType.name)+" to parameter type "+this.name);var m=u.$$.ptrType.registeredClass;if(h=Ki(u.$$.ptr,m,this.registeredClass),this.isSmartPointer)switch(u.$$.smartPtr===void 0&&Fe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:u.$$.smartPtrType===this?h=u.$$.smartPtr:Fe("Cannot convert argument of type "+(u.$$.smartPtrType?u.$$.smartPtrType.name:u.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:h=u.$$.smartPtr;break;case 2:if(u.$$.smartPtrType===this)h=u.$$.smartPtr;else{var v=u.clone();h=this.rawShare(h,pt.toHandle(function(){v.delete()})),a!==null&&a.push(this.rawDestructor,h)}break;default:Fe("Unsupporting sharing policy")}return h}function Rh(a,u){if(u===null)return this.isReference&&Fe("null is not a valid "+this.name),0;u.$$||Fe('Cannot pass "'+ra(u)+'" as a '+this.name),u.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name),u.$$.ptrType.isConst&&Fe("Cannot convert argument of type "+u.$$.ptrType.name+" to parameter type "+this.name);var h=u.$$.ptrType.registeredClass,m=Ki(u.$$.ptr,h,this.registeredClass);return m}function Ao(a){return this.fromWireType(re[a>>2])}function Dh(a){return this.rawGetPointee&&(a=this.rawGetPointee(a)),a}function Oh(a){this.rawDestructor&&this.rawDestructor(a)}function Lh(a){a!==null&&a.delete()}function Fh(){br.prototype.getPointee=Dh,br.prototype.destructor=Oh,br.prototype.argPackAdvance=8,br.prototype.readValueFromPointer=Ao,br.prototype.deleteObject=Lh,br.prototype.fromWireType=bh}function br(a,u,h,m,v,_,S,T,C,B,Y){this.name=a,this.registeredClass=u,this.isReference=h,this.isConst=m,this.isSmartPointer=v,this.pointeeType=_,this.sharingPolicy=S,this.rawGetPointee=T,this.rawConstructor=C,this.rawShare=B,this.rawDestructor=Y,!v&&u.baseClass===void 0?m?(this.toWireType=Ch,this.destructorFunction=null):(this.toWireType=Rh,this.destructorFunction=null):this.toWireType=Ph}function Nh(a,u,h){r.hasOwnProperty(a)||To("Replacing nonexistant public symbol"),r[a].overloadTable!==void 0&&h!==void 0||(r[a]=u,r[a].argCount=h)}function Mh(a,u,h){var m=r["dynCall_"+a];return h&&h.length?m.apply(null,[u].concat(h)):m.call(null,u)}function Bh(a,u,h){return a.includes("j")?Mh(a,u,h):Mr(u).apply(null,h)}function Uh(a,u){var h=[];return function(){return h.length=0,Object.assign(h,arguments),Bh(a,u,h)}}function un(a,u){a=xt(a);function h(){return a.includes("j")?Uh(a,u):Mr(u)}var m=h();return typeof m!="function"&&Fe("unknown function pointer with signature "+a+": "+u),m}var $c=void 0;function Xc(a){var u=i1(a),h=xt(u);return Tr(u),h}function Io(a,u){var h=[],m={};function v(_){if(!m[_]&&!_r[_]){if(Rn[_]){Rn[_].forEach(v);return}h.push(_),m[_]=!0}}throw u.forEach(v),new $c(a+": "+h.map(Xc).join([", "]))}function Gh(a,u,h,m,v,_,S,T,C,B,Y,Z,$){Y=xt(Y),_=un(v,_),T&&(T=un(S,T)),B&&(B=un(C,B)),$=un(Z,$);var Q=Dn(Y);zc(Q,function(){Io("Cannot construct "+Y+" due to unbound types",[m])}),cn([a,u,h],m?[m]:[],function(ue){ue=ue[0];var Ue,it;m?(Ue=ue.registeredClass,it=Ue.instancePrototype):it=Gr.prototype;var ct=On(Q,function(){if(Object.getPrototypeOf(this)!==z)throw new Ur("Use 'new' to construct "+Y);if(oe.constructor_body===void 0)throw new Ur(Y+" has no accessible constructor");var ut=oe.constructor_body[arguments.length];if(ut===void 0)throw new Ur("Tried to invoke ctor of "+Y+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(oe.constructor_body).toString()+") parameters instead!");return ut.apply(this,arguments)}),z=Object.create(it,{constructor:{value:ct}});ct.prototype=z;var oe=new Ih(Y,ct,z,$,Ue,_,T,B),dt=new br(Y,oe,!0,!1,!1),ze=new br(Y+"*",oe,!1,!1,!1),Lt=new br(Y+" const*",oe,!1,!0,!1);return Vc[a]={pointerType:ze,constPointerType:Lt},Nh(Q,ct),[dt,ze,Lt]})}function Yc(a,u){if(!(a instanceof Function))throw new TypeError("new_ called with constructor type "+typeof a+" which is not a function");var h=On(a.name||"unknownFunctionName",function(){});h.prototype=a.prototype;var m=new h,v=a.apply(m,u);return v instanceof Object?v:m}function Zc(a){for(;a.length;){var u=a.pop(),h=a.pop();h(u)}}function Qi(a,u,h,m,v){var _=u.length;_<2&&Fe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var S=u[1]!==null&&h!==null,T=!1,C=1;C<u.length;++C)if(u[C]!==null&&u[C].destructorFunction===void 0){T=!0;break}for(var B=u[0].name!=="void",Y="",Z="",C=0;C<_-2;++C)Y+=(C!==0?", ":"")+"arg"+C,Z+=(C!==0?", ":"")+"arg"+C+"Wired";var $="return function "+Dn(a)+"("+Y+`) {
if (arguments.length !== `+(_-2)+`) {
throwBindingError('function `+a+" called with ' + arguments.length + ' arguments, expected "+(_-2)+` args!');
}
`;T&&($+=`var destructors = [];
`);var Q=T?"destructors":"null",ue=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Ue=[Fe,m,v,Zc,u[0],u[1]];S&&($+="var thisWired = classParam.toWireType("+Q+`, this);
`);for(var C=0;C<_-2;++C)$+="var arg"+C+"Wired = argType"+C+".toWireType("+Q+", arg"+C+"); // "+u[C+2].name+`
`,ue.push("argType"+C),Ue.push(u[C+2]);if(S&&(Z="thisWired"+(Z.length>0?", ":"")+Z),$+=(B?"var rv = ":"")+"invoker(fn"+(Z.length>0?", ":"")+Z+`);
`,T)$+=`runDestructors(destructors);
`;else for(var C=S?1:2;C<u.length;++C){var it=C===1?"thisWired":"arg"+(C-2)+"Wired";u[C].destructorFunction!==null&&($+=it+"_dtor("+it+"); // "+u[C].name+`
`,ue.push(it+"_dtor"),Ue.push(u[C].destructorFunction))}B&&($+=`var ret = retType.fromWireType(rv);
return ret;
`),$+=`}
`,ue.push($);var ct=Yc(Function,ue).apply(null,Ue);return ct}function Ji(a,u){for(var h=[],m=0;m<a;m++)h.push(M[(u>>2)+m]);return h}function jh(a,u,h,m,v,_,S){var T=Ji(h,m);u=xt(u),_=un(v,_),cn([],[a],function(C){C=C[0];var B=C.name+"."+u;function Y(){Io("Cannot call "+B+" due to unbound types",T)}u.startsWith("@@")&&(u=Symbol[u.substring(2)]);var Z=C.registeredClass.constructor;return Z[u]===void 0?(Y.argCount=h-1,Z[u]=Y):(Zi(Z,u,B),Z[u].overloadTable[h-1]=Y),cn([],T,function($){var Q=[$[0],null].concat($.slice(1)),ue=Qi(B,Q,null,_,S);return Z[u].overloadTable===void 0?(ue.argCount=h-1,Z[u]=ue):Z[u].overloadTable[h-1]=ue,[]}),[]})}function Hh(a,u,h,m,v,_){Se(u>0);var S=Ji(u,h);v=un(m,v),cn([],[a],function(T){T=T[0];var C="constructor "+T.name;if(T.registeredClass.constructor_body===void 0&&(T.registeredClass.constructor_body=[]),T.registeredClass.constructor_body[u-1]!==void 0)throw new Ur("Cannot register multiple constructors with identical number of parameters ("+(u-1)+") for class '"+T.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return T.registeredClass.constructor_body[u-1]=()=>{Io("Cannot construct "+T.name+" due to unbound types",S)},cn([],S,function(B){return B.splice(1,0,null),T.registeredClass.constructor_body[u-1]=Qi(C,B,null,v,_),[]}),[]})}function qh(a,u,h,m,v,_,S,T){var C=Ji(h,m);u=xt(u),_=un(v,_),cn([],[a],function(B){B=B[0];var Y=B.name+"."+u;u.startsWith("@@")&&(u=Symbol[u.substring(2)]),T&&B.registeredClass.pureVirtualFunctions.push(u);function Z(){Io("Cannot call "+Y+" due to unbound types",C)}var $=B.registeredClass.instancePrototype,Q=$[u];return Q===void 0||Q.overloadTable===void 0&&Q.className!==B.name&&Q.argCount===h-2?(Z.argCount=h-2,Z.className=B.name,$[u]=Z):(Zi($,u,Y),$[u].overloadTable[h-2]=Z),cn([],C,function(ue){var Ue=Qi(Y,ue,B,_,S);return $[u].overloadTable===void 0?(Ue.argCount=h-2,$[u]=Ue):$[u].overloadTable[h-2]=Ue,[]}),[]})}var ea=[],Qt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ta(a){a>4&&--Qt[a].refcount===0&&(Qt[a]=void 0,ea.push(a))}function Wh(){for(var a=0,u=5;u<Qt.length;++u)Qt[u]!==void 0&&++a;return a}function Vh(){for(var a=5;a<Qt.length;++a)if(Qt[a]!==void 0)return Qt[a];return null}function zh(){r.count_emval_handles=Wh,r.get_first_emval=Vh}var pt={toValue:a=>(a||Fe("Cannot use deleted val. handle = "+a),Qt[a].value),toHandle:a=>{switch(a){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var u=ea.length?ea.pop():Qt.length;return Qt[u]={refcount:1,value:a},u}}}};function $h(a,u){u=xt(u),lr(a,{name:u,fromWireType:function(h){var m=pt.toValue(h);return ta(h),m},toWireType:function(h,m){return pt.toHandle(m)},argPackAdvance:8,readValueFromPointer:Ao,destructorFunction:null})}function Xh(a,u,h){switch(u){case 0:return function(m){var v=h?q:W;return this.fromWireType(v[m])};case 1:return function(m){var v=h?K:fe;return this.fromWireType(v[m>>1])};case 2:return function(m){var v=h?M:re;return this.fromWireType(v[m>>2])};default:throw new TypeError("Unknown integer type: "+a)}}function Yh(a,u,h,m){var v=Pn(h);u=xt(u);function _(){}_.values={},lr(a,{name:u,constructor:_,fromWireType:function(S){return this.constructor.values[S]},toWireType:function(S,T){return T.value},argPackAdvance:8,readValueFromPointer:Xh(u,v,m),destructorFunction:null}),zc(u,_)}function Co(a,u){var h=_r[a];return h===void 0&&Fe(u+" has unknown type "+Xc(a)),h}function Zh(a,u,h){var m=Co(a,"enum");u=xt(u);var v=m.constructor,_=Object.create(m.constructor.prototype,{value:{value:h},constructor:{value:On(m.name+"_"+u,function(){})}});v.values[h]=_,v[u]=_}function ra(a){if(a===null)return"null";var u=typeof a;return u==="object"||u==="array"||u==="function"?a.toString():""+a}function Kh(a,u){switch(u){case 2:return function(h){return this.fromWireType(Ie[h>>2])};case 3:return function(h){return this.fromWireType(Ve[h>>3])};default:throw new TypeError("Unknown float type: "+a)}}function Qh(a,u,h){var m=Pn(h);u=xt(u),lr(a,{name:u,fromWireType:function(v){return v},toWireType:function(v,_){return _},argPackAdvance:8,readValueFromPointer:Kh(u,m),destructorFunction:null})}function Jh(a,u,h){switch(u){case 0:return h?function(v){return q[v]}:function(v){return W[v]};case 1:return h?function(v){return K[v>>1]}:function(v){return fe[v>>1]};case 2:return h?function(v){return M[v>>2]}:function(v){return re[v>>2]};default:throw new TypeError("Unknown integer type: "+a)}}function ep(a,u,h,m,v){u=xt(u);var _=Pn(h),S=Z=>Z;if(m===0){var T=32-8*h;S=Z=>Z<<T>>>T}var C=u.includes("unsigned"),B=(Z,$)=>{},Y;C?Y=function(Z,$){return B($,this.name),$>>>0}:Y=function(Z,$){return B($,this.name),$},lr(a,{name:u,fromWireType:S,toWireType:Y,argPackAdvance:8,readValueFromPointer:Jh(u,_,m!==0),destructorFunction:null})}function tp(a,u,h){var m=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],v=m[u];function _(S){S=S>>2;var T=re,C=T[S],B=T[S+1];return new v(H,B,C)}h=xt(h),lr(a,{name:h,fromWireType:_,argPackAdvance:8,readValueFromPointer:_},{ignoreDuplicateRegistrations:!0})}function rp(a,u){u=xt(u);var h=u==="std::string";lr(a,{name:u,fromWireType:function(m){var v=re[m>>2],_;if(h)for(var S=m+4,T=0;T<=v;++T){var C=m+4+T;if(T==v||W[C]==0){var B=C-S,Y=Oe(S,B);_===void 0?_=Y:(_+="\0",_+=Y),S=C+1}}else{for(var Z=new Array(v),T=0;T<v;++T)Z[T]=String.fromCharCode(W[m+4+T]);_=Z.join("")}return Tr(m),_},toWireType:function(m,v){v instanceof ArrayBuffer&&(v=new Uint8Array(v));var _,S=typeof v=="string";S||v instanceof Uint8Array||v instanceof Uint8ClampedArray||v instanceof Int8Array||Fe("Cannot pass non-string to std::string"),h&&S?_=()=>je(v):_=()=>v.length;var T=_(),C=Sr(4+T+1);if(re[C>>2]=T,h&&S)Ne(v,C+4,T+1);else if(S)for(var B=0;B<T;++B){var Y=v.charCodeAt(B);Y>255&&(Tr(C),Fe("String has UTF-16 code units that do not fit in 8 bits")),W[C+4+B]=Y}else for(var B=0;B<T;++B)W[C+4+B]=v[B];return m!==null&&m.push(Tr,C),C},argPackAdvance:8,readValueFromPointer:Ao,destructorFunction:function(m){Tr(m)}})}function np(a,u,h){h=xt(h);var m,v,_,S,T;u===2?(m=Le,v=me,S=Ye,_=()=>fe,T=1):u===4&&(m=Je,v=Be,S=We,_=()=>re,T=2),lr(a,{name:h,fromWireType:function(C){for(var B=re[C>>2],Y=_(),Z,$=C+4,Q=0;Q<=B;++Q){var ue=C+4+Q*u;if(Q==B||Y[ue>>T]==0){var Ue=ue-$,it=m($,Ue);Z===void 0?Z=it:(Z+="\0",Z+=it),$=ue+u}}return Tr(C),Z},toWireType:function(C,B){typeof B!="string"&&Fe("Cannot pass non-string to C++ string type "+h);var Y=S(B),Z=Sr(4+Y+u);return re[Z>>2]=Y>>T,v(B,Z+4,Y+u),C!==null&&C.push(Tr,Z),Z},argPackAdvance:8,readValueFromPointer:Ao,destructorFunction:function(C){Tr(C)}})}function sp(a,u){u=xt(u),lr(a,{isVoid:!0,name:u,argPackAdvance:0,fromWireType:function(){},toWireType:function(h,m){}})}function op(){return Date.now()}var ip=!0;function ap(){return ip}function cp(a,u,h){a=pt.toValue(a),u=Co(u,"emval::as");var m=[],v=pt.toHandle(m);return M[h>>2]=v,u.toWireType(m,a)}function up(a){var u=[];return M[a>>2]=pt.toHandle(u),u}var lp={};function na(a){var u=lp[a];return u===void 0?xt(a):u}var sa=[];function fp(a,u,h,m,v){return a=sa[a],u=pt.toValue(u),h=na(h),a(u,h,up(m),v)}function Kc(){return typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")()}function hp(a){return a===0?pt.toHandle(Kc()):(a=na(a),pt.toHandle(Kc()[a]))}function pp(a){var u=sa.length;return sa.push(a),u}function dp(a,u){for(var h=new Array(a),m=0;m<a;++m)h[m]=Co(re[u+m*te>>2],"parameter "+m);return h}var Qc=[];function mp(a,u){var h=dp(a,u),m=h[0],v=m.name+"_$"+h.slice(1).map(function(ue){return ue.name}).join("_")+"$",_=Qc[v];if(_!==void 0)return _;for(var S=["retType"],T=[m],C="",B=0;B<a-1;++B)C+=(B!==0?", ":"")+"arg"+B,S.push("argType"+B),T.push(h[1+B]);for(var Y=Dn("methodCaller_"+v),Z="return function "+Y+`(handle, name, destructors, args) {
`,$=0,B=0;B<a-1;++B)Z+="    var arg"+B+" = argType"+B+".readValueFromPointer(args"+($?"+"+$:"")+`);
`,$+=h[B+1].argPackAdvance;Z+="    var rv = handle[name]("+C+`);
`;for(var B=0;B<a-1;++B)h[B+1].deleteObject&&(Z+="    argType"+B+".deleteObject(arg"+B+`);
`);m.isVoid||(Z+=`    return retType.toWireType(destructors, rv);
`),Z+=`};
`,S.push(Z);var Q=Yc(Function,S).apply(null,T);return _=pp(Q),Qc[v]=_,_}function gp(a,u){return a=pt.toValue(a),u=pt.toValue(u),pt.toHandle(a[u])}function vp(a){a>4&&(Qt[a].refcount+=1)}function yp(a){return pt.toHandle(na(a))}function kp(a){var u=pt.toValue(a);Zc(u),ta(a)}function wp(a,u,h){a=pt.toValue(a),u=pt.toValue(u),h=pt.toValue(h),a[u]=h}function _p(a,u){a=Co(a,"_emval_take_value");var h=a.readValueFromPointer(u);return pt.toHandle(h)}function bp(a){return a=pt.toValue(a),pt.toHandle(typeof a)}function xp(a,u){var h=new Date(M[a>>2]*1e3);M[u>>2]=h.getSeconds(),M[u+4>>2]=h.getMinutes(),M[u+8>>2]=h.getHours(),M[u+12>>2]=h.getDate(),M[u+16>>2]=h.getMonth(),M[u+20>>2]=h.getFullYear()-1900,M[u+24>>2]=h.getDay();var m=new Date(h.getFullYear(),0,1),v=(h.getTime()-m.getTime())/(1e3*60*60*24)|0;M[u+28>>2]=v,M[u+36>>2]=-(h.getTimezoneOffset()*60);var _=new Date(h.getFullYear(),6,1).getTimezoneOffset(),S=m.getTimezoneOffset(),T=(_!=S&&h.getTimezoneOffset()==Math.min(S,_))|0;M[u+32>>2]=T}function Sp(a,u,h,m,v,_){try{var S=y.getStream(v);S&&(h&2&&Re.doMsync(a,S,u,m,_),y.munmap(S))}catch(T){if(typeof y>"u"||!(T instanceof y.ErrnoError))throw T;return-T.errno}}function Tp(a,u,h){var m=new Date().getFullYear(),v=new Date(m,0,1),_=new Date(m,6,1),S=v.getTimezoneOffset(),T=_.getTimezoneOffset(),C=Math.max(S,T);M[a>>2]=C*60,M[u>>2]=+(S!=T);function B(ue){var Ue=ue.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ue?Ue[1]:"GMT"}var Y=B(v),Z=B(_),$=Ct(Y),Q=Ct(Z);T<S?(re[h>>2]=$,re[h+4>>2]=Q):(re[h>>2]=Q,re[h+4>>2]=$)}function oa(a,u,h){oa.called||(oa.called=!0,Tp(a,u,h))}function Ep(){zt("")}function Jc(){return 2147483648}function Ap(){return Jc()}function Ip(a,u,h){W.copyWithin(a,u,u+h)}function Cp(a){try{return ae.grow(a-H.byteLength+65535>>>16),ht(ae.buffer),1}catch{}}function Pp(a){var u=W.length;a=a>>>0;var h=Jc();if(a>h)return!1;let m=(C,B)=>C+(B-C%B)%B;for(var v=1;v<=4;v*=2){var _=u*(1+.2/v);_=Math.min(_,a+100663296);var S=Math.min(h,m(Math.max(a,_),65536)),T=Cp(S);if(T)return!0}return!1}var ia={};function Rp(){return c||"./this.program"}function Cs(){if(!Cs.strings){var a=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",u={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:a,_:Rp()};for(var h in ia)ia[h]===void 0?delete u[h]:u[h]=ia[h];var m=[];for(var h in u)m.push(h+"="+u[h]);Cs.strings=m}return Cs.strings}function Dp(a,u){var h=0;return Cs().forEach(function(m,v){var _=u+h;re[a+v*4>>2]=_,j(m,_),h+=m.length+1}),0}function Op(a,u){var h=Cs();re[a>>2]=h.length;var m=0;return h.forEach(function(v){m+=v.length+1}),re[u>>2]=m,0}function Lp(a){pd(a)}function Fp(a){try{var u=Re.getStreamFromFD(a);return y.close(u),0}catch(h){if(typeof y>"u"||!(h instanceof y.ErrnoError))throw h;return h.errno}}function Np(a,u,h,m){for(var v=0,_=0;_<h;_++){var S=re[u>>2],T=re[u+4>>2];u+=8;var C=y.read(a,q,S,T,m);if(C<0)return-1;if(v+=C,C<T)break}return v}function Mp(a,u,h,m){try{var v=Re.getStreamFromFD(a),_=Np(v,u,h);return M[m>>2]=_,0}catch(S){if(typeof y>"u"||!(S instanceof y.ErrnoError))throw S;return S.errno}}function Bp(a,u){return u+2097152>>>0<4194305-!!a?(a>>>0)+u*4294967296:NaN}function Up(a,u,h,m,v){try{var _=Bp(u,h);if(isNaN(_))return 61;var S=Re.getStreamFromFD(a);return y.llseek(S,_,m),Mt=[S.position>>>0,(at=S.position,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],M[v>>2]=Mt[0],M[v+4>>2]=Mt[1],S.getdents&&_===0&&m===0&&(S.getdents=null),0}catch(T){if(typeof y>"u"||!(T instanceof y.ErrnoError))throw T;return T.errno}}function Gp(a,u,h,m){for(var v=0,_=0;_<h;_++){var S=re[u>>2],T=re[u+4>>2];u+=8;var C=y.write(a,q,S,T,m);if(C<0)return-1;v+=C}return v}function jp(a,u,h,m){try{var v=Re.getStreamFromFD(a),_=Gp(v,u,h);return re[m>>2]=_,0}catch(S){if(typeof y>"u"||!(S instanceof y.ErrnoError))throw S;return S.errno}}function e1(a){for(var u=a.split("."),h=0;h<4;h++){var m=Number(u[h]);if(isNaN(m))return null;u[h]=m}return(u[0]|u[1]<<8|u[2]<<16|u[3]<<24)>>>0}function Ps(a){return parseInt(a)}function Hp(a){var u,h,m,v,_=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,S=[];if(!_.test(a))return null;if(a==="::")return[0,0,0,0,0,0,0,0];for(a.startsWith("::")?a=a.replace("::","Z:"):a=a.replace("::",":Z:"),a.indexOf(".")>0?(a=a.replace(new RegExp("[.]","g"),":"),u=a.split(":"),u[u.length-4]=Ps(u[u.length-4])+Ps(u[u.length-3])*256,u[u.length-3]=Ps(u[u.length-2])+Ps(u[u.length-1])*256,u=u.slice(0,u.length-2)):u=a.split(":"),m=0,v=0,h=0;h<u.length;h++)if(typeof u[h]=="string")if(u[h]==="Z"){for(v=0;v<8-u.length+1;v++)S[h+v]=0;m=v-1}else S[h+m]=a1(parseInt(u[h],16));else S[h+m]=u[h];return[S[1]<<16|S[0],S[3]<<16|S[2],S[5]<<16|S[4],S[7]<<16|S[6]]}var jr={address_map:{id:1,addrs:{},names:{}},lookup_name:function(a){var u=e1(a);if(u!==null||(u=Hp(a),u!==null))return a;var h;if(jr.address_map.addrs[a])h=jr.address_map.addrs[a];else{var m=jr.address_map.id++;Se(m<65535,"exceeded max address mappings of 65535"),h="172.29."+(m&255)+"."+(m&65280),jr.address_map.names[h]=a,jr.address_map.addrs[a]=h}return h},lookup_addr:function(a){return jr.address_map.names[a]?jr.address_map.names[a]:null}};function qp(a){var u=Sr(20),h=Sr(a.length+1);Ne(a,h,a.length+1),re[u>>2]=h;var m=Sr(4);re[m>>2]=0,re[u+4>>2]=m;var v=2;M[u+8>>2]=v,M[u+12>>2]=4;var _=Sr(12);return re[_>>2]=_+8,re[_+4>>2]=0,M[_+8>>2]=e1(jr.lookup_name(a)),re[u+16>>2]=_,u}function Wp(a){return qp(Oe(a))}function Vp(a){var u=a.getExtension("ANGLE_instanced_arrays");if(u)return a.vertexAttribDivisor=function(h,m){u.vertexAttribDivisorANGLE(h,m)},a.drawArraysInstanced=function(h,m,v,_){u.drawArraysInstancedANGLE(h,m,v,_)},a.drawElementsInstanced=function(h,m,v,_,S){u.drawElementsInstancedANGLE(h,m,v,_,S)},1}function zp(a){var u=a.getExtension("OES_vertex_array_object");if(u)return a.createVertexArray=function(){return u.createVertexArrayOES()},a.deleteVertexArray=function(h){u.deleteVertexArrayOES(h)},a.bindVertexArray=function(h){u.bindVertexArrayOES(h)},a.isVertexArray=function(h){return u.isVertexArrayOES(h)},1}function $p(a){var u=a.getExtension("WEBGL_draw_buffers");if(u)return a.drawBuffers=function(h,m){u.drawBuffersWEBGL(h,m)},1}function Xp(a){return!!(a.multiDrawWebgl=a.getExtension("WEBGL_multi_draw"))}var tt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(u){tt.lastError||(tt.lastError=u)},getNewId:function(a){for(var u=tt.counter++,h=a.length;h<u;h++)a[h]=null;return u},getSource:function(a,u,h,m){for(var v="",_=0;_<u;++_){var S=m?M[m+_*4>>2]:-1;v+=Oe(M[h+_*4>>2],S<0?void 0:S)}return v},createContext:function(a,u){if(!a.getContextSafariWebGL2Fixed){let v=function(_,S){var T=a.getContextSafariWebGL2Fixed(_,S);return _=="webgl"==T instanceof WebGLRenderingContext?T:null};a.getContextSafariWebGL2Fixed=a.getContext,a.getContext=v}var h=a.getContext("webgl",u);if(!h)return 0;var m=tt.registerContext(h,u);return m},registerContext:function(a,u){var h=tt.getNewId(tt.contexts),m={handle:h,attributes:u,version:u.majorVersion,GLctx:a};return a.canvas&&(a.canvas.GLctxObject=m),tt.contexts[h]=m,(typeof u.enableExtensionsByDefault>"u"||u.enableExtensionsByDefault)&&tt.initExtensions(m),h},makeContextCurrent:function(a){return tt.currentContext=tt.contexts[a],r.ctx=Dt=tt.currentContext&&tt.currentContext.GLctx,!(a&&!Dt)},getContext:function(a){return tt.contexts[a]},deleteContext:function(a){tt.currentContext===tt.contexts[a]&&(tt.currentContext=null),typeof JSEvents=="object"&&JSEvents.removeAllHandlersOnTarget(tt.contexts[a].GLctx.canvas),tt.contexts[a]&&tt.contexts[a].GLctx.canvas&&(tt.contexts[a].GLctx.canvas.GLctxObject=void 0),tt.contexts[a]=null},initExtensions:function(a){if(a||(a=tt.currentContext),!a.initExtensionsDone){a.initExtensionsDone=!0;var u=a.GLctx;Vp(u),zp(u),$p(u),u.disjointTimerQueryExt=u.getExtension("EXT_disjoint_timer_query"),Xp(u);var h=u.getSupportedExtensions()||[];h.forEach(function(m){!m.includes("lose_context")&&!m.includes("debug")&&u.getExtension(m)})}}};function t1(a){return a.slice(-1)=="]"&&a.lastIndexOf("[")}function Yp(a){var u=a.uniformLocsById,h=a.uniformSizeAndIdsByName,m,v;if(!u)for(a.uniformLocsById=u={},a.uniformArrayNamesById={},m=0;m<Dt.getProgramParameter(a,35718);++m){var _=Dt.getActiveUniform(a,m),S=_.name,T=_.size,C=t1(S),B=C>0?S.slice(0,C):S,Y=a.uniformIdCounter;for(a.uniformIdCounter+=T,h[B]=[T,Y],v=0;v<T;++v)u[Y]=v,a.uniformArrayNamesById[Y++]=B}}function Zp(a,u){if(u=Oe(u),a=tt.programs[a]){Yp(a);var h=a.uniformLocsById,m=0,v=u,_=t1(u);_>0&&(m=Ps(u.slice(_+1))>>>0,v=u.slice(0,_));var S=a.uniformSizeAndIdsByName[v];if(S&&m<S[0]&&(m+=S[1],h[m]=h[m]||Dt.getUniformLocation(a,u)))return m}else tt.recordError(1281);return-1}function Hr(a){var u=Dt.currentProgram;if(u){var h=u.uniformLocsById[a];return typeof h=="number"&&(u.uniformLocsById[a]=h=Dt.getUniformLocation(u,u.uniformArrayNamesById[a]+(h>0?"["+h+"]":""))),h}else tt.recordError(1282)}function Kp(a,u){Dt.uniform1f(Hr(a),u)}function Qp(a,u){Dt.uniform1i(Hr(a),u)}var Po=[];function Jp(a,u,h){if(u<=144)for(var m=Po[2*u-1],v=0;v<2*u;v+=2)m[v]=Ie[h+4*v>>2],m[v+1]=Ie[h+(4*v+4)>>2];else var m=Ie.subarray(h>>2,h+u*8>>2);Dt.uniform2fv(Hr(a),m)}var Ro=[];function ed(a,u,h){if(u<=144)for(var m=Ro[2*u-1],v=0;v<2*u;v+=2)m[v]=M[h+4*v>>2],m[v+1]=M[h+(4*v+4)>>2];else var m=M.subarray(h>>2,h+u*8>>2);Dt.uniform2iv(Hr(a),m)}function td(a,u,h){if(u<=96)for(var m=Po[3*u-1],v=0;v<3*u;v+=3)m[v]=Ie[h+4*v>>2],m[v+1]=Ie[h+(4*v+4)>>2],m[v+2]=Ie[h+(4*v+8)>>2];else var m=Ie.subarray(h>>2,h+u*12>>2);Dt.uniform3fv(Hr(a),m)}function rd(a,u,h){if(u<=96)for(var m=Ro[3*u-1],v=0;v<3*u;v+=3)m[v]=M[h+4*v>>2],m[v+1]=M[h+(4*v+4)>>2],m[v+2]=M[h+(4*v+8)>>2];else var m=M.subarray(h>>2,h+u*12>>2);Dt.uniform3iv(Hr(a),m)}function nd(a,u,h){if(u<=72){var m=Po[4*u-1],v=Ie;h>>=2;for(var _=0;_<4*u;_+=4){var S=h+_;m[_]=v[S],m[_+1]=v[S+1],m[_+2]=v[S+2],m[_+3]=v[S+3]}}else var m=Ie.subarray(h>>2,h+u*16>>2);Dt.uniform4fv(Hr(a),m)}function sd(a,u,h){if(u<=72)for(var m=Ro[4*u-1],v=0;v<4*u;v+=4)m[v]=M[h+4*v>>2],m[v+1]=M[h+(4*v+4)>>2],m[v+2]=M[h+(4*v+8)>>2],m[v+3]=M[h+(4*v+12)>>2];else var m=M.subarray(h>>2,h+u*16>>2);Dt.uniform4iv(Hr(a),m)}function od(a){}function Do(a){return a%4===0&&(a%100!==0||a%400===0)}function id(a,u){for(var h=0,m=0;m<=u;h+=a[m++]);return h}var r1=[31,29,31,30,31,30,31,31,30,31,30,31],n1=[31,28,31,30,31,30,31,31,30,31,30,31];function ad(a,u){for(var h=new Date(a.getTime());u>0;){var m=Do(h.getFullYear()),v=h.getMonth(),_=(m?r1:n1)[v];if(u>_-h.getDate())u-=_-h.getDate()+1,h.setDate(1),v<11?h.setMonth(v+1):(h.setMonth(0),h.setFullYear(h.getFullYear()+1));else return h.setDate(h.getDate()+u),h}return h}function cd(a,u,h,m){var v=M[m+40>>2],_={tm_sec:M[m>>2],tm_min:M[m+4>>2],tm_hour:M[m+8>>2],tm_mday:M[m+12>>2],tm_mon:M[m+16>>2],tm_year:M[m+20>>2],tm_wday:M[m+24>>2],tm_yday:M[m+28>>2],tm_isdst:M[m+32>>2],tm_gmtoff:M[m+36>>2],tm_zone:v?Oe(v):""},S=Oe(h),T={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var C in T)S=S.replace(new RegExp(C,"g"),T[C]);var B=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Y=["January","February","March","April","May","June","July","August","September","October","November","December"];function Z(z,oe,dt){for(var ze=typeof z=="number"?z.toString():z||"";ze.length<oe;)ze=dt[0]+ze;return ze}function $(z,oe){return Z(z,oe,"0")}function Q(z,oe){function dt(Lt){return Lt<0?-1:Lt>0?1:0}var ze;return(ze=dt(z.getFullYear()-oe.getFullYear()))===0&&(ze=dt(z.getMonth()-oe.getMonth()))===0&&(ze=dt(z.getDate()-oe.getDate())),ze}function ue(z){switch(z.getDay()){case 0:return new Date(z.getFullYear()-1,11,29);case 1:return z;case 2:return new Date(z.getFullYear(),0,3);case 3:return new Date(z.getFullYear(),0,2);case 4:return new Date(z.getFullYear(),0,1);case 5:return new Date(z.getFullYear()-1,11,31);case 6:return new Date(z.getFullYear()-1,11,30)}}function Ue(z){var oe=ad(new Date(z.tm_year+1900,0,1),z.tm_yday),dt=new Date(oe.getFullYear(),0,4),ze=new Date(oe.getFullYear()+1,0,4),Lt=ue(dt),ut=ue(ze);return Q(Lt,oe)<=0?Q(ut,oe)<=0?oe.getFullYear()+1:oe.getFullYear():oe.getFullYear()-1}var it={"%a":function(z){return B[z.tm_wday].substring(0,3)},"%A":function(z){return B[z.tm_wday]},"%b":function(z){return Y[z.tm_mon].substring(0,3)},"%B":function(z){return Y[z.tm_mon]},"%C":function(z){var oe=z.tm_year+1900;return $(oe/100|0,2)},"%d":function(z){return $(z.tm_mday,2)},"%e":function(z){return Z(z.tm_mday,2," ")},"%g":function(z){return Ue(z).toString().substring(2)},"%G":function(z){return Ue(z)},"%H":function(z){return $(z.tm_hour,2)},"%I":function(z){var oe=z.tm_hour;return oe==0?oe=12:oe>12&&(oe-=12),$(oe,2)},"%j":function(z){return $(z.tm_mday+id(Do(z.tm_year+1900)?r1:n1,z.tm_mon-1),3)},"%m":function(z){return $(z.tm_mon+1,2)},"%M":function(z){return $(z.tm_min,2)},"%n":function(){return`
`},"%p":function(z){return z.tm_hour>=0&&z.tm_hour<12?"AM":"PM"},"%S":function(z){return $(z.tm_sec,2)},"%t":function(){return"	"},"%u":function(z){return z.tm_wday||7},"%U":function(z){var oe=z.tm_yday+7-z.tm_wday;return $(Math.floor(oe/7),2)},"%V":function(z){var oe=Math.floor((z.tm_yday+7-(z.tm_wday+6)%7)/7);if((z.tm_wday+371-z.tm_yday-2)%7<=2&&oe++,oe){if(oe==53){var ze=(z.tm_wday+371-z.tm_yday)%7;ze!=4&&(ze!=3||!Do(z.tm_year))&&(oe=1)}}else{oe=52;var dt=(z.tm_wday+7-z.tm_yday-1)%7;(dt==4||dt==5&&Do(z.tm_year%400-1))&&oe++}return $(oe,2)},"%w":function(z){return z.tm_wday},"%W":function(z){var oe=z.tm_yday+7-(z.tm_wday+6)%7;return $(Math.floor(oe/7),2)},"%y":function(z){return(z.tm_year+1900).toString().substring(2)},"%Y":function(z){return z.tm_year+1900},"%z":function(z){var oe=z.tm_gmtoff,dt=oe>=0;return oe=Math.abs(oe)/60,oe=oe/60*100+oe%60,(dt?"+":"-")+("0000"+oe).slice(-4)},"%Z":function(z){return z.tm_zone},"%%":function(){return"%"}};S=S.replace(/%%/g,"\0\0");for(var C in it)S.includes(C)&&(S=S.replace(new RegExp(C,"g"),it[C](_)));S=S.replace(/\0\0/g,"%");var ct=Fo(S,!1);return ct.length>u?0:(Vt(ct,a),ct.length-1)}function ud(a,u,h,m){return cd(a,u,h,m)}var s1=function(a,u,h,m){a||(a=this),this.parent=a,this.mount=a.mount,this.mounted=null,this.id=y.nextInode++,this.name=u,this.mode=h,this.node_ops={},this.stream_ops={},this.rdev=m},Oo=365,Lo=146;Object.defineProperties(s1.prototype,{read:{get:function(){return(this.mode&Oo)===Oo},set:function(a){a?this.mode|=Oo:this.mode&=~Oo}},write:{get:function(){return(this.mode&Lo)===Lo},set:function(a){a?this.mode|=Lo:this.mode&=~Lo}},isFolder:{get:function(){return y.isDir(this.mode)}},isDevice:{get:function(){return y.isChrdev(this.mode)}}}),y.FSNode=s1,y.staticInit(),Wi(),Ur=r.BindingError=Ss(Error,"BindingError"),jc=r.InternalError=Ss(Error,"InternalError"),Ah(),kh(),Fh(),$c=r.UnboundTypeError=Ss(Error,"UnboundTypeError"),zh();for(var Dt,ld=new Float32Array(288),xr=0;xr<288;++xr)Po[xr]=ld.subarray(0,xr+1);for(var fd=new Int32Array(288),xr=0;xr<288;++xr)Ro[xr]=fd.subarray(0,xr+1);function Fo(a,u,h){var m=je(a)+1,v=new Array(m),_=Qe(a,v,0,v.length);return u&&(v.length=_),v}var hd={ga:is,k:as,b:cs,c:ls,Q:ms,R:gs,q:ys,K:ks,U:ws,I:_s,H:bs,u:xs,J:Hi,z:qi,W:hh,d:Gh,f:jh,e:Hh,a:qh,V:$h,g:Yh,h:Zh,v:Qh,j:ep,i:tp,w:rp,r:np,X:sp,N:op,M:ap,m:cp,ka:fp,x:ta,la:hp,ja:mp,s:gp,E:vp,ia:yp,ma:kp,n:wp,l:_p,na:bp,O:xp,D:Sp,P:oa,t:Ep,C:Ap,L:Ip,o:Pp,F:Dp,G:Op,fa:Lp,p:Fp,T:Mp,y:Up,S:jp,ha:Wp,ea:Zp,ca:Kp,da:Qp,_:Jp,ba:ed,Z:td,aa:rd,Y:nd,$:sd,A:od,B:ud};os(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.pa).apply(null,arguments)};var Sr=r._malloc=function(){return(Sr=r._malloc=r.asm.qa).apply(null,arguments)},Tr=r._free=function(){return(Tr=r._free=r.asm.ra).apply(null,arguments)},o1=r.___errno_location=function(){return(o1=r.___errno_location=r.asm.sa).apply(null,arguments)},i1=r.___getTypeName=function(){return(i1=r.___getTypeName=r.asm.ta).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.ua).apply(null,arguments)};var a1=r._htons=function(){return(a1=r._htons=r.asm.wa).apply(null,arguments)},c1=r._emscripten_builtin_memalign=function(){return(c1=r._emscripten_builtin_memalign=r.asm.xa).apply(null,arguments)},u1=r.___cxa_is_pointer_type=function(){return(u1=r.___cxa_is_pointer_type=r.asm.ya).apply(null,arguments)};r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.za).apply(null,arguments)},r.dynCall_viiiiji=function(){return(r.dynCall_viiiiji=r.asm.Aa).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.Ba).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.Ca).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.Da).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.Ea).apply(null,arguments)},r.FS=y;var No;function l1(a){this.name="ExitStatus",this.message="Program terminated with exit("+a+")",this.status=a}wr=function a(){No||aa(),No||(wr=a)};function aa(a){if(Zt>0||(kr(),Zt>0))return;function u(){No||(No=!0,r.calledRun=!0,!he&&(Lr(),n(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),sn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),u()},1)):u()}r.run=aa;function pd(a,u){dd(a)}function dd(a){l(a,new l1(a))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return aa(),r.ready})})();const jx="/trammel/assets/replicad_single-BXInhmaQ.wasm";export{Gx as M,Ux as d,jx as o,Mx as s,Nx as t};
