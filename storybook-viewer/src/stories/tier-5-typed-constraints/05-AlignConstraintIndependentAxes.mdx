import { Meta } from '@storybook/blocks';

<Meta title="Tier 5 — Typed Constraints/05 Align Constraint (Independent Axes)" />

# 019 — Align Constraint (Independent Axes)

<div style={{
  padding: '12px 16px',
  marginBottom: 24,
  background: '#fff8e1',
  border: '1px solid #ffe082',
  borderRadius: 4,
  fontSize: 14,
  color: '#6d4c00',
}}>
  **Spec only** — this component is not yet implemented. The syntax below shows the target API.
</div>

## Description

A rect aligned on X to one shape's edge and on Y to a different shape's edge. Tests the `align` position strategy with independent axis targets.

## Elements

| Element | Type | Purpose |
|---------|------|---------|
| `<Rect>` #header | Primitive | X-axis reference |
| `<Rect>` #sidebar | Primitive | Y-axis reference |
| `<Rect>` #content | Primitive | Aligned to both |

## Syntax

```jsx
<Sprite viewBox="0 0 300 200">
  <Rect id="header" x={10} y={10} width={280} height={40} fill="#4a90d9" />
  <Rect id="sidebar" x={10} y={60} width={60} height={130} fill="#2ecc71" />

  <Rect
    id="content"
    pos={{
      type: 'align',
      x: { edge: 'left', target: '#sidebar.right', margin: 10 },
      y: { edge: 'top', target: '#header.bottom', margin: 10 }
    }}
    width={200}
    height={120}
    fill="#f0f0f0"
    stroke="#999"
  />
</Sprite>
```

## Resolver Trace

1. header: right = 290, bottom = 50
2. sidebar: right = 70
3. content X: left edge aligned to sidebar.right + 10 margin → x = 80
4. content Y: top edge aligned to header.bottom + 10 margin → y = 60

## Expected SVG Output

```svg
<svg viewBox="0 0 300 200" xmlns="http://www.w3.org/2000/svg">
  <rect x="10" y="10" width="280" height="40" fill="#4a90d9" />
  <rect x="10" y="60" width="60" height="130" fill="#2ecc71" />
  <rect x="80" y="60" width="200" height="120" fill="#f0f0f0" stroke="#999" />
</svg>
```

## What This Validates

- Align constraint allows independent X and Y targets
- Each axis specifies which edge of the shape and which anchor to align to
- The `margin` field adds offset after alignment
