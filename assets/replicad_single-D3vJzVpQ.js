var x;(function(e){e[e.NONE=0]="NONE";const r=1;e[e._abstract=r]="_abstract";const n=r+1;e[e._accessor=n]="_accessor";const s=n+1;e[e._as=s]="_as";const o=s+1;e[e._assert=o]="_assert";const c=o+1;e[e._asserts=c]="_asserts";const l=c+1;e[e._async=l]="_async";const f=l+1;e[e._await=f]="_await";const v=f+1;e[e._checks=v]="_checks";const g=v+1;e[e._constructor=g]="_constructor";const _=g+1;e[e._declare=_]="_declare";const w=_+1;e[e._enum=w]="_enum";const T=w+1;e[e._exports=T]="_exports";const P=T+1;e[e._from=P]="_from";const R=P+1;e[e._get=R]="_get";const O=R+1;e[e._global=O]="_global";const F=O+1;e[e._implements=F]="_implements";const L=F+1;e[e._infer=L]="_infer";const I=L+1;e[e._interface=I]="_interface";const X=I+1;e[e._is=X]="_is";const te=X+1;e[e._keyof=te]="_keyof";const ue=te+1;e[e._mixins=ue]="_mixins";const ae=ue+1;e[e._module=ae]="_module";const fe=ae+1;e[e._namespace=fe]="_namespace";const Te=fe+1;e[e._of=Te]="_of";const De=Te+1;e[e._opaque=De]="_opaque";const Pe=De+1;e[e._out=Pe]="_out";const Ie=Pe+1;e[e._override=Ie]="_override";const Ke=Ie+1;e[e._private=Ke]="_private";const Me=Ke+1;e[e._protected=Me]="_protected";const He=Me+1;e[e._proto=He]="_proto";const Ve=He+1;e[e._public=Ve]="_public";const Le=Ve+1;e[e._readonly=Le]="_readonly";const ve=Le+1;e[e._require=ve]="_require";const Ze=ve+1;e[e._satisfies=Ze]="_satisfies";const Je=Ze+1;e[e._set=Je]="_set";const Ue=Je+1;e[e._static=Ue]="_static";const qe=Ue+1;e[e._symbol=qe]="_symbol";const Ct=qe+1;e[e._type=Ct]="_type";const jt=Ct+1;e[e._unique=jt]="_unique";const H=jt+1;e[e._using=H]="_using"})(x||(x={}));var u;(function(e){e[e.PRECEDENCE_MASK=15]="PRECEDENCE_MASK";const r=16;e[e.IS_KEYWORD=r]="IS_KEYWORD";const n=32;e[e.IS_ASSIGN=n]="IS_ASSIGN";const s=64;e[e.IS_RIGHT_ASSOCIATIVE=s]="IS_RIGHT_ASSOCIATIVE";const o=128;e[e.IS_PREFIX=o]="IS_PREFIX";const c=256;e[e.IS_POSTFIX=c]="IS_POSTFIX";const l=512;e[e.IS_EXPRESSION_START=l]="IS_EXPRESSION_START";const f=512;e[e.num=f]="num";const v=1536;e[e.bigint=v]="bigint";const g=2560;e[e.decimal=g]="decimal";const _=3584;e[e.regexp=_]="regexp";const w=4608;e[e.string=w]="string";const T=5632;e[e.name=T]="name";const P=6144;e[e.eof=P]="eof";const R=7680;e[e.bracketL=R]="bracketL";const O=8192;e[e.bracketR=O]="bracketR";const F=9728;e[e.braceL=F]="braceL";const L=10752;e[e.braceBarL=L]="braceBarL";const I=11264;e[e.braceR=I]="braceR";const X=12288;e[e.braceBarR=X]="braceBarR";const te=13824;e[e.parenL=te]="parenL";const ue=14336;e[e.parenR=ue]="parenR";const ae=15360;e[e.comma=ae]="comma";const fe=16384;e[e.semi=fe]="semi";const Te=17408;e[e.colon=Te]="colon";const De=18432;e[e.doubleColon=De]="doubleColon";const Pe=19456;e[e.dot=Pe]="dot";const Ie=20480;e[e.question=Ie]="question";const Ke=21504;e[e.questionDot=Ke]="questionDot";const Me=22528;e[e.arrow=Me]="arrow";const He=23552;e[e.template=He]="template";const Ve=24576;e[e.ellipsis=Ve]="ellipsis";const Le=25600;e[e.backQuote=Le]="backQuote";const ve=27136;e[e.dollarBraceL=ve]="dollarBraceL";const Ze=27648;e[e.at=Ze]="at";const Je=29184;e[e.hash=Je]="hash";const Ue=29728;e[e.eq=Ue]="eq";const qe=30752;e[e.assign=qe]="assign";const Ct=32640;e[e.preIncDec=Ct]="preIncDec";const jt=33664;e[e.postIncDec=jt]="postIncDec";const H=34432;e[e.bang=H]="bang";const W=35456;e[e.tilde=W]="tilde";const V=35841;e[e.pipeline=V]="pipeline";const q=36866;e[e.nullishCoalescing=q]="nullishCoalescing";const Q=37890;e[e.logicalOR=Q]="logicalOR";const le=38915;e[e.logicalAND=le]="logicalAND";const B=39940;e[e.bitwiseOR=B]="bitwiseOR";const re=40965;e[e.bitwiseXOR=re]="bitwiseXOR";const Ae=41990;e[e.bitwiseAND=Ae]="bitwiseAND";const je=43015;e[e.equality=je]="equality";const pt=44040;e[e.lessThan=pt]="lessThan";const At=45064;e[e.greaterThan=At]="greaterThan";const et=46088;e[e.relationalOrEqual=et]="relationalOrEqual";const wt=47113;e[e.bitShiftL=wt]="bitShiftL";const _t=48137;e[e.bitShiftR=_t]="bitShiftR";const mr=49802;e[e.plus=mr]="plus";const Dr=50826;e[e.minus=Dr]="minus";const rn=51723;e[e.modulo=rn]="modulo";const $n=52235;e[e.star=$n]="star";const Qn=53259;e[e.slash=Qn]="slash";const Kn=54348;e[e.exponent=Kn]="exponent";const $t=55296;e[e.jsxName=$t]="jsxName";const yr=56320;e[e.jsxText=yr]="jsxText";const vo=57344;e[e.jsxEmptyText=vo]="jsxEmptyText";const nn=58880;e[e.jsxTagStart=nn]="jsxTagStart";const Ir=59392;e[e.jsxTagEnd=Ir]="jsxTagEnd";const zt=60928;e[e.typeParameterStart=zt]="typeParameterStart";const Jn=61440;e[e.nonNullAssertion=Jn]="nonNullAssertion";const Sn=62480;e[e._break=Sn]="_break";const En=63504;e[e._case=En]="_case";const St=64528;e[e._catch=St]="_catch";const Tn=65552;e[e._continue=Tn]="_continue";const es=66576;e[e._debugger=es]="_debugger";const ts=67600;e[e._default=ts]="_default";const at=68624;e[e._do=at]="_do";const Bt=69648;e[e._else=Bt]="_else";const rs=70672;e[e._finally=rs]="_finally";const sn=71696;e[e._for=sn]="_for";const Lr=73232;e[e._function=Lr]="_function";const Fr=73744;e[e._if=Fr]="_if";const ns=74768;e[e._return=ns]="_return";const ss=75792;e[e._switch=ss]="_switch";const os=77456;e[e._throw=os]="_throw";const is=77840;e[e._try=is]="_try";const Re=78864;e[e._var=Re]="_var";const as=79888;e[e._let=as]="_let";const Ut=80912;e[e._const=Ut]="_const";const Qt=81936;e[e._while=Qt]="_while";const us=82960;e[e._with=us]="_with";const cs=84496;e[e._new=cs]="_new";const kn=85520;e[e._this=kn]="_this";const ge=86544;e[e._super=ge]="_super";const ls=87568;e[e._class=ls]="_class";const y=88080;e[e._extends=y]="_extends";const Oe=89104;e[e._export=Oe]="_export";const fs=90640;e[e._import=fs]="_import";const ps=91664;e[e._yield=ps]="_yield";const hs=92688;e[e._null=hs]="_null";const ds=93712;e[e._true=ds]="_true";const vs=94736;e[e._false=vs]="_false";const gs=95256;e[e._in=gs]="_in";const ms=96280;e[e._instanceof=ms]="_instanceof";const ys=97936;e[e._typeof=ys]="_typeof";const ws=98960;e[e._void=ws]="_void";const Ri=99984;e[e._delete=Ri]="_delete";const Oi=100880;e[e._async=Oi]="_async";const xn=101904;e[e._get=xn]="_get";const Di=102928;e[e._set=Di]="_set";const go=103952;e[e._declare=go]="_declare";const Et=104976;e[e._readonly=Et]="_readonly";const Mr=106e3;e[e._abstract=Mr]="_abstract";const wr=107024;e[e._static=wr]="_static";const Pn=107536;e[e._public=Pn]="_public";const Ii=108560;e[e._private=Ii]="_private";const Li=109584;e[e._protected=Li]="_protected";const An=110608;e[e._override=An]="_override";const Cn=112144;e[e._as=Cn]="_as";const _s=113168;e[e._enum=_s]="_enum";const Br=114192;e[e._type=Br]="_type";const Fe=115216;e[e._implements=Fe]="_implements"})(u||(u={}));function Dh(e){switch(e){case u.num:return"num";case u.bigint:return"bigint";case u.decimal:return"decimal";case u.regexp:return"regexp";case u.string:return"string";case u.name:return"name";case u.eof:return"eof";case u.bracketL:return"[";case u.bracketR:return"]";case u.braceL:return"{";case u.braceBarL:return"{|";case u.braceR:return"}";case u.braceBarR:return"|}";case u.parenL:return"(";case u.parenR:return")";case u.comma:return",";case u.semi:return";";case u.colon:return":";case u.doubleColon:return"::";case u.dot:return".";case u.question:return"?";case u.questionDot:return"?.";case u.arrow:return"=>";case u.template:return"template";case u.ellipsis:return"...";case u.backQuote:return"`";case u.dollarBraceL:return"${";case u.at:return"@";case u.hash:return"#";case u.eq:return"=";case u.assign:return"_=";case u.preIncDec:return"++/--";case u.postIncDec:return"++/--";case u.bang:return"!";case u.tilde:return"~";case u.pipeline:return"|>";case u.nullishCoalescing:return"??";case u.logicalOR:return"||";case u.logicalAND:return"&&";case u.bitwiseOR:return"|";case u.bitwiseXOR:return"^";case u.bitwiseAND:return"&";case u.equality:return"==/!=";case u.lessThan:return"<";case u.greaterThan:return">";case u.relationalOrEqual:return"<=/>=";case u.bitShiftL:return"<<";case u.bitShiftR:return">>/>>>";case u.plus:return"+";case u.minus:return"-";case u.modulo:return"%";case u.star:return"*";case u.slash:return"/";case u.exponent:return"**";case u.jsxName:return"jsxName";case u.jsxText:return"jsxText";case u.jsxEmptyText:return"jsxEmptyText";case u.jsxTagStart:return"jsxTagStart";case u.jsxTagEnd:return"jsxTagEnd";case u.typeParameterStart:return"typeParameterStart";case u.nonNullAssertion:return"nonNullAssertion";case u._break:return"break";case u._case:return"case";case u._catch:return"catch";case u._continue:return"continue";case u._debugger:return"debugger";case u._default:return"default";case u._do:return"do";case u._else:return"else";case u._finally:return"finally";case u._for:return"for";case u._function:return"function";case u._if:return"if";case u._return:return"return";case u._switch:return"switch";case u._throw:return"throw";case u._try:return"try";case u._var:return"var";case u._let:return"let";case u._const:return"const";case u._while:return"while";case u._with:return"with";case u._new:return"new";case u._this:return"this";case u._super:return"super";case u._class:return"class";case u._extends:return"extends";case u._export:return"export";case u._import:return"import";case u._yield:return"yield";case u._null:return"null";case u._true:return"true";case u._false:return"false";case u._in:return"in";case u._instanceof:return"instanceof";case u._typeof:return"typeof";case u._void:return"void";case u._delete:return"delete";case u._async:return"async";case u._get:return"get";case u._set:return"set";case u._declare:return"declare";case u._readonly:return"readonly";case u._abstract:return"abstract";case u._static:return"static";case u._public:return"public";case u._private:return"private";case u._protected:return"protected";case u._override:return"override";case u._as:return"as";case u._enum:return"enum";case u._type:return"type";case u._implements:return"implements";default:return""}}class dr{constructor(t,r,n){this.startTokenIndex=t,this.endTokenIndex=r,this.isFunctionScope=n}}class Ih{constructor(t,r,n,s,o,c,l,f,v,g,_,w,T){this.potentialArrowAt=t,this.noAnonFunctionType=r,this.inDisallowConditionalTypesContext=n,this.tokensLength=s,this.scopesLength=o,this.pos=c,this.type=l,this.contextualKeyword=f,this.start=v,this.end=g,this.isType=_,this.scopeDepth=w,this.error=T}}let Lh=class Ft{constructor(){Ft.prototype.__init.call(this),Ft.prototype.__init2.call(this),Ft.prototype.__init3.call(this),Ft.prototype.__init4.call(this),Ft.prototype.__init5.call(this),Ft.prototype.__init6.call(this),Ft.prototype.__init7.call(this),Ft.prototype.__init8.call(this),Ft.prototype.__init9.call(this),Ft.prototype.__init10.call(this),Ft.prototype.__init11.call(this),Ft.prototype.__init12.call(this),Ft.prototype.__init13.call(this)}__init(){this.potentialArrowAt=-1}__init2(){this.noAnonFunctionType=!1}__init3(){this.inDisallowConditionalTypesContext=!1}__init4(){this.tokens=[]}__init5(){this.scopes=[]}__init6(){this.pos=0}__init7(){this.type=u.eof}__init8(){this.contextualKeyword=x.NONE}__init9(){this.start=0}__init10(){this.end=0}__init11(){this.isType=!1}__init12(){this.scopeDepth=0}__init13(){this.error=null}snapshot(){return new Ih(this.potentialArrowAt,this.noAnonFunctionType,this.inDisallowConditionalTypesContext,this.tokens.length,this.scopes.length,this.pos,this.type,this.contextualKeyword,this.start,this.end,this.isType,this.scopeDepth,this.error)}restoreFromSnapshot(t){this.potentialArrowAt=t.potentialArrowAt,this.noAnonFunctionType=t.noAnonFunctionType,this.inDisallowConditionalTypesContext=t.inDisallowConditionalTypesContext,this.tokens.length=t.tokensLength,this.scopes.length=t.scopesLength,this.pos=t.pos,this.type=t.type,this.contextualKeyword=t.contextualKeyword,this.start=t.start,this.end=t.end,this.isType=t.isType,this.scopeDepth=t.scopeDepth,this.error=t.error}};var A;(function(e){e[e.backSpace=8]="backSpace";const r=10;e[e.lineFeed=r]="lineFeed";const n=9;e[e.tab=n]="tab";const s=13;e[e.carriageReturn=s]="carriageReturn";const o=14;e[e.shiftOut=o]="shiftOut";const c=32;e[e.space=c]="space";const l=33;e[e.exclamationMark=l]="exclamationMark";const f=34;e[e.quotationMark=f]="quotationMark";const v=35;e[e.numberSign=v]="numberSign";const g=36;e[e.dollarSign=g]="dollarSign";const _=37;e[e.percentSign=_]="percentSign";const w=38;e[e.ampersand=w]="ampersand";const T=39;e[e.apostrophe=T]="apostrophe";const P=40;e[e.leftParenthesis=P]="leftParenthesis";const R=41;e[e.rightParenthesis=R]="rightParenthesis";const O=42;e[e.asterisk=O]="asterisk";const F=43;e[e.plusSign=F]="plusSign";const L=44;e[e.comma=L]="comma";const I=45;e[e.dash=I]="dash";const X=46;e[e.dot=X]="dot";const te=47;e[e.slash=te]="slash";const ue=48;e[e.digit0=ue]="digit0";const ae=49;e[e.digit1=ae]="digit1";const fe=50;e[e.digit2=fe]="digit2";const Te=51;e[e.digit3=Te]="digit3";const De=52;e[e.digit4=De]="digit4";const Pe=53;e[e.digit5=Pe]="digit5";const Ie=54;e[e.digit6=Ie]="digit6";const Ke=55;e[e.digit7=Ke]="digit7";const Me=56;e[e.digit8=Me]="digit8";const He=57;e[e.digit9=He]="digit9";const Ve=58;e[e.colon=Ve]="colon";const Le=59;e[e.semicolon=Le]="semicolon";const ve=60;e[e.lessThan=ve]="lessThan";const Ze=61;e[e.equalsTo=Ze]="equalsTo";const Je=62;e[e.greaterThan=Je]="greaterThan";const Ue=63;e[e.questionMark=Ue]="questionMark";const qe=64;e[e.atSign=qe]="atSign";const Ct=65;e[e.uppercaseA=Ct]="uppercaseA";const jt=66;e[e.uppercaseB=jt]="uppercaseB";const H=67;e[e.uppercaseC=H]="uppercaseC";const W=68;e[e.uppercaseD=W]="uppercaseD";const V=69;e[e.uppercaseE=V]="uppercaseE";const q=70;e[e.uppercaseF=q]="uppercaseF";const Q=71;e[e.uppercaseG=Q]="uppercaseG";const le=72;e[e.uppercaseH=le]="uppercaseH";const B=73;e[e.uppercaseI=B]="uppercaseI";const re=74;e[e.uppercaseJ=re]="uppercaseJ";const Ae=75;e[e.uppercaseK=Ae]="uppercaseK";const je=76;e[e.uppercaseL=je]="uppercaseL";const pt=77;e[e.uppercaseM=pt]="uppercaseM";const At=78;e[e.uppercaseN=At]="uppercaseN";const et=79;e[e.uppercaseO=et]="uppercaseO";const wt=80;e[e.uppercaseP=wt]="uppercaseP";const _t=81;e[e.uppercaseQ=_t]="uppercaseQ";const mr=82;e[e.uppercaseR=mr]="uppercaseR";const Dr=83;e[e.uppercaseS=Dr]="uppercaseS";const rn=84;e[e.uppercaseT=rn]="uppercaseT";const $n=85;e[e.uppercaseU=$n]="uppercaseU";const Qn=86;e[e.uppercaseV=Qn]="uppercaseV";const Kn=87;e[e.uppercaseW=Kn]="uppercaseW";const $t=88;e[e.uppercaseX=$t]="uppercaseX";const yr=89;e[e.uppercaseY=yr]="uppercaseY";const vo=90;e[e.uppercaseZ=vo]="uppercaseZ";const nn=91;e[e.leftSquareBracket=nn]="leftSquareBracket";const Ir=92;e[e.backslash=Ir]="backslash";const zt=93;e[e.rightSquareBracket=zt]="rightSquareBracket";const Jn=94;e[e.caret=Jn]="caret";const Sn=95;e[e.underscore=Sn]="underscore";const En=96;e[e.graveAccent=En]="graveAccent";const St=97;e[e.lowercaseA=St]="lowercaseA";const Tn=98;e[e.lowercaseB=Tn]="lowercaseB";const es=99;e[e.lowercaseC=es]="lowercaseC";const ts=100;e[e.lowercaseD=ts]="lowercaseD";const at=101;e[e.lowercaseE=at]="lowercaseE";const Bt=102;e[e.lowercaseF=Bt]="lowercaseF";const rs=103;e[e.lowercaseG=rs]="lowercaseG";const sn=104;e[e.lowercaseH=sn]="lowercaseH";const Lr=105;e[e.lowercaseI=Lr]="lowercaseI";const Fr=106;e[e.lowercaseJ=Fr]="lowercaseJ";const ns=107;e[e.lowercaseK=ns]="lowercaseK";const ss=108;e[e.lowercaseL=ss]="lowercaseL";const os=109;e[e.lowercaseM=os]="lowercaseM";const is=110;e[e.lowercaseN=is]="lowercaseN";const Re=111;e[e.lowercaseO=Re]="lowercaseO";const as=112;e[e.lowercaseP=as]="lowercaseP";const Ut=113;e[e.lowercaseQ=Ut]="lowercaseQ";const Qt=114;e[e.lowercaseR=Qt]="lowercaseR";const us=115;e[e.lowercaseS=us]="lowercaseS";const cs=116;e[e.lowercaseT=cs]="lowercaseT";const kn=117;e[e.lowercaseU=kn]="lowercaseU";const ge=118;e[e.lowercaseV=ge]="lowercaseV";const ls=119;e[e.lowercaseW=ls]="lowercaseW";const y=120;e[e.lowercaseX=y]="lowercaseX";const Oe=121;e[e.lowercaseY=Oe]="lowercaseY";const fs=122;e[e.lowercaseZ=fs]="lowercaseZ";const ps=123;e[e.leftCurlyBrace=ps]="leftCurlyBrace";const hs=124;e[e.verticalBar=hs]="verticalBar";const ds=125;e[e.rightCurlyBrace=ds]="rightCurlyBrace";const vs=126;e[e.tilde=vs]="tilde";const gs=160;e[e.nonBreakingSpace=gs]="nonBreakingSpace";const ms=5760;e[e.oghamSpaceMark=ms]="oghamSpaceMark";const ys=8232;e[e.lineSeparator=ys]="lineSeparator";const ws=8233;e[e.paragraphSeparator=ws]="paragraphSeparator"})(A||(A={}));let di,Ce,Be,h,Y,bc;function Ns(){return bc++}function Fh(e){if("pos"in e){const t=Bh(e.pos);e.message+=` (${t.line}:${t.column})`,e.loc=t}return e}class Mh{constructor(t,r){this.line=t,this.column=r}}function Bh(e){let t=1,r=1;for(let n=0;n<e;n++)Y.charCodeAt(n)===A.lineFeed?(t++,r=1):r++;return new Mh(t,r)}function Uh(e,t,r,n){Y=e,h=new Lh,bc=1,di=t,Ce=r,Be=n}function ie(e){return h.contextualKeyword===e}function Ua(e){const t=Js();return t.type===u.name&&t.contextualKeyword===e}function mt(e){return h.contextualKeyword===e&&D(u.name)}function lt(e){mt(e)||ye()}function Nt(){return S(u.eof)||S(u.braceR)||It()}function It(){const e=h.tokens[h.tokens.length-1],t=e?e.end:0;for(let r=t;r<h.start;r++){const n=Y.charCodeAt(r);if(n===A.lineFeed||n===A.carriageReturn||n===8232||n===8233)return!0}return!1}function Sc(){const e=Na();for(let t=h.end;t<e;t++){const r=Y.charCodeAt(t);if(r===A.lineFeed||r===A.carriageReturn||r===8232||r===8233)return!0}return!1}function ur(){return D(u.semi)||Nt()}function $e(){ur()||ye('Unexpected token, expected ";"')}function N(e){D(e)||ye(`Unexpected token, expected "${Dh(e)}"`)}function ye(e="Unexpected token",t=h.start){if(h.error)return;const r=new SyntaxError(e);r.pos=t,h.error=r,h.pos=Y.length,me(u.eof)}const Ec=[9,11,12,A.space,A.nonBreakingSpace,A.oghamSpaceMark,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279],X1=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,Tc=new Uint8Array(65536);for(const e of Ec)Tc[e]=1;function Nh(e){if(e<48)return e===36;if(e<58)return!0;if(e<65)return!1;if(e<91)return!0;if(e<97)return e===95;if(e<123)return!0;if(e<128)return!1;throw new Error("Should not be called with non-ASCII char code.")}const vr=new Uint8Array(65536);for(let e=0;e<128;e++)vr[e]=Nh(e)?1:0;for(let e=128;e<65536;e++)vr[e]=1;for(const e of Ec)vr[e]=0;vr[8232]=0;vr[8233]=0;const vi=vr.slice();for(let e=A.digit0;e<=A.digit9;e++)vi[e]=0;const Y1=new Int32Array([-1,27,783,918,1755,2376,2862,3483,-1,3699,-1,4617,4752,4833,5130,5508,5940,-1,6480,6939,7749,8181,8451,8613,-1,8829,-1,-1,-1,54,243,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,432,-1,-1,-1,675,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,81,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,108,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,135,-1,-1,-1,-1,-1,-1,-1,-1,-1,162,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,189,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,216,-1,-1,-1,-1,-1,-1,x._abstract<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,270,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,297,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,324,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,351,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,378,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,405,-1,-1,-1,-1,-1,-1,-1,-1,x._accessor<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._as<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,459,-1,-1,-1,-1,-1,594,-1,-1,-1,-1,-1,-1,486,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,513,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,540,-1,-1,-1,-1,-1,-1,x._assert<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,567,-1,-1,-1,-1,-1,-1,-1,x._asserts<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,621,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,648,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._async<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,702,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,729,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,756,-1,-1,-1,-1,-1,-1,x._await<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,810,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,837,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,864,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,891,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._break<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,945,-1,-1,-1,-1,-1,-1,1107,-1,-1,-1,1242,-1,-1,1350,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,972,1026,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,999,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._case<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1053,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1080,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._catch<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1134,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1161,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1188,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1215,-1,-1,-1,-1,-1,-1,-1,x._checks<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1269,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1296,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1323,-1,-1,-1,-1,-1,-1,-1,(u._class<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1377,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1404,1620,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1431,-1,-1,-1,-1,-1,-1,(u._const<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1458,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1485,-1,-1,-1,-1,-1,-1,-1,-1,1512,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1539,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1566,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1593,-1,-1,-1,-1,-1,-1,-1,-1,x._constructor<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1647,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1674,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1701,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1728,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._continue<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1782,-1,-1,-1,-1,-1,-1,-1,-1,-1,2349,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1809,1971,-1,-1,2106,-1,-1,-1,-1,-1,2241,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1836,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1863,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1890,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1917,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1944,-1,-1,-1,-1,-1,-1,-1,-1,(u._debugger<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1998,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2025,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2052,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2079,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._declare<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2133,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2160,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2187,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2214,-1,-1,-1,-1,-1,-1,(u._default<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2268,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2295,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2322,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._delete<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._do<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2403,-1,2484,-1,-1,-1,-1,-1,-1,-1,-1,-1,2565,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2430,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2457,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._else<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2511,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2538,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._enum<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2592,-1,-1,-1,2727,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2619,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2646,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2673,-1,-1,-1,-1,-1,-1,(u._export<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2700,-1,-1,-1,-1,-1,-1,-1,x._exports<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2754,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2781,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2808,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2835,-1,-1,-1,-1,-1,-1,-1,(u._extends<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2889,-1,-1,-1,-1,-1,-1,-1,2997,-1,-1,-1,-1,-1,3159,-1,-1,3213,-1,-1,3294,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2916,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2943,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2970,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._false<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3024,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3051,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3078,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3105,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3132,-1,(u._finally<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3186,-1,-1,-1,-1,-1,-1,-1,-1,(u._for<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3240,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3267,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._from<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3321,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3348,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3375,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3402,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3429,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3456,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._function<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3510,-1,-1,-1,-1,-1,-1,3564,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3537,-1,-1,-1,-1,-1,-1,x._get<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3591,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3618,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3645,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3672,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._global<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3726,-1,-1,-1,-1,-1,-1,3753,4077,-1,-1,-1,-1,4590,-1,-1,-1,-1,-1,-1,-1,(u._if<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3780,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3807,-1,-1,3996,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3834,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3861,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3888,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3915,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3942,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3969,-1,-1,-1,-1,-1,-1,-1,x._implements<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4023,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4050,-1,-1,-1,-1,-1,-1,(u._import<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._in<<1)+1,-1,-1,-1,-1,-1,4104,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4185,4401,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4131,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4158,-1,-1,-1,-1,-1,-1,-1,-1,x._infer<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4212,-1,-1,-1,-1,-1,-1,-1,4239,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4266,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4293,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4320,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4347,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4374,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._instanceof<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4428,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4455,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4482,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4509,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4536,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4563,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._interface<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._is<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4644,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4671,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4698,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4725,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._keyof<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4779,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4806,-1,-1,-1,-1,-1,-1,(u._let<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4860,-1,-1,-1,-1,-1,4995,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4887,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4914,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4941,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4968,-1,-1,-1,-1,-1,-1,-1,x._mixins<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5022,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5049,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5076,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5103,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._module<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5157,-1,-1,-1,5373,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5427,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5184,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5211,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5238,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5265,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5292,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5319,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5346,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._namespace<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5400,-1,-1,-1,(u._new<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5454,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5481,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._null<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5535,-1,-1,-1,-1,-1,-1,-1,-1,-1,5562,-1,-1,-1,-1,5697,5751,-1,-1,-1,-1,x._of<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5589,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5616,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5643,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5670,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._opaque<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5724,-1,-1,-1,-1,-1,-1,x._out<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5778,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5805,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5832,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5859,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5886,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5913,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._override<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5967,-1,-1,6345,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5994,-1,-1,-1,-1,-1,6129,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6021,-1,-1,-1,-1,-1,6048,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6075,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6102,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._private<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6156,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6183,-1,-1,-1,-1,-1,-1,-1,-1,-1,6318,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6210,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6237,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6264,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6291,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._protected<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._proto<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6372,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6399,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6426,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6453,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._public<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6507,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6534,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6696,-1,-1,6831,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6561,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6588,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6615,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6642,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6669,-1,x._readonly<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6723,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6750,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6777,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6804,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._require<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6858,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6885,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6912,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._return<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6966,-1,-1,-1,7182,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7236,7371,-1,7479,-1,7614,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6993,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7020,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7047,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7074,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7101,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7128,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7155,-1,-1,-1,-1,-1,-1,-1,x._satisfies<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7209,-1,-1,-1,-1,-1,-1,x._set<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7263,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7290,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7317,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7344,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._static<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7398,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7425,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7452,-1,-1,-1,-1,-1,-1,-1,-1,(u._super<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7506,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7533,-1,-1,-1,-1,-1,-1,-1,-1,-1,7560,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7587,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._switch<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7641,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7668,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7695,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7722,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._symbol<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7776,-1,-1,-1,-1,-1,-1,-1,-1,-1,7938,-1,-1,-1,-1,-1,-1,8046,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7803,-1,-1,-1,-1,-1,-1,-1,-1,7857,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7830,-1,-1,-1,-1,-1,-1,-1,(u._this<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7884,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7911,-1,-1,-1,(u._throw<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7965,-1,-1,-1,8019,-1,-1,-1,-1,-1,-1,7992,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._true<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._try<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8073,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8100,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._type<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8154,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._typeof<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8208,-1,-1,-1,-1,8343,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8235,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8262,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8289,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8316,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._unique<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8370,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8397,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8424,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,x._using<<1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8478,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8532,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8505,-1,-1,-1,-1,-1,-1,-1,-1,(u._var<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8559,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8586,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._void<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8640,8748,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8667,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8694,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8721,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._while<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8775,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8802,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._with<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8856,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8883,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8910,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8937,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,(u._yield<<1)+1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);function Gh(){let e=0,t=0,r=h.pos;for(;r<Y.length&&(t=Y.charCodeAt(r),!(t<A.lowercaseA||t>A.lowercaseZ));){const s=Y1[e+(t-A.lowercaseA)+1];if(s===-1)break;e=s,r++}const n=Y1[e];if(n>-1&&!vr[t]){h.pos=r,n&1?me(n>>>1):me(u.name,n>>>1);return}for(;r<Y.length;){const s=Y.charCodeAt(r);if(vr[s])r++;else if(s===A.backslash){if(r+=2,Y.charCodeAt(r)===A.leftCurlyBrace){for(;r<Y.length&&Y.charCodeAt(r)!==A.rightCurlyBrace;)r++;r++}}else if(s===A.atSign&&Y.charCodeAt(r+1)===A.atSign)r+=2;else break}h.pos=r,me(u.name)}var he;(function(e){e[e.Access=0]="Access";const r=1;e[e.ExportAccess=r]="ExportAccess";const n=r+1;e[e.TopLevelDeclaration=n]="TopLevelDeclaration";const s=n+1;e[e.FunctionScopedDeclaration=s]="FunctionScopedDeclaration";const o=s+1;e[e.BlockScopedDeclaration=o]="BlockScopedDeclaration";const c=o+1;e[e.ObjectShorthandTopLevelDeclaration=c]="ObjectShorthandTopLevelDeclaration";const l=c+1;e[e.ObjectShorthandFunctionScopedDeclaration=l]="ObjectShorthandFunctionScopedDeclaration";const f=l+1;e[e.ObjectShorthandBlockScopedDeclaration=f]="ObjectShorthandBlockScopedDeclaration";const v=f+1;e[e.ObjectShorthand=v]="ObjectShorthand";const g=v+1;e[e.ImportDeclaration=g]="ImportDeclaration";const _=g+1;e[e.ObjectKey=_]="ObjectKey";const w=_+1;e[e.ImportAccess=w]="ImportAccess"})(he||(he={}));var ln;(function(e){e[e.NoChildren=0]="NoChildren";const r=1;e[e.OneChild=r]="OneChild";const n=r+1;e[e.StaticChildren=n]="StaticChildren";const s=n+1;e[e.KeyAfterPropSpread=s]="KeyAfterPropSpread"})(ln||(ln={}));function eS(e){const t=e.identifierRole;return t===he.TopLevelDeclaration||t===he.FunctionScopedDeclaration||t===he.BlockScopedDeclaration||t===he.ObjectShorthandTopLevelDeclaration||t===he.ObjectShorthandFunctionScopedDeclaration||t===he.ObjectShorthandBlockScopedDeclaration}function tS(e){const t=e.identifierRole;return t===he.FunctionScopedDeclaration||t===he.BlockScopedDeclaration||t===he.ObjectShorthandFunctionScopedDeclaration||t===he.ObjectShorthandBlockScopedDeclaration}function rS(e){const t=e.identifierRole;return t===he.TopLevelDeclaration||t===he.ObjectShorthandTopLevelDeclaration||t===he.ImportDeclaration}function nS(e){const t=e.identifierRole;return t===he.TopLevelDeclaration||t===he.BlockScopedDeclaration||t===he.ObjectShorthandTopLevelDeclaration||t===he.ObjectShorthandBlockScopedDeclaration}function sS(e){const t=e.identifierRole;return t===he.FunctionScopedDeclaration||t===he.ObjectShorthandFunctionScopedDeclaration}function oS(e){return e.identifierRole===he.ObjectShorthandTopLevelDeclaration||e.identifierRole===he.ObjectShorthandBlockScopedDeclaration||e.identifierRole===he.ObjectShorthandFunctionScopedDeclaration}let gi=class{constructor(){this.type=h.type,this.contextualKeyword=h.contextualKeyword,this.start=h.start,this.end=h.end,this.scopeDepth=h.scopeDepth,this.isType=h.isType,this.identifierRole=null,this.jsxRole=null,this.shadowsGlobal=!1,this.isAsyncOperation=!1,this.contextId=null,this.rhsEndIndex=null,this.isExpression=!1,this.numNullishCoalesceStarts=0,this.numNullishCoalesceEnds=0,this.isOptionalChainStart=!1,this.isOptionalChainEnd=!1,this.subscriptStartIndex=null,this.nullishStartIndex=null}};function G(){h.tokens.push(new gi),Ac()}function qr(){h.tokens.push(new gi),h.start=h.pos,nd()}function Hh(){h.type===u.assign&&--h.pos,ed()}function be(e){for(let r=h.tokens.length-e;r<h.tokens.length;r++)h.tokens[r].isType=!0;const t=h.isType;return h.isType=!0,t}function we(e){h.isType=e}function D(e){return S(e)?(G(),!0):!1}function kc(e){const t=h.isType;h.isType=!0,D(e),h.isType=t}function S(e){return h.type===e}function st(){const e=h.snapshot();G();const t=h.type;return h.restoreFromSnapshot(e),t}class Wh{constructor(t,r){this.type=t,this.contextualKeyword=r}}function Js(){const e=h.snapshot();G();const t=h.type,r=h.contextualKeyword;return h.restoreFromSnapshot(e),new Wh(t,r)}function Na(){return xc(h.pos)}function xc(e){X1.lastIndex=e;const t=X1.exec(Y);return e+t[0].length}function Pc(){return Y.charCodeAt(Na())}function Ac(){if(Rc(),h.start=h.pos,h.pos>=Y.length){const e=h.tokens;e.length>=2&&e[e.length-1].start>=Y.length&&e[e.length-2].start>=Y.length&&ye("Unexpectedly reached the end of input."),me(u.eof);return}Vh(Y.charCodeAt(h.pos))}function Vh(e){vi[e]||e===A.backslash||e===A.atSign&&Y.charCodeAt(h.pos+1)===A.atSign?Gh():Ic(e)}function qh(){for(;Y.charCodeAt(h.pos)!==A.asterisk||Y.charCodeAt(h.pos+1)!==A.slash;)if(h.pos++,h.pos>Y.length){ye("Unterminated comment",h.pos-2);return}h.pos+=2}function Cc(e){let t=Y.charCodeAt(h.pos+=e);if(h.pos<Y.length)for(;t!==A.lineFeed&&t!==A.carriageReturn&&t!==A.lineSeparator&&t!==A.paragraphSeparator&&++h.pos<Y.length;)t=Y.charCodeAt(h.pos)}function Rc(){for(;h.pos<Y.length;){const e=Y.charCodeAt(h.pos);switch(e){case A.carriageReturn:Y.charCodeAt(h.pos+1)===A.lineFeed&&++h.pos;case A.lineFeed:case A.lineSeparator:case A.paragraphSeparator:++h.pos;break;case A.slash:switch(Y.charCodeAt(h.pos+1)){case A.asterisk:h.pos+=2,qh();break;case A.slash:Cc(2);break;default:return}break;default:if(Tc[e])++h.pos;else return}}}function me(e,t=x.NONE){h.end=h.pos,h.type=e,h.contextualKeyword=t}function jh(){const e=Y.charCodeAt(h.pos+1);if(e>=A.digit0&&e<=A.digit9){Lc(!0);return}e===A.dot&&Y.charCodeAt(h.pos+2)===A.dot?(h.pos+=3,me(u.ellipsis)):(++h.pos,me(u.dot))}function zh(){Y.charCodeAt(h.pos+1)===A.equalsTo?Ge(u.assign,2):Ge(u.slash,1)}function Xh(e){let t=e===A.asterisk?u.star:u.modulo,r=1,n=Y.charCodeAt(h.pos+1);e===A.asterisk&&n===A.asterisk&&(r++,n=Y.charCodeAt(h.pos+2),t=u.exponent),n===A.equalsTo&&Y.charCodeAt(h.pos+2)!==A.greaterThan&&(r++,t=u.assign),Ge(t,r)}function Yh(e){const t=Y.charCodeAt(h.pos+1);if(t===e){Y.charCodeAt(h.pos+2)===A.equalsTo?Ge(u.assign,3):Ge(e===A.verticalBar?u.logicalOR:u.logicalAND,2);return}if(e===A.verticalBar){if(t===A.greaterThan){Ge(u.pipeline,2);return}else if(t===A.rightCurlyBrace&&Be){Ge(u.braceBarR,2);return}}if(t===A.equalsTo){Ge(u.assign,2);return}Ge(e===A.verticalBar?u.bitwiseOR:u.bitwiseAND,1)}function Zh(){Y.charCodeAt(h.pos+1)===A.equalsTo?Ge(u.assign,2):Ge(u.bitwiseXOR,1)}function $h(e){const t=Y.charCodeAt(h.pos+1);if(t===e){Ge(u.preIncDec,2);return}t===A.equalsTo?Ge(u.assign,2):e===A.plusSign?Ge(u.plus,1):Ge(u.minus,1)}function Qh(){const e=Y.charCodeAt(h.pos+1);if(e===A.lessThan){if(Y.charCodeAt(h.pos+2)===A.equalsTo){Ge(u.assign,3);return}h.isType?Ge(u.lessThan,1):Ge(u.bitShiftL,2);return}e===A.equalsTo?Ge(u.relationalOrEqual,2):Ge(u.lessThan,1)}function Oc(){if(h.isType){Ge(u.greaterThan,1);return}const e=Y.charCodeAt(h.pos+1);if(e===A.greaterThan){const t=Y.charCodeAt(h.pos+2)===A.greaterThan?3:2;if(Y.charCodeAt(h.pos+t)===A.equalsTo){Ge(u.assign,t+1);return}Ge(u.bitShiftR,t);return}e===A.equalsTo?Ge(u.relationalOrEqual,2):Ge(u.greaterThan,1)}function Dc(){h.type===u.greaterThan&&(h.pos-=1,Oc())}function Kh(e){const t=Y.charCodeAt(h.pos+1);if(t===A.equalsTo){Ge(u.equality,Y.charCodeAt(h.pos+2)===A.equalsTo?3:2);return}if(e===A.equalsTo&&t===A.greaterThan){h.pos+=2,me(u.arrow);return}Ge(e===A.equalsTo?u.eq:u.bang,1)}function Jh(){const e=Y.charCodeAt(h.pos+1),t=Y.charCodeAt(h.pos+2);e===A.questionMark&&!(Be&&h.isType)?t===A.equalsTo?Ge(u.assign,3):Ge(u.nullishCoalescing,2):e===A.dot&&!(t>=A.digit0&&t<=A.digit9)?(h.pos+=2,me(u.questionDot)):(++h.pos,me(u.question))}function Ic(e){switch(e){case A.numberSign:++h.pos,me(u.hash);return;case A.dot:jh();return;case A.leftParenthesis:++h.pos,me(u.parenL);return;case A.rightParenthesis:++h.pos,me(u.parenR);return;case A.semicolon:++h.pos,me(u.semi);return;case A.comma:++h.pos,me(u.comma);return;case A.leftSquareBracket:++h.pos,me(u.bracketL);return;case A.rightSquareBracket:++h.pos,me(u.bracketR);return;case A.leftCurlyBrace:Be&&Y.charCodeAt(h.pos+1)===A.verticalBar?Ge(u.braceBarL,2):(++h.pos,me(u.braceL));return;case A.rightCurlyBrace:++h.pos,me(u.braceR);return;case A.colon:Y.charCodeAt(h.pos+1)===A.colon?Ge(u.doubleColon,2):(++h.pos,me(u.colon));return;case A.questionMark:Jh();return;case A.atSign:++h.pos,me(u.at);return;case A.graveAccent:++h.pos,me(u.backQuote);return;case A.digit0:{const t=Y.charCodeAt(h.pos+1);if(t===A.lowercaseX||t===A.uppercaseX||t===A.lowercaseO||t===A.uppercaseO||t===A.lowercaseB||t===A.uppercaseB){td();return}}case A.digit1:case A.digit2:case A.digit3:case A.digit4:case A.digit5:case A.digit6:case A.digit7:case A.digit8:case A.digit9:Lc(!1);return;case A.quotationMark:case A.apostrophe:rd(e);return;case A.slash:zh();return;case A.percentSign:case A.asterisk:Xh(e);return;case A.verticalBar:case A.ampersand:Yh(e);return;case A.caret:Zh();return;case A.plusSign:case A.dash:$h(e);return;case A.lessThan:Qh();return;case A.greaterThan:Oc();return;case A.equalsTo:case A.exclamationMark:Kh(e);return;case A.tilde:Ge(u.tilde,1);return}ye(`Unexpected character '${String.fromCharCode(e)}'`,h.pos)}function Ge(e,t){h.pos+=t,me(e)}function ed(){const e=h.pos;let t=!1,r=!1;for(;;){if(h.pos>=Y.length){ye("Unterminated regular expression",e);return}const n=Y.charCodeAt(h.pos);if(t)t=!1;else{if(n===A.leftSquareBracket)r=!0;else if(n===A.rightSquareBracket&&r)r=!1;else if(n===A.slash&&!r)break;t=n===A.backslash}++h.pos}++h.pos,sd(),me(u.regexp)}function $i(){for(;;){const e=Y.charCodeAt(h.pos);if(e>=A.digit0&&e<=A.digit9||e===A.underscore)h.pos++;else break}}function td(){for(h.pos+=2;;){const t=Y.charCodeAt(h.pos);if(t>=A.digit0&&t<=A.digit9||t>=A.lowercaseA&&t<=A.lowercaseF||t>=A.uppercaseA&&t<=A.uppercaseF||t===A.underscore)h.pos++;else break}Y.charCodeAt(h.pos)===A.lowercaseN?(++h.pos,me(u.bigint)):me(u.num)}function Lc(e){let t=!1,r=!1;e||$i();let n=Y.charCodeAt(h.pos);if(n===A.dot&&(++h.pos,$i(),n=Y.charCodeAt(h.pos)),(n===A.uppercaseE||n===A.lowercaseE)&&(n=Y.charCodeAt(++h.pos),(n===A.plusSign||n===A.dash)&&++h.pos,$i(),n=Y.charCodeAt(h.pos)),n===A.lowercaseN?(++h.pos,t=!0):n===A.lowercaseM&&(++h.pos,r=!0),t){me(u.bigint);return}if(r){me(u.decimal);return}me(u.num)}function rd(e){for(h.pos++;;){if(h.pos>=Y.length){ye("Unterminated string constant");return}const t=Y.charCodeAt(h.pos);if(t===A.backslash)h.pos++;else if(t===e)break;h.pos++}h.pos++,me(u.string)}function nd(){for(;;){if(h.pos>=Y.length){ye("Unterminated template");return}const e=Y.charCodeAt(h.pos);if(e===A.graveAccent||e===A.dollarSign&&Y.charCodeAt(h.pos+1)===A.leftCurlyBrace){if(h.pos===h.start&&S(u.template))if(e===A.dollarSign){h.pos+=2,me(u.dollarBraceL);return}else{++h.pos,me(u.backQuote);return}me(u.template);return}e===A.backslash&&h.pos++,h.pos++}}function sd(){for(;h.pos<Y.length;){const e=Y.charCodeAt(h.pos);if(vr[e])h.pos++;else if(e===A.backslash){if(h.pos+=2,Y.charCodeAt(h.pos)===A.leftCurlyBrace){for(;h.pos<Y.length&&Y.charCodeAt(h.pos)!==A.rightCurlyBrace;)h.pos++;h.pos++}}else break}}var od=44,id=59,Z1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fc=new Uint8Array(64),ad=new Uint8Array(128);for(let e=0;e<Z1.length;e++){const t=Z1.charCodeAt(e);Fc[e]=t,ad[t]=e}function Ps(e,t,r){let n=t-r;n=n<0?-n<<1|1:n<<1;do{let s=n&31;n>>>=5,n>0&&(s|=32),e.write(Fc[s])}while(n>0);return t}var $1=1024*16,Q1=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(e){return Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString()}}:{decode(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t}},ud=class{constructor(){this.pos=0,this.out="",this.buffer=new Uint8Array($1)}write(e){const{buffer:t}=this;t[this.pos++]=e,this.pos===$1&&(this.out+=Q1.decode(t),this.pos=0)}flush(){const{buffer:e,out:t,pos:r}=this;return r>0?t+Q1.decode(e.subarray(0,r)):t}};function aS(e){const t=new ud;let r=0,n=0,s=0,o=0;for(let c=0;c<e.length;c++){const l=e[c];if(c>0&&t.write(id),l.length===0)continue;let f=0;for(let v=0;v<l.length;v++){const g=l[v];v>0&&t.write(od),f=Ps(t,g[0],f),g.length!==1&&(r=Ps(t,g[1],r),n=Ps(t,g[2],n),s=Ps(t,g[3],s),g.length!==4&&(o=Ps(t,g[4],o)))}}return t.flush()}var Fo={exports:{}},cd=Fo.exports,K1;function ld(){return K1||(K1=1,(function(e,t){(function(r,n){e.exports=n()})(cd,(function(){const r=/^[\w+.-]+:\/\//,n=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,s=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i;function o(L){return r.test(L)}function c(L){return L.startsWith("//")}function l(L){return L.startsWith("/")}function f(L){return L.startsWith("file:")}function v(L){return/^[.?#]/.test(L)}function g(L){const I=n.exec(L);return w(I[1],I[2]||"",I[3],I[4]||"",I[5]||"/",I[6]||"",I[7]||"")}function _(L){const I=s.exec(L),X=I[2];return w("file:","",I[1]||"","",l(X)?X:"/"+X,I[3]||"",I[4]||"")}function w(L,I,X,te,ue,ae,fe){return{scheme:L,user:I,host:X,port:te,path:ue,query:ae,hash:fe,type:7}}function T(L){if(c(L)){const X=g("http:"+L);return X.scheme="",X.type=6,X}if(l(L)){const X=g("http://foo.com"+L);return X.scheme="",X.host="",X.type=5,X}if(f(L))return _(L);if(o(L))return g(L);const I=g("http://foo.com/"+L);return I.scheme="",I.host="",I.type=L?L.startsWith("?")?3:L.startsWith("#")?2:4:1,I}function P(L){if(L.endsWith("/.."))return L;const I=L.lastIndexOf("/");return L.slice(0,I+1)}function R(L,I){O(I,I.type),L.path==="/"?L.path=I.path:L.path=P(I.path)+L.path}function O(L,I){const X=I<=4,te=L.path.split("/");let ue=1,ae=0,fe=!1;for(let De=1;De<te.length;De++){const Pe=te[De];if(!Pe){fe=!0;continue}if(fe=!1,Pe!=="."){if(Pe===".."){ae?(fe=!0,ae--,ue--):X&&(te[ue++]=Pe);continue}te[ue++]=Pe,ae++}}let Te="";for(let De=1;De<ue;De++)Te+="/"+te[De];(!Te||fe&&!Te.endsWith("/.."))&&(Te+="/"),L.path=Te}function F(L,I){if(!L&&!I)return"";const X=T(L);let te=X.type;if(I&&te!==7){const ae=T(I),fe=ae.type;switch(te){case 1:X.hash=ae.hash;case 2:X.query=ae.query;case 3:case 4:R(X,ae);case 5:X.user=ae.user,X.host=ae.host,X.port=ae.port;case 6:X.scheme=ae.scheme}fe>te&&(te=fe)}O(X,te);const ue=X.query+X.hash;switch(te){case 2:case 3:return ue;case 4:{const ae=X.path.slice(1);return ae?v(I||L)&&!v(ae)?"./"+ae+ue:ae+ue:ue||"."}case 5:return X.path+ue;default:return X.scheme+"//"+X.user+X.host+X.port+X.path+ue}}return F}))})(Fo)),Fo.exports}ld();var As={},Cs={},Jt={},J1;function da(){if(J1)return Jt;J1=1;var e=Jt&&Jt.__extends||(function(){var o=function(c,l){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,v){f.__proto__=v}||function(f,v){for(var g in v)v.hasOwnProperty(g)&&(f[g]=v[g])},o(c,l)};return function(c,l){o(c,l);function f(){this.constructor=c}c.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}})();Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.DetailContext=Jt.NoopContext=Jt.VError=void 0;var t=(function(o){e(c,o);function c(l,f){var v=o.call(this,f)||this;return v.path=l,Object.setPrototypeOf(v,c.prototype),v}return c})(Error);Jt.VError=t;var r=(function(){function o(){}return o.prototype.fail=function(c,l,f){return!1},o.prototype.unionResolver=function(){return this},o.prototype.createContext=function(){return this},o.prototype.resolveUnion=function(c){},o})();Jt.NoopContext=r;var n=(function(){function o(){this._propNames=[""],this._messages=[null],this._score=0}return o.prototype.fail=function(c,l,f){return this._propNames.push(c),this._messages.push(l),this._score+=f,!1},o.prototype.unionResolver=function(){return new s},o.prototype.resolveUnion=function(c){for(var l,f,v=c,g=null,_=0,w=v.contexts;_<w.length;_++){var T=w[_];(!g||T._score>=g._score)&&(g=T)}g&&g._score>0&&((l=this._propNames).push.apply(l,g._propNames),(f=this._messages).push.apply(f,g._messages))},o.prototype.getError=function(c){for(var l=[],f=this._propNames.length-1;f>=0;f--){var v=this._propNames[f];c+=typeof v=="number"?"["+v+"]":v?"."+v:"";var g=this._messages[f];g&&l.push(c+" "+g)}return new t(c,l.join("; "))},o.prototype.getErrorDetail=function(c){for(var l=[],f=this._propNames.length-1;f>=0;f--){var v=this._propNames[f];c+=typeof v=="number"?"["+v+"]":v?"."+v:"";var g=this._messages[f];g&&l.push({path:c,message:g})}for(var _=null,f=l.length-1;f>=0;f--)_&&(l[f].nested=[_]),_=l[f];return _},o})();Jt.DetailContext=n;var s=(function(){function o(){this.contexts=[]}return o.prototype.createContext=function(){var c=new n;return this.contexts.push(c),c},o})();return Jt}var eu;function tu(){return eu||(eu=1,(function(e){var t=Cs&&Cs.__extends||(function(){var H=function(W,V){return H=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,Q){q.__proto__=Q}||function(q,Q){for(var le in Q)Q.hasOwnProperty(le)&&(q[le]=Q[le])},H(W,V)};return function(W,V){H(W,V);function q(){this.constructor=W}W.prototype=V===null?Object.create(V):(q.prototype=V.prototype,new q)}})();Object.defineProperty(e,"__esModule",{value:!0}),e.basicTypes=e.BasicType=e.TParamList=e.TParam=e.param=e.TFunc=e.func=e.TProp=e.TOptional=e.opt=e.TIface=e.iface=e.TEnumLiteral=e.enumlit=e.TEnumType=e.enumtype=e.TIntersection=e.intersection=e.TUnion=e.union=e.TTuple=e.tuple=e.TArray=e.array=e.TLiteral=e.lit=e.TName=e.name=e.TType=void 0;var r=da(),n=(function(){function H(){}return H})();e.TType=n;function s(H){return typeof H=="string"?c(H):H}function o(H,W){var V=H[W];if(!V)throw new Error("Unknown type "+W);return V}function c(H){return new l(H)}e.name=c;var l=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.name=V,q._failMsg="is not a "+V,q}return W.prototype.getChecker=function(V,q,Q){var le=this,B=o(V,this.name),re=B.getChecker(V,q,Q);return B instanceof ve||B instanceof W?re:function(Ae,je){return re(Ae,je)?!0:je.fail(null,le._failMsg,0)}},W})(n);e.TName=l;function f(H){return new v(H)}e.lit=f;var v=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.value=V,q.name=JSON.stringify(V),q._failMsg="is not "+q.name,q}return W.prototype.getChecker=function(V,q){var Q=this;return function(le,B){return le===Q.value?!0:B.fail(null,Q._failMsg,-1)}},W})(n);e.TLiteral=v;function g(H){return new _(s(H))}e.array=g;var _=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.ttype=V,q}return W.prototype.getChecker=function(V,q){var Q=this.ttype.getChecker(V,q);return function(le,B){if(!Array.isArray(le))return B.fail(null,"is not an array",0);for(var re=0;re<le.length;re++){var Ae=Q(le[re],B);if(!Ae)return B.fail(re,null,1)}return!0}},W})(n);e.TArray=_;function w(){for(var H=[],W=0;W<arguments.length;W++)H[W]=arguments[W];return new T(H.map(function(V){return s(V)}))}e.tuple=w;var T=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.ttypes=V,q}return W.prototype.getChecker=function(V,q){var Q=this.ttypes.map(function(B){return B.getChecker(V,q)}),le=function(B,re){if(!Array.isArray(B))return re.fail(null,"is not an array",0);for(var Ae=0;Ae<Q.length;Ae++){var je=Q[Ae](B[Ae],re);if(!je)return re.fail(Ae,null,1)}return!0};return q?function(B,re){return le(B,re)?B.length<=Q.length?!0:re.fail(Q.length,"is extraneous",2):!1}:le},W})(n);e.TTuple=T;function P(){for(var H=[],W=0;W<arguments.length;W++)H[W]=arguments[W];return new R(H.map(function(V){return s(V)}))}e.union=P;var R=(function(H){t(W,H);function W(V){var q=H.call(this)||this;q.ttypes=V;var Q=V.map(function(B){return B instanceof l||B instanceof v?B.name:null}).filter(function(B){return B}),le=V.length-Q.length;return Q.length?(le>0&&Q.push(le+" more"),q._failMsg="is none of "+Q.join(", ")):q._failMsg="is none of "+le+" types",q}return W.prototype.getChecker=function(V,q){var Q=this,le=this.ttypes.map(function(B){return B.getChecker(V,q)});return function(B,re){for(var Ae=re.unionResolver(),je=0;je<le.length;je++){var pt=le[je](B,Ae.createContext());if(pt)return!0}return re.resolveUnion(Ae),re.fail(null,Q._failMsg,0)}},W})(n);e.TUnion=R;function O(){for(var H=[],W=0;W<arguments.length;W++)H[W]=arguments[W];return new F(H.map(function(V){return s(V)}))}e.intersection=O;var F=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.ttypes=V,q}return W.prototype.getChecker=function(V,q){var Q=new Set,le=this.ttypes.map(function(B){return B.getChecker(V,q,Q)});return function(B,re){var Ae=le.every(function(je){return je(B,re)});return Ae?!0:re.fail(null,null,0)}},W})(n);e.TIntersection=F;function L(H){return new I(H)}e.enumtype=L;var I=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.members=V,q.validValues=new Set,q._failMsg="is not a valid enum value",q.validValues=new Set(Object.keys(V).map(function(Q){return V[Q]})),q}return W.prototype.getChecker=function(V,q){var Q=this;return function(le,B){return Q.validValues.has(le)?!0:B.fail(null,Q._failMsg,0)}},W})(n);e.TEnumType=I;function X(H,W){return new te(H,W)}e.enumlit=X;var te=(function(H){t(W,H);function W(V,q){var Q=H.call(this)||this;return Q.enumName=V,Q.prop=q,Q._failMsg="is not "+V+"."+q,Q}return W.prototype.getChecker=function(V,q){var Q=this,le=o(V,this.enumName);if(!(le instanceof I))throw new Error("Type "+this.enumName+" used in enumlit is not an enum type");var B=le.members[this.prop];if(!le.members.hasOwnProperty(this.prop))throw new Error("Unknown value "+this.enumName+"."+this.prop+" used in enumlit");return function(re,Ae){return re===B?!0:Ae.fail(null,Q._failMsg,-1)}},W})(n);e.TEnumLiteral=te;function ue(H){return Object.keys(H).map(function(W){return ae(W,H[W])})}function ae(H,W){return W instanceof Pe?new Ie(H,W.ttype,!0):new Ie(H,s(W),!1)}function fe(H,W){return new Te(H,ue(W))}e.iface=fe;var Te=(function(H){t(W,H);function W(V,q){var Q=H.call(this)||this;return Q.bases=V,Q.props=q,Q.propSet=new Set(q.map(function(le){return le.name})),Q}return W.prototype.getChecker=function(V,q,Q){var le=this,B=this.bases.map(function(et){return o(V,et).getChecker(V,q)}),re=this.props.map(function(et){return et.ttype.getChecker(V,q)}),Ae=new r.NoopContext,je=this.props.map(function(et,wt){return!et.isOpt&&!re[wt](void 0,Ae)}),pt=function(et,wt){if(typeof et!="object"||et===null)return wt.fail(null,"is not an object",0);for(var _t=0;_t<B.length;_t++)if(!B[_t](et,wt))return!1;for(var _t=0;_t<re.length;_t++){var mr=le.props[_t].name,Dr=et[mr];if(Dr===void 0){if(je[_t])return wt.fail(mr,"is missing",1)}else{var rn=re[_t](Dr,wt);if(!rn)return wt.fail(mr,null,1)}}return!0};if(!q)return pt;var At=this.propSet;return Q&&(this.propSet.forEach(function(et){return Q.add(et)}),At=Q),function(et,wt){if(!pt(et,wt))return!1;for(var _t in et)if(!At.has(_t))return wt.fail(_t,"is extraneous",2);return!0}},W})(n);e.TIface=Te;function De(H){return new Pe(s(H))}e.opt=De;var Pe=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.ttype=V,q}return W.prototype.getChecker=function(V,q){var Q=this.ttype.getChecker(V,q);return function(le,B){return le===void 0||Q(le,B)}},W})(n);e.TOptional=Pe;var Ie=(function(){function H(W,V,q){this.name=W,this.ttype=V,this.isOpt=q}return H})();e.TProp=Ie;function Ke(H){for(var W=[],V=1;V<arguments.length;V++)W[V-1]=arguments[V];return new Me(new Le(W),s(H))}e.func=Ke;var Me=(function(H){t(W,H);function W(V,q){var Q=H.call(this)||this;return Q.paramList=V,Q.result=q,Q}return W.prototype.getChecker=function(V,q){return function(Q,le){return typeof Q=="function"?!0:le.fail(null,"is not a function",0)}},W})(n);e.TFunc=Me;function He(H,W,V){return new Ve(H,s(W),!!V)}e.param=He;var Ve=(function(){function H(W,V,q){this.name=W,this.ttype=V,this.isOpt=q}return H})();e.TParam=Ve;var Le=(function(H){t(W,H);function W(V){var q=H.call(this)||this;return q.params=V,q}return W.prototype.getChecker=function(V,q){var Q=this,le=this.params.map(function(je){return je.ttype.getChecker(V,q)}),B=new r.NoopContext,re=this.params.map(function(je,pt){return!je.isOpt&&!le[pt](void 0,B)}),Ae=function(je,pt){if(!Array.isArray(je))return pt.fail(null,"is not an array",0);for(var At=0;At<le.length;At++){var et=Q.params[At];if(je[At]===void 0){if(re[At])return pt.fail(et.name,"is missing",1)}else{var wt=le[At](je[At],pt);if(!wt)return pt.fail(et.name,null,1)}}return!0};return q?function(je,pt){return Ae(je,pt)?je.length<=le.length?!0:pt.fail(le.length,"is extraneous",2):!1}:Ae},W})(n);e.TParamList=Le;var ve=(function(H){t(W,H);function W(V,q){var Q=H.call(this)||this;return Q.validator=V,Q.message=q,Q}return W.prototype.getChecker=function(V,q){var Q=this;return function(le,B){return Q.validator(le)?!0:B.fail(null,Q.message,0)}},W})(n);e.BasicType=ve,e.basicTypes={any:new ve(function(H){return!0},"is invalid"),number:new ve(function(H){return typeof H=="number"},"is not a number"),object:new ve(function(H){return typeof H=="object"&&H},"is not an object"),boolean:new ve(function(H){return typeof H=="boolean"},"is not a boolean"),string:new ve(function(H){return typeof H=="string"},"is not a string"),symbol:new ve(function(H){return typeof H=="symbol"},"is not a symbol"),void:new ve(function(H){return H==null},"is not void"),undefined:new ve(function(H){return H===void 0},"is not undefined"),null:new ve(function(H){return H===null},"is not null"),never:new ve(function(H){return!1},"is unexpected"),Date:new ve(Je("[object Date]"),"is not a Date"),RegExp:new ve(Je("[object RegExp]"),"is not a RegExp")};var Ze=Object.prototype.toString;function Je(H){return function(W){return typeof W=="object"&&W&&Ze.call(W)===H}}typeof Buffer<"u"&&(e.basicTypes.Buffer=new ve(function(H){return Buffer.isBuffer(H)},"is not a Buffer"));for(var Ue=function(H){e.basicTypes[H.name]=new ve(function(W){return W instanceof H},"is not a "+H.name)},qe=0,Ct=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,ArrayBuffer];qe<Ct.length;qe++){var jt=Ct[qe];Ue(jt)}})(Cs)),Cs}var ru;function fd(){return ru||(ru=1,(function(e){var t=As&&As.__spreadArrays||function(){for(var f=0,v=0,g=arguments.length;v<g;v++)f+=arguments[v].length;for(var _=Array(f),w=0,v=0;v<g;v++)for(var T=arguments[v],P=0,R=T.length;P<R;P++,w++)_[w]=T[P];return _};Object.defineProperty(e,"__esModule",{value:!0}),e.Checker=e.createCheckers=void 0;var r=tu(),n=da(),s=tu();Object.defineProperty(e,"TArray",{enumerable:!0,get:function(){return s.TArray}}),Object.defineProperty(e,"TEnumType",{enumerable:!0,get:function(){return s.TEnumType}}),Object.defineProperty(e,"TEnumLiteral",{enumerable:!0,get:function(){return s.TEnumLiteral}}),Object.defineProperty(e,"TFunc",{enumerable:!0,get:function(){return s.TFunc}}),Object.defineProperty(e,"TIface",{enumerable:!0,get:function(){return s.TIface}}),Object.defineProperty(e,"TLiteral",{enumerable:!0,get:function(){return s.TLiteral}}),Object.defineProperty(e,"TName",{enumerable:!0,get:function(){return s.TName}}),Object.defineProperty(e,"TOptional",{enumerable:!0,get:function(){return s.TOptional}}),Object.defineProperty(e,"TParam",{enumerable:!0,get:function(){return s.TParam}}),Object.defineProperty(e,"TParamList",{enumerable:!0,get:function(){return s.TParamList}}),Object.defineProperty(e,"TProp",{enumerable:!0,get:function(){return s.TProp}}),Object.defineProperty(e,"TTuple",{enumerable:!0,get:function(){return s.TTuple}}),Object.defineProperty(e,"TType",{enumerable:!0,get:function(){return s.TType}}),Object.defineProperty(e,"TUnion",{enumerable:!0,get:function(){return s.TUnion}}),Object.defineProperty(e,"TIntersection",{enumerable:!0,get:function(){return s.TIntersection}}),Object.defineProperty(e,"array",{enumerable:!0,get:function(){return s.array}}),Object.defineProperty(e,"enumlit",{enumerable:!0,get:function(){return s.enumlit}}),Object.defineProperty(e,"enumtype",{enumerable:!0,get:function(){return s.enumtype}}),Object.defineProperty(e,"func",{enumerable:!0,get:function(){return s.func}}),Object.defineProperty(e,"iface",{enumerable:!0,get:function(){return s.iface}}),Object.defineProperty(e,"lit",{enumerable:!0,get:function(){return s.lit}}),Object.defineProperty(e,"name",{enumerable:!0,get:function(){return s.name}}),Object.defineProperty(e,"opt",{enumerable:!0,get:function(){return s.opt}}),Object.defineProperty(e,"param",{enumerable:!0,get:function(){return s.param}}),Object.defineProperty(e,"tuple",{enumerable:!0,get:function(){return s.tuple}}),Object.defineProperty(e,"union",{enumerable:!0,get:function(){return s.union}}),Object.defineProperty(e,"intersection",{enumerable:!0,get:function(){return s.intersection}}),Object.defineProperty(e,"BasicType",{enumerable:!0,get:function(){return s.BasicType}});var o=da();Object.defineProperty(e,"VError",{enumerable:!0,get:function(){return o.VError}});function c(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];for(var g=Object.assign.apply(Object,t([{},r.basicTypes],f)),_={},w=0,T=f;w<T.length;w++)for(var P=T[w],R=0,O=Object.keys(P);R<O.length;R++){var F=O[R];_[F]=new l(g,P[F])}return _}e.createCheckers=c;var l=(function(){function f(v,g,_){if(_===void 0&&(_="value"),this.suite=v,this.ttype=g,this._path=_,this.props=new Map,g instanceof r.TIface)for(var w=0,T=g.props;w<T.length;w++){var P=T[w];this.props.set(P.name,P.ttype)}this.checkerPlain=this.ttype.getChecker(v,!1),this.checkerStrict=this.ttype.getChecker(v,!0)}return f.prototype.setReportedPath=function(v){this._path=v},f.prototype.check=function(v){return this._doCheck(this.checkerPlain,v)},f.prototype.test=function(v){return this.checkerPlain(v,new n.NoopContext)},f.prototype.validate=function(v){return this._doValidate(this.checkerPlain,v)},f.prototype.strictCheck=function(v){return this._doCheck(this.checkerStrict,v)},f.prototype.strictTest=function(v){return this.checkerStrict(v,new n.NoopContext)},f.prototype.strictValidate=function(v){return this._doValidate(this.checkerStrict,v)},f.prototype.getProp=function(v){var g=this.props.get(v);if(!g)throw new Error("Type has no property "+v);return new f(this.suite,g,this._path+"."+v)},f.prototype.methodArgs=function(v){var g=this._getMethod(v);return new f(this.suite,g.paramList)},f.prototype.methodResult=function(v){var g=this._getMethod(v);return new f(this.suite,g.result)},f.prototype.getArgs=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getArgs() applied to non-function");return new f(this.suite,this.ttype.paramList)},f.prototype.getResult=function(){if(!(this.ttype instanceof r.TFunc))throw new Error("getResult() applied to non-function");return new f(this.suite,this.ttype.result)},f.prototype.getType=function(){return this.ttype},f.prototype._doCheck=function(v,g){var _=new n.NoopContext;if(!v(g,_)){var w=new n.DetailContext;throw v(g,w),w.getError(this._path)}},f.prototype._doValidate=function(v,g){var _=new n.NoopContext;if(v(g,_))return null;var w=new n.DetailContext;return v(g,w),w.getErrorDetail(this._path)},f.prototype._getMethod=function(v){var g=this.props.get(v);if(!g)throw new Error("Type has no property "+v);if(!(g instanceof r.TFunc))throw new Error("Property "+v+" is not a method");return g},f})();e.Checker=l})(As)),As}var Xe=fd();const pd=Xe.union(Xe.lit("jsx"),Xe.lit("typescript"),Xe.lit("flow"),Xe.lit("imports"),Xe.lit("react-hot-loader"),Xe.lit("jest")),hd=Xe.iface([],{compiledFilename:"string"}),dd=Xe.iface([],{transforms:Xe.array("Transform"),disableESTransforms:Xe.opt("boolean"),jsxRuntime:Xe.opt(Xe.union(Xe.lit("classic"),Xe.lit("automatic"),Xe.lit("preserve"))),production:Xe.opt("boolean"),jsxImportSource:Xe.opt("string"),jsxPragma:Xe.opt("string"),jsxFragmentPragma:Xe.opt("string"),keepUnusedImports:Xe.opt("boolean"),preserveDynamicImport:Xe.opt("boolean"),injectCreateRequireForImportRequire:Xe.opt("boolean"),enableLegacyTypeScriptModuleInterop:Xe.opt("boolean"),enableLegacyBabel5ModuleInterop:Xe.opt("boolean"),sourceMapOptions:Xe.opt("SourceMapOptions"),filePath:Xe.opt("string")}),vd={Transform:pd,SourceMapOptions:hd,Options:dd},{Options:gd}=Xe.createCheckers(vd);function uS(e){gd.strictCheck(e)}function Mc(){G(),Pt(!1)}function Bc(e){G(),mi(e)}function en(e){pe(),Ga(e)}function jo(){pe(),h.tokens[h.tokens.length-1].identifierRole=he.ImportDeclaration}function Ga(e){let t;h.scopeDepth===0?t=he.TopLevelDeclaration:e?t=he.BlockScopedDeclaration:t=he.FunctionScopedDeclaration,h.tokens[h.tokens.length-1].identifierRole=t}function mi(e){switch(h.type){case u._this:{const t=be(0);G(),we(t);return}case u._yield:case u.name:{h.type=u.name,en(e);return}case u.bracketL:{G(),Ha(u.bracketR,e,!0);return}case u.braceL:Ka(!0,e);return;default:ye()}}function Ha(e,t,r=!1,n=!1,s=0){let o=!0,c=!1;const l=h.tokens.length;for(;!D(e)&&!h.error;)if(o?o=!1:(N(u.comma),h.tokens[h.tokens.length-1].contextId=s,!c&&h.tokens[l].isType&&(h.tokens[h.tokens.length-1].isType=!0,c=!0)),!(r&&S(u.comma))){if(D(e))break;if(S(u.ellipsis)){Bc(t),Uc(),D(u.comma),N(e);break}else md(n,t)}}function md(e,t){e&&Wa([x._public,x._protected,x._private,x._readonly,x._override]),zo(t),Uc(),zo(t,!0)}function Uc(){Be?Fg():Ce&&kv()}function zo(e,t=!1){if(t||mi(e),!D(u.eq))return;const r=h.tokens.length-1;Pt(),h.tokens[r].rhsEndIndex=h.tokens.length}function va(){return S(u.name)}function yd(){return S(u.name)||!!(h.type&u.IS_KEYWORD)||S(u.string)||S(u.num)||S(u.bigint)||S(u.decimal)}function Nc(){const e=h.snapshot();return G(),(S(u.bracketL)||S(u.braceL)||S(u.star)||S(u.ellipsis)||S(u.hash)||yd())&&!It()?!0:(h.restoreFromSnapshot(e),!1)}function Wa(e){for(;Gc(e)!==null;);}function Gc(e){if(!S(u.name))return null;const t=h.contextualKeyword;if(e.indexOf(t)!==-1&&Nc()){switch(t){case x._readonly:h.tokens[h.tokens.length-1].type=u._readonly;break;case x._abstract:h.tokens[h.tokens.length-1].type=u._abstract;break;case x._static:h.tokens[h.tokens.length-1].type=u._static;break;case x._public:h.tokens[h.tokens.length-1].type=u._public;break;case x._private:h.tokens[h.tokens.length-1].type=u._private;break;case x._protected:h.tokens[h.tokens.length-1].type=u._protected;break;case x._override:h.tokens[h.tokens.length-1].type=u._override;break;case x._declare:h.tokens[h.tokens.length-1].type=u._declare;break}return t}return null}function eo(){for(pe();D(u.dot);)pe()}function wd(){eo(),!It()&&S(u.lessThan)&&zn()}function _d(){G(),to()}function bd(){G()}function Sd(){N(u._typeof),S(u._import)?Hc():eo(),!It()&&S(u.lessThan)&&zn()}function Hc(){N(u._import),N(u.parenL),N(u.string),N(u.parenR),D(u.dot)&&eo(),S(u.lessThan)&&zn()}function Ed(){D(u._const);const e=D(u._in),t=mt(x._out);D(u._const),(e||t)&&!S(u.name)?h.tokens[h.tokens.length-1].type=u.name:pe(),D(u._extends)&&ot(),D(u.eq)&&ot()}function yn(){S(u.lessThan)&&yi()}function yi(){const e=be(0);for(S(u.lessThan)||S(u.typeParameterStart)?G():ye();!D(u.greaterThan)&&!h.error;)Ed(),D(u.comma);we(e)}function Va(e){const t=e===u.arrow;yn(),N(u.parenL),h.scopeDepth++,Td(!1),h.scopeDepth--,(t||S(e))&&Gs(e)}function Td(e){Ha(u.parenR,e)}function Xo(){D(u.comma)||$e()}function nu(){Va(u.colon),Xo()}function kd(){const e=h.snapshot();G();const t=D(u.name)&&S(u.colon);return h.restoreFromSnapshot(e),t}function Wc(){if(!(S(u.bracketL)&&kd()))return!1;const e=be(0);return N(u.bracketL),pe(),to(),N(u.bracketR),jn(),Xo(),we(e),!0}function su(e){D(u.question),!e&&(S(u.parenL)||S(u.lessThan))?(Va(u.colon),Xo()):(jn(),Xo())}function xd(){if(S(u.parenL)||S(u.lessThan)){nu();return}if(S(u._new)){G(),S(u.parenL)||S(u.lessThan)?nu():su(!1);return}const e=!!Gc([x._readonly]);Wc()||((ie(x._get)||ie(x._set))&&Nc(),Hs(-1),su(e))}function Pd(){Vc()}function Vc(){for(N(u.braceL);!D(u.braceR)&&!h.error;)xd()}function Ad(){const e=h.snapshot(),t=Cd();return h.restoreFromSnapshot(e),t}function Cd(){return G(),D(u.plus)||D(u.minus)?ie(x._readonly):(ie(x._readonly)&&G(),!S(u.bracketL)||(G(),!va())?!1:(G(),S(u._in)))}function Rd(){pe(),N(u._in),ot()}function Od(){N(u.braceL),S(u.plus)||S(u.minus)?(G(),lt(x._readonly)):mt(x._readonly),N(u.bracketL),Rd(),mt(x._as)&&ot(),N(u.bracketR),S(u.plus)||S(u.minus)?(G(),N(u.question)):D(u.question),jd(),$e(),N(u.braceR)}function Dd(){for(N(u.bracketL);!D(u.bracketR)&&!h.error;)Id(),D(u.comma)}function Id(){D(u.ellipsis)?ot():(ot(),D(u.question)),D(u.colon)&&ot()}function Ld(){N(u.parenL),ot(),N(u.parenR)}function Fd(){for(qr(),qr();!S(u.backQuote)&&!h.error;)N(u.dollarBraceL),ot(),qr(),qr();G()}var Xr;(function(e){e[e.TSFunctionType=0]="TSFunctionType";const r=1;e[e.TSConstructorType=r]="TSConstructorType";const n=r+1;e[e.TSAbstractConstructorType=n]="TSAbstractConstructorType"})(Xr||(Xr={}));function Qi(e){e===Xr.TSAbstractConstructorType&&lt(x._abstract),(e===Xr.TSConstructorType||e===Xr.TSAbstractConstructorType)&&N(u._new);const t=h.inDisallowConditionalTypesContext;h.inDisallowConditionalTypesContext=!1,Va(u.arrow),h.inDisallowConditionalTypesContext=t}function Md(){switch(h.type){case u.name:wd();return;case u._void:case u._null:G();return;case u.string:case u.num:case u.bigint:case u.decimal:case u._true:case u._false:Un();return;case u.minus:G(),Un();return;case u._this:{bd(),ie(x._is)&&!It()&&_d();return}case u._typeof:Sd();return;case u._import:Hc();return;case u.braceL:Ad()?Od():Pd();return;case u.bracketL:Dd();return;case u.parenL:Ld();return;case u.backQuote:Fd();return;default:if(h.type&u.IS_KEYWORD){G(),h.tokens[h.tokens.length-1].type=u.name;return}break}ye()}function Bd(){for(Md();!It()&&D(u.bracketL);)D(u.bracketR)||(ot(),N(u.bracketR))}function Ud(){if(lt(x._infer),pe(),S(u._extends)){const e=h.snapshot();N(u._extends);const t=h.inDisallowConditionalTypesContext;h.inDisallowConditionalTypesContext=!0,ot(),h.inDisallowConditionalTypesContext=t,(h.error||!h.inDisallowConditionalTypesContext&&S(u.question))&&h.restoreFromSnapshot(e)}}function ga(){if(ie(x._keyof)||ie(x._unique)||ie(x._readonly))G(),ga();else if(ie(x._infer))Ud();else{const e=h.inDisallowConditionalTypesContext;h.inDisallowConditionalTypesContext=!1,Bd(),h.inDisallowConditionalTypesContext=e}}function ou(){if(D(u.bitwiseAND),ga(),S(u.bitwiseAND))for(;D(u.bitwiseAND);)ga()}function Nd(){if(D(u.bitwiseOR),ou(),S(u.bitwiseOR))for(;D(u.bitwiseOR);)ou()}function Gd(){return S(u.lessThan)?!0:S(u.parenL)&&Wd()}function Hd(){if(S(u.name)||S(u._this))return G(),!0;if(S(u.braceL)||S(u.bracketL)){let e=1;for(G();e>0&&!h.error;)S(u.braceL)||S(u.bracketL)?e++:(S(u.braceR)||S(u.bracketR))&&e--,G();return!0}return!1}function Wd(){const e=h.snapshot(),t=Vd();return h.restoreFromSnapshot(e),t}function Vd(){return G(),!!(S(u.parenR)||S(u.ellipsis)||Hd()&&(S(u.colon)||S(u.comma)||S(u.question)||S(u.eq)||S(u.parenR)&&(G(),S(u.arrow))))}function Gs(e){const t=be(0);N(e),zd()||ot(),we(t)}function qd(){S(u.colon)&&Gs(u.colon)}function jn(){S(u.colon)&&to()}function jd(){D(u.colon)&&ot()}function zd(){const e=h.snapshot();return ie(x._asserts)?(G(),mt(x._is)?(ot(),!0):va()||S(u._this)?(G(),mt(x._is)&&ot(),!0):(h.restoreFromSnapshot(e),!1)):va()||S(u._this)?(G(),ie(x._is)&&!It()?(G(),ot(),!0):(h.restoreFromSnapshot(e),!1)):!1}function to(){const e=be(0);N(u.colon),ot(),we(e)}function ot(){if(iu(),h.inDisallowConditionalTypesContext||It()||!D(u._extends))return;const e=h.inDisallowConditionalTypesContext;h.inDisallowConditionalTypesContext=!0,iu(),h.inDisallowConditionalTypesContext=e,N(u.question),ot(),N(u.colon),ot()}function Xd(){return ie(x._abstract)&&st()===u._new}function iu(){if(Gd()){Qi(Xr.TSFunctionType);return}if(S(u._new)){Qi(Xr.TSConstructorType);return}else if(Xd()){Qi(Xr.TSAbstractConstructorType);return}Nd()}function Yd(){const e=be(1);ot(),N(u.greaterThan),we(e),ro()}function Zd(){if(D(u.jsxTagStart)){h.tokens[h.tokens.length-1].type=u.typeParameterStart;const e=be(1);for(;!S(u.greaterThan)&&!h.error;)ot(),D(u.comma);Xt(),we(e)}}function qc(){for(;!S(u.braceL)&&!h.error;)$d(),D(u.comma)}function $d(){eo(),S(u.lessThan)&&zn()}function Qd(){en(!1),yn(),D(u._extends)&&qc(),Vc()}function Kd(){en(!1),yn(),N(u.eq),ot(),$e()}function Jd(){if(S(u.string)?Un():pe(),D(u.eq)){const e=h.tokens.length-1;Pt(),h.tokens[e].rhsEndIndex=h.tokens.length}}function qa(){for(en(!1),N(u.braceL);!D(u.braceR)&&!h.error;)Jd(),D(u.comma)}function ja(){N(u.braceL),Si(u.braceR)}function ma(){en(!1),D(u.dot)?ma():ja()}function jc(){ie(x._global)?pe():S(u.string)?Cr():ye(),S(u.braceL)?ja():$e()}function ya(){jo(),N(u.eq),tv(),$e()}function ev(){return ie(x._require)&&st()===u.parenL}function tv(){ev()?rv():eo()}function rv(){lt(x._require),N(u.parenL),S(u.string)||ye(),Un(),N(u.parenR)}function nv(){if(ur())return!1;switch(h.type){case u._function:{const e=be(1);G();const t=h.start;return hn(t,!0),we(e),!0}case u._class:{const e=be(1);return dn(!0,!1),we(e),!0}case u._const:if(S(u._const)&&Ua(x._enum)){const e=be(1);return N(u._const),lt(x._enum),h.tokens[h.tokens.length-1].type=u._enum,qa(),we(e),!0}case u._var:case u._let:{const e=be(1);return Uo(h.type!==u._var),we(e),!0}case u.name:{const e=be(1),t=h.contextualKeyword;let r=!1;return t===x._global?(jc(),r=!0):r=wi(t,!0),we(e),r}default:return!1}}function au(){return wi(h.contextualKeyword,!0)}function sv(e){switch(e){case x._declare:{const t=h.tokens.length-1;if(nv())return h.tokens[t].type=u._declare,!0;break}case x._global:if(S(u.braceL))return ja(),!0;break;default:return wi(e,!1)}return!1}function wi(e,t){switch(e){case x._abstract:if(Rn(t)&&S(u._class))return h.tokens[h.tokens.length-1].type=u._abstract,dn(!0,!1),!0;break;case x._enum:if(Rn(t)&&S(u.name))return h.tokens[h.tokens.length-1].type=u._enum,qa(),!0;break;case x._interface:if(Rn(t)&&S(u.name)){const r=be(t?2:1);return Qd(),we(r),!0}break;case x._module:if(Rn(t)){if(S(u.string)){const r=be(t?2:1);return jc(),we(r),!0}else if(S(u.name)){const r=be(t?2:1);return ma(),we(r),!0}}break;case x._namespace:if(Rn(t)&&S(u.name)){const r=be(t?2:1);return ma(),we(r),!0}break;case x._type:if(Rn(t)&&S(u.name)){const r=be(t?2:1);return Kd(),we(r),!0}break}return!1}function Rn(e){return e?(G(),!0):!ur()}function ov(){const e=h.snapshot();return yi(),Xn(),qd(),N(u.arrow),h.error?(h.restoreFromSnapshot(e),!1):(no(!0),!0)}function za(){h.type===u.bitShiftL&&(h.pos-=1,me(u.lessThan)),zn()}function zn(){const e=be(0);for(N(u.lessThan);!S(u.greaterThan)&&!h.error;)ot(),D(u.comma);e?(N(u.greaterThan),we(e)):(we(e),Dc(),N(u.greaterThan),h.tokens[h.tokens.length-1].isType=!0)}function zc(){if(S(u.name))switch(h.contextualKeyword){case x._abstract:case x._declare:case x._enum:case x._interface:case x._module:case x._namespace:case x._type:return!0}return!1}function iv(e,t){if(S(u.colon)&&Gs(u.colon),!S(u.braceL)&&ur()){let r=h.tokens.length-1;for(;r>=0&&(h.tokens[r].start>=e||h.tokens[r].type===u._default||h.tokens[r].type===u._export);)h.tokens[r].isType=!0,r--;return}no(!1,t)}function av(e,t,r){if(!It()&&D(u.bang)){h.tokens[h.tokens.length-1].type=u.nonNullAssertion;return}if(S(u.lessThan)||S(u.bitShiftL)){const n=h.snapshot();if(!t&&el()&&ov())return;if(za(),!t&&D(u.parenL)?(h.tokens[h.tokens.length-1].subscriptStartIndex=e,Yr()):S(u.backQuote)?Qa():(h.type===u.greaterThan||h.type!==u.parenL&&h.type&u.IS_EXPRESSION_START&&!It())&&ye(),h.error)h.restoreFromSnapshot(n);else return}else!t&&S(u.questionDot)&&st()===u.lessThan&&(G(),h.tokens[e].isOptionalChainStart=!0,h.tokens[h.tokens.length-1].subscriptStartIndex=e,zn(),N(u.parenL),Yr());Ya(e,t,r)}function uv(){if(D(u._import))return ie(x._type)&&st()!==u.eq&&lt(x._type),ya(),!0;if(D(u.eq))return xt(),$e(),!0;if(mt(x._as))return lt(x._namespace),pe(),$e(),!0;if(ie(x._type)){const e=st();(e===u.braceL||e===u.star)&&G()}return!1}function cv(){if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-1].identifierRole=he.ImportDeclaration;return}if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-1].identifierRole=he.ImportDeclaration,h.tokens[h.tokens.length-2].isType=!0,h.tokens[h.tokens.length-1].isType=!0;return}if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-3].identifierRole=he.ImportAccess,h.tokens[h.tokens.length-1].identifierRole=he.ImportDeclaration;return}pe(),h.tokens[h.tokens.length-3].identifierRole=he.ImportAccess,h.tokens[h.tokens.length-1].identifierRole=he.ImportDeclaration,h.tokens[h.tokens.length-4].isType=!0,h.tokens[h.tokens.length-3].isType=!0,h.tokens[h.tokens.length-2].isType=!0,h.tokens[h.tokens.length-1].isType=!0}function lv(){if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-1].identifierRole=he.ExportAccess;return}if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-1].identifierRole=he.ExportAccess,h.tokens[h.tokens.length-2].isType=!0,h.tokens[h.tokens.length-1].isType=!0;return}if(pe(),S(u.comma)||S(u.braceR)){h.tokens[h.tokens.length-3].identifierRole=he.ExportAccess;return}pe(),h.tokens[h.tokens.length-3].identifierRole=he.ExportAccess,h.tokens[h.tokens.length-4].isType=!0,h.tokens[h.tokens.length-3].isType=!0,h.tokens[h.tokens.length-2].isType=!0,h.tokens[h.tokens.length-1].isType=!0}function fv(){if(ie(x._abstract)&&st()===u._class)return h.type=u._abstract,G(),dn(!0,!0),!0;if(ie(x._interface)){const e=be(2);return wi(x._interface,!0),we(e),!0}return!1}function pv(){if(h.type===u._const){const e=Js();if(e.type===u.name&&e.contextualKeyword===x._enum)return N(u._const),lt(x._enum),h.tokens[h.tokens.length-1].type=u._enum,qa(),!0}return!1}function hv(e){const t=h.tokens.length;Wa([x._abstract,x._readonly,x._declare,x._static,x._override]);const r=h.tokens.length;if(Wc()){const s=e?t-1:t;for(let o=s;o<r;o++)h.tokens[o].isType=!0;return!0}return!1}function dv(e){sv(e)||$e()}function vv(){const e=mt(x._declare);e&&(h.tokens[h.tokens.length-1].type=u._declare);let t=!1;if(S(u.name))if(e){const r=be(2);t=au(),we(r)}else t=au();if(!t)if(e){const r=be(2);Wt(!0),we(r)}else Wt(!0)}function gv(e){if(e&&(S(u.lessThan)||S(u.bitShiftL))&&za(),mt(x._implements)){h.tokens[h.tokens.length-1].type=u._implements;const t=be(1);qc(),we(t)}}function mv(){yn()}function yv(){yn()}function wv(){const e=be(0);It()||D(u.bang),jn(),we(e)}function _v(){S(u.colon)&&to()}function bv(e,t){return di?Sv(e,t):Ev(e,t)}function Sv(e,t){if(!S(u.lessThan))return pr(e,t);const r=h.snapshot();let n=pr(e,t);if(h.error)h.restoreFromSnapshot(r);else return n;return h.type=u.typeParameterStart,yi(),n=pr(e,t),n||ye(),n}function Ev(e,t){if(!S(u.lessThan))return pr(e,t);const r=h.snapshot();yi();const n=pr(e,t);if(n||ye(),h.error)h.restoreFromSnapshot(r);else return n;return pr(e,t)}function Tv(){if(S(u.colon)){const e=h.snapshot();Gs(u.colon),Nt()&&ye(),S(u.arrow)||ye(),h.error&&h.restoreFromSnapshot(e)}return D(u.arrow)}function kv(){const e=be(0);D(u.question),jn(),we(e)}function xv(){(S(u.lessThan)||S(u.bitShiftL))&&za(),pl()}function Pv(){let e=!1,t=!1;for(;;){if(h.pos>=Y.length){ye("Unterminated JSX contents");return}const r=Y.charCodeAt(h.pos);if(r===A.lessThan||r===A.leftCurlyBrace){if(h.pos===h.start){if(r===A.lessThan){h.pos++,me(u.jsxTagStart);return}Ic(r);return}me(e&&!t?u.jsxEmptyText:u.jsxText);return}r===A.lineFeed?e=!0:r!==A.space&&r!==A.carriageReturn&&r!==A.tab&&(t=!0),h.pos++}}function Av(e){for(h.pos++;;){if(h.pos>=Y.length){ye("Unterminated string constant");return}if(Y.charCodeAt(h.pos)===e){h.pos++;break}h.pos++}me(u.string)}function Cv(){let e;do{if(h.pos>Y.length){ye("Unexpectedly reached the end of input.");return}e=Y.charCodeAt(++h.pos)}while(vr[e]||e===A.dash);me(u.jsxName)}function wa(){Xt()}function Xc(e){if(wa(),!D(u.colon)){h.tokens[h.tokens.length-1].identifierRole=e;return}wa()}function Yc(){const e=h.tokens.length;Xc(he.Access);let t=!1;for(;S(u.dot);)t=!0,Xt(),wa();if(!t){const r=h.tokens[e],n=Y.charCodeAt(r.start);n>=A.lowercaseA&&n<=A.lowercaseZ&&(r.identifierRole=null)}}function Rv(){switch(h.type){case u.braceL:G(),xt(),Xt();return;case u.jsxTagStart:$c(),Xt();return;case u.string:Xt();return;default:ye("JSX value should be either an expression or a quoted JSX text")}}function Ov(){N(u.ellipsis),xt()}function Dv(e){if(S(u.jsxTagEnd))return!1;Yc(),Ce&&Zd();let t=!1;for(;!S(u.slash)&&!S(u.jsxTagEnd)&&!h.error;){if(D(u.braceL)){t=!0,N(u.ellipsis),Pt(),Xt();continue}t&&h.end-h.start===3&&Y.charCodeAt(h.start)===A.lowercaseK&&Y.charCodeAt(h.start+1)===A.lowercaseE&&Y.charCodeAt(h.start+2)===A.lowercaseY&&(h.tokens[e].jsxRole=ln.KeyAfterPropSpread),Xc(he.ObjectKey),S(u.eq)&&(Xt(),Rv())}const r=S(u.slash);return r&&Xt(),r}function Iv(){S(u.jsxTagEnd)||Yc()}function Zc(){const e=h.tokens.length-1;h.tokens[e].jsxRole=ln.NoChildren;let t=0;if(!Dv(e))for(On();;)switch(h.type){case u.jsxTagStart:if(Xt(),S(u.slash)){Xt(),Iv(),h.tokens[e].jsxRole!==ln.KeyAfterPropSpread&&(t===1?h.tokens[e].jsxRole=ln.OneChild:t>1&&(h.tokens[e].jsxRole=ln.StaticChildren));return}t++,Zc(),On();break;case u.jsxText:t++,On();break;case u.jsxEmptyText:On();break;case u.braceL:G(),S(u.ellipsis)?(Ov(),On(),t+=2):(S(u.braceR)||(t++,xt()),On());break;default:ye();return}}function $c(){Xt(),Zc()}function Xt(){h.tokens.push(new gi),Rc(),h.start=h.pos;const e=Y.charCodeAt(h.pos);if(vi[e])Cv();else if(e===A.quotationMark||e===A.apostrophe)Av(e);else switch(++h.pos,e){case A.greaterThan:me(u.jsxTagEnd);break;case A.lessThan:me(u.jsxTagStart);break;case A.slash:me(u.slash);break;case A.equalsTo:me(u.eq);break;case A.leftCurlyBrace:me(u.braceL);break;case A.dot:me(u.dot);break;case A.colon:me(u.colon);break;default:ye()}}function On(){h.tokens.push(new gi),h.start=h.pos,Pv()}function Lv(e){if(S(u.question)){const t=st();if(t===u.colon||t===u.comma||t===u.parenR)return}Qc(e)}function Fv(){kc(u.question),S(u.colon)&&(Ce?to():Be&&wn())}class Mv{constructor(t){this.stop=t}}function xt(e=!1){if(Pt(e),S(u.comma))for(;D(u.comma);)Pt(e)}function Pt(e=!1,t=!1){return Ce?bv(e,t):Be?Hg(e,t):pr(e,t)}function pr(e,t){if(S(u._yield))return Kv(),!1;(S(u.parenL)||S(u.name)||S(u._yield))&&(h.potentialArrowAt=h.start);const r=Bv(e);return t&&$a(),h.type&u.IS_ASSIGN?(G(),Pt(e),!1):r}function Bv(e){return Nv(e)?!0:(Uv(e),!1)}function Uv(e){Ce||Be?Lv(e):Qc(e)}function Qc(e){D(u.question)&&(Pt(),N(u.colon),Pt(e))}function Nv(e){const t=h.tokens.length;return ro()?!0:(Mo(t,-1,e),!1)}function Mo(e,t,r){if(Ce&&(u._in&u.PRECEDENCE_MASK)>t&&!It()&&(mt(x._as)||mt(x._satisfies))){const s=be(1);ot(),we(s),Dc(),Mo(e,t,r);return}const n=h.type&u.PRECEDENCE_MASK;if(n>0&&(!r||!S(u._in))&&n>t){const s=h.type;G(),s===u.nullishCoalescing&&(h.tokens[h.tokens.length-1].nullishStartIndex=e);const o=h.tokens.length;ro(),Mo(o,s&u.IS_RIGHT_ASSOCIATIVE?n-1:n,r),s===u.nullishCoalescing&&(h.tokens[e].numNullishCoalesceStarts++,h.tokens[h.tokens.length-1].numNullishCoalesceEnds++),Mo(e,t,r)}}function ro(){if(Ce&&!di&&D(u.lessThan))return Yd(),!1;if(ie(x._module)&&Pc()===A.leftCurlyBrace&&!Sc())return Jv(),!1;if(h.type&u.IS_PREFIX)return G(),ro(),!1;if(Kc())return!0;for(;h.type&u.IS_POSTFIX&&!Nt();)h.type===u.preIncDec&&(h.type=u.postIncDec),G();return!1}function Kc(){const e=h.tokens.length;return Cr()?!0:(Xa(e),h.tokens.length>e&&h.tokens[e].isOptionalChainStart&&(h.tokens[h.tokens.length-1].isOptionalChainEnd=!0),!1)}function Xa(e,t=!1){Be?Vg(e,t):Jc(e,t)}function Jc(e,t=!1){const r=new Mv(!1);do Gv(e,t,r);while(!r.stop&&!h.error)}function Gv(e,t,r){Ce?av(e,t,r):Be?Eg(e,t,r):Ya(e,t,r)}function Ya(e,t,r){if(!t&&D(u.doubleColon))Za(),r.stop=!0,Xa(e,t);else if(S(u.questionDot)){if(h.tokens[e].isOptionalChainStart=!0,t&&st()===u.parenL){r.stop=!0;return}G(),h.tokens[h.tokens.length-1].subscriptStartIndex=e,D(u.bracketL)?(xt(),N(u.bracketR)):D(u.parenL)?Yr():Yo()}else if(D(u.dot))h.tokens[h.tokens.length-1].subscriptStartIndex=e,Yo();else if(D(u.bracketL))h.tokens[h.tokens.length-1].subscriptStartIndex=e,xt(),N(u.bracketR);else if(!t&&S(u.parenL))if(el()){const n=h.snapshot(),s=h.tokens.length;G(),h.tokens[h.tokens.length-1].subscriptStartIndex=e;const o=Ns();h.tokens[h.tokens.length-1].contextId=o,Yr(),h.tokens[h.tokens.length-1].contextId=o,Hv()&&(h.restoreFromSnapshot(n),r.stop=!0,h.scopeDepth++,Xn(),Wv(s))}else{G(),h.tokens[h.tokens.length-1].subscriptStartIndex=e;const n=Ns();h.tokens[h.tokens.length-1].contextId=n,Yr(),h.tokens[h.tokens.length-1].contextId=n}else S(u.backQuote)?Qa():r.stop=!0}function el(){return h.tokens[h.tokens.length-1].contextualKeyword===x._async&&!Nt()}function Yr(){let e=!0;for(;!D(u.parenR)&&!h.error;){if(e)e=!1;else if(N(u.comma),D(u.parenR))break;sl(!1)}}function Hv(){return S(u.colon)||S(u.arrow)}function Wv(e){Ce?_v():Be&&Gg(),N(u.arrow),Ws(e)}function Za(){const e=h.tokens.length;Cr(),Xa(e,!0)}function Cr(){if(D(u.modulo))return pe(),!1;if(S(u.jsxText)||S(u.jsxEmptyText))return Un(),!1;if(S(u.lessThan)&&di)return h.type=u.jsxTagStart,$c(),G(),!1;const e=h.potentialArrowAt===h.start;switch(h.type){case u.slash:case u.assign:Hh();case u._super:case u._this:case u.regexp:case u.num:case u.bigint:case u.decimal:case u.string:case u._null:case u._true:case u._false:return G(),!1;case u._import:return G(),S(u.dot)&&(h.tokens[h.tokens.length-1].type=u.name,G(),pe()),!1;case u.name:{const t=h.tokens.length,r=h.start,n=h.contextualKeyword;return pe(),n===x._await?(Qv(),!1):n===x._async&&S(u._function)&&!Nt()?(G(),hn(r,!1),!1):e&&n===x._async&&!Nt()&&S(u.name)?(h.scopeDepth++,en(!1),N(u.arrow),Ws(t),!0):S(u._do)&&!Nt()?(G(),Zr(),!1):e&&!Nt()&&S(u.arrow)?(h.scopeDepth++,Ga(!1),N(u.arrow),Ws(t),!0):(h.tokens[h.tokens.length-1].identifierRole=he.Access,!1)}case u._do:return G(),Zr(),!1;case u.parenL:return tl(e);case u.bracketL:return G(),nl(u.bracketR,!0),!1;case u.braceL:return Ka(!1,!1),!1;case u._function:return Vv(),!1;case u.at:a1();case u._class:return dn(!1),!1;case u._new:return jv(),!1;case u.backQuote:return Qa(),!1;case u.doubleColon:return G(),Za(),!1;case u.hash:{const t=Pc();return vi[t]||t===A.backslash?Yo():G(),!1}default:return ye(),!1}}function Yo(){D(u.hash),pe()}function Vv(){const e=h.start;pe(),D(u.dot)&&pe(),hn(e,!1)}function Un(){G()}function _i(){N(u.parenL),xt(),N(u.parenR)}function tl(e){const t=h.snapshot(),r=h.tokens.length;N(u.parenL);let n=!0;for(;!S(u.parenR)&&!h.error;){if(n)n=!1;else if(N(u.comma),S(u.parenR))break;if(S(u.ellipsis)){Bc(!1),$a();break}else Pt(!1,!0)}return N(u.parenR),e&&qv()&&_a()?(h.restoreFromSnapshot(t),h.scopeDepth++,Xn(),_a(),Ws(r),h.error?(h.restoreFromSnapshot(t),tl(!1),!1):!0):!1}function qv(){return S(u.colon)||!Nt()}function _a(){return Ce?Tv():Be?Wg():D(u.arrow)}function $a(){(Ce||Be)&&Fv()}function jv(){if(N(u._new),D(u.dot)){pe();return}zv(),Be&&Tg(),D(u.parenL)&&nl(u.parenR)}function zv(){Za(),D(u.questionDot)}function Qa(){for(qr(),qr();!S(u.backQuote)&&!h.error;)N(u.dollarBraceL),xt(),qr(),qr();G()}function Ka(e,t){const r=Ns();let n=!0;for(G(),h.tokens[h.tokens.length-1].contextId=r;!D(u.braceR)&&!h.error;){if(n)n=!1;else if(N(u.comma),D(u.braceR))break;let s=!1;if(S(u.ellipsis)){const o=h.tokens.length;if(Mc(),e&&(h.tokens.length===o+2&&Ga(t),D(u.braceR)))break;continue}e||(s=D(u.star)),!e&&ie(x._async)?(s&&ye(),pe(),S(u.colon)||S(u.parenL)||S(u.braceR)||S(u.eq)||S(u.comma)||(S(u.star)&&(G(),s=!0),Hs(r))):Hs(r),$v(e,t,r)}h.tokens[h.tokens.length-1].contextId=r}function Xv(e){return!e&&(S(u.string)||S(u.num)||S(u.bracketL)||S(u.name)||!!(h.type&u.IS_KEYWORD))}function Yv(e,t){const r=h.start;return S(u.parenL)?(e&&ye(),ba(r,!1),!0):Xv(e)?(Hs(t),ba(r,!1),!0):!1}function Zv(e,t){if(D(u.colon)){e?zo(t):Pt(!1);return}let r;e?h.scopeDepth===0?r=he.ObjectShorthandTopLevelDeclaration:t?r=he.ObjectShorthandBlockScopedDeclaration:r=he.ObjectShorthandFunctionScopedDeclaration:r=he.ObjectShorthand,h.tokens[h.tokens.length-1].identifierRole=r,zo(t,!0)}function $v(e,t,r){Ce?mv():Be&&Lg(),Yv(e,r)||Zv(e,t)}function Hs(e){Be&&i1(),D(u.bracketL)?(h.tokens[h.tokens.length-1].contextId=e,Pt(),N(u.bracketR),h.tokens[h.tokens.length-1].contextId=e):(S(u.num)||S(u.string)||S(u.bigint)||S(u.decimal)?Cr():Yo(),h.tokens[h.tokens.length-1].identifierRole=he.ObjectKey,h.tokens[h.tokens.length-1].contextId=e)}function ba(e,t){const r=Ns();h.scopeDepth++;const n=h.tokens.length;Xn(t,r),rl(e,r);const o=h.tokens.length;h.scopes.push(new dr(n,o,!0)),h.scopeDepth--}function Ws(e){no(!0);const t=h.tokens.length;h.scopes.push(new dr(e,t,!0)),h.scopeDepth--}function rl(e,t=0){Ce?iv(e,t):Be?Sg(t):no(!1,t)}function no(e,t=0){e&&!S(u.braceL)?Pt():Zr(!0,t)}function nl(e,t=!1){let r=!0;for(;!D(e)&&!h.error;){if(r)r=!1;else if(N(u.comma),D(e))break;sl(t)}}function sl(e){e&&S(u.comma)||(S(u.ellipsis)?(Mc(),$a()):S(u.question)?G():Pt(!1,!0))}function pe(){G(),h.tokens[h.tokens.length-1].type=u.name}function Qv(){ro()}function Kv(){G(),!S(u.semi)&&!Nt()&&(D(u.star),Pt())}function Jv(){lt(x._module),N(u.braceL),Si(u.braceR)}function eg(e){return(e.type===u.name||!!(e.type&u.IS_KEYWORD))&&e.contextualKeyword!==x._from}function gr(e){const t=be(0);N(e||u.colon),Mt(),we(t)}function uu(){N(u.modulo),lt(x._checks),D(u.parenL)&&(xt(),N(u.parenR))}function Ja(){const e=be(0);N(u.colon),S(u.modulo)?uu():(Mt(),S(u.modulo)&&uu()),we(e)}function tg(){G(),e1(!0)}function rg(){G(),pe(),S(u.lessThan)&&nr(),N(u.parenL),Ea(),N(u.parenR),Ja(),$e()}function Sa(){S(u._class)?tg():S(u._function)?rg():S(u._var)?ng():mt(x._module)?D(u.dot)?ig():sg():ie(x._type)?ag():ie(x._opaque)?ug():ie(x._interface)?cg():S(u._export)?og():ye()}function ng(){G(),ul(),$e()}function sg(){for(S(u.string)?Cr():pe(),N(u.braceL);!S(u.braceR)&&!h.error;)S(u._import)?(G(),yl()):ye();N(u.braceR)}function og(){N(u._export),D(u._default)?S(u._function)||S(u._class)?Sa():(Mt(),$e()):S(u._var)||S(u._function)||S(u._class)||ie(x._opaque)?Sa():S(u.star)||S(u.braceL)||ie(x._interface)||ie(x._type)||ie(x._opaque)?gl():ye()}function ig(){lt(x._exports),wn(),$e()}function ag(){G(),r1()}function ug(){G(),n1(!0)}function cg(){G(),e1()}function e1(e=!1){if(bi(),S(u.lessThan)&&nr(),D(u._extends))do Bo();while(!e&&D(u.comma));if(ie(x._mixins)){G();do Bo();while(D(u.comma))}if(ie(x._implements)){G();do Bo();while(D(u.comma))}Zo(e,!1,e)}function Bo(){ol(!1),S(u.lessThan)&&pn()}function t1(){e1()}function bi(){pe()}function r1(){bi(),S(u.lessThan)&&nr(),gr(u.eq),$e()}function n1(e){lt(x._type),bi(),S(u.lessThan)&&nr(),S(u.colon)&&gr(u.colon),e||gr(u.eq),$e()}function lg(){i1(),ul(),D(u.eq)&&Mt()}function nr(){const e=be(0);S(u.lessThan)||S(u.typeParameterStart)?G():ye();do lg(),S(u.greaterThan)||N(u.comma);while(!S(u.greaterThan)&&!h.error);N(u.greaterThan),we(e)}function pn(){const e=be(0);for(N(u.lessThan);!S(u.greaterThan)&&!h.error;)Mt(),S(u.greaterThan)||N(u.comma);N(u.greaterThan),we(e)}function fg(){if(lt(x._interface),D(u._extends))do Bo();while(D(u.comma));Zo(!1,!1,!1)}function s1(){S(u.num)||S(u.string)?Cr():pe()}function pg(){st()===u.colon?(s1(),gr()):Mt(),N(u.bracketR),gr()}function hg(){s1(),N(u.bracketR),N(u.bracketR),S(u.lessThan)||S(u.parenL)?o1():(D(u.question),gr())}function o1(){for(S(u.lessThan)&&nr(),N(u.parenL);!S(u.parenR)&&!S(u.ellipsis)&&!h.error;)$o(),S(u.parenR)||N(u.comma);D(u.ellipsis)&&$o(),N(u.parenR),gr()}function dg(){o1()}function Zo(e,t,r){let n;for(t&&S(u.braceBarL)?(N(u.braceBarL),n=u.braceBarR):(N(u.braceL),n=u.braceR);!S(n)&&!h.error;){if(r&&ie(x._proto)){const s=st();s!==u.colon&&s!==u.question&&(G(),e=!1)}if(e&&ie(x._static)){const s=st();s!==u.colon&&s!==u.question&&G()}if(i1(),D(u.bracketL))D(u.bracketL)?hg():pg();else if(S(u.parenL)||S(u.lessThan))dg();else{if(ie(x._get)||ie(x._set)){const s=st();(s===u.name||s===u.string||s===u.num)&&G()}vg()}gg()}N(n)}function vg(){if(S(u.ellipsis)){if(N(u.ellipsis),D(u.comma)||D(u.semi),S(u.braceR))return;Mt()}else s1(),S(u.lessThan)||S(u.parenL)?o1():(D(u.question),gr())}function gg(){!D(u.semi)&&!D(u.comma)&&!S(u.braceR)&&!S(u.braceBarR)&&ye()}function ol(e){for(e||pe();D(u.dot);)pe()}function mg(){ol(!0),S(u.lessThan)&&pn()}function yg(){N(u._typeof),il()}function wg(){for(N(u.bracketL);h.pos<Y.length&&!S(u.bracketR)&&(Mt(),!S(u.bracketR));)N(u.comma);N(u.bracketR)}function $o(){const e=st();e===u.colon||e===u.question?(pe(),D(u.question),gr()):Mt()}function Ea(){for(;!S(u.parenR)&&!S(u.ellipsis)&&!h.error;)$o(),S(u.parenR)||N(u.comma);D(u.ellipsis)&&$o()}function il(){let e=!1;const t=h.noAnonFunctionType;switch(h.type){case u.name:{if(ie(x._interface)){fg();return}pe(),mg();return}case u.braceL:Zo(!1,!1,!1);return;case u.braceBarL:Zo(!1,!0,!1);return;case u.bracketL:wg();return;case u.lessThan:nr(),N(u.parenL),Ea(),N(u.parenR),N(u.arrow),Mt();return;case u.parenL:if(G(),!S(u.parenR)&&!S(u.ellipsis))if(S(u.name)){const r=st();e=r!==u.question&&r!==u.colon}else e=!0;if(e)if(h.noAnonFunctionType=!1,Mt(),h.noAnonFunctionType=t,h.noAnonFunctionType||!(S(u.comma)||S(u.parenR)&&st()===u.arrow)){N(u.parenR);return}else D(u.comma);Ea(),N(u.parenR),N(u.arrow),Mt();return;case u.minus:G(),Un();return;case u.string:case u.num:case u._true:case u._false:case u._null:case u._this:case u._void:case u.star:G();return;default:if(h.type===u._typeof){yg();return}else if(h.type&u.IS_KEYWORD){G(),h.tokens[h.tokens.length-1].type=u.name;return}}ye()}function _g(){for(il();!Nt()&&(S(u.bracketL)||S(u.questionDot));)D(u.questionDot),N(u.bracketL),D(u.bracketR)||(Mt(),N(u.bracketR))}function al(){D(u.question)?al():_g()}function cu(){al(),!h.noAnonFunctionType&&D(u.arrow)&&Mt()}function lu(){for(D(u.bitwiseAND),cu();D(u.bitwiseAND);)cu()}function bg(){for(D(u.bitwiseOR),lu();D(u.bitwiseOR);)lu()}function Mt(){bg()}function wn(){gr()}function ul(){pe(),S(u.colon)&&wn()}function i1(){(S(u.plus)||S(u.minus))&&(G(),h.tokens[h.tokens.length-1].isType=!0)}function Sg(e){S(u.colon)&&Ja(),no(!1,e)}function Eg(e,t,r){if(S(u.questionDot)&&st()===u.lessThan){if(t){r.stop=!0;return}G(),pn(),N(u.parenL),Yr();return}else if(!t&&S(u.lessThan)){const n=h.snapshot();if(pn(),N(u.parenL),Yr(),h.error)h.restoreFromSnapshot(n);else return}Ya(e,t,r)}function Tg(){if(S(u.lessThan)){const e=h.snapshot();pn(),h.error&&h.restoreFromSnapshot(e)}}function kg(){if(S(u.name)&&h.contextualKeyword===x._interface){const e=be(0);return G(),t1(),we(e),!0}else if(ie(x._enum))return cl(),!0;return!1}function xg(){return ie(x._enum)?(cl(),!0):!1}function Pg(e){if(e===x._declare){if(S(u._class)||S(u.name)||S(u._function)||S(u._var)||S(u._export)){const t=be(1);Sa(),we(t)}}else if(S(u.name)){if(e===x._interface){const t=be(1);t1(),we(t)}else if(e===x._type){const t=be(1);r1(),we(t)}else if(e===x._opaque){const t=be(1);n1(!1),we(t)}}$e()}function Ag(){return ie(x._type)||ie(x._interface)||ie(x._opaque)||ie(x._enum)}function Cg(){return S(u.name)&&(h.contextualKeyword===x._type||h.contextualKeyword===x._interface||h.contextualKeyword===x._opaque||h.contextualKeyword===x._enum)}function Rg(){if(ie(x._type)){const e=be(1);G(),S(u.braceL)?(u1(),Vs()):r1(),we(e)}else if(ie(x._opaque)){const e=be(1);G(),n1(!1),we(e)}else if(ie(x._interface)){const e=be(1);G(),t1(),we(e)}else Wt(!0)}function Og(){return S(u.star)||ie(x._type)&&st()===u.star}function Dg(){if(mt(x._type)){const e=be(2);Ta(),we(e)}else Ta()}function Ig(e){if(e&&S(u.lessThan)&&pn(),ie(x._implements)){const t=be(0);G(),h.tokens[h.tokens.length-1].type=u._implements;do bi(),S(u.lessThan)&&pn();while(D(u.comma));we(t)}}function Lg(){S(u.lessThan)&&(nr(),S(u.parenL)||ye())}function Fg(){const e=be(0);D(u.question),S(u.colon)&&wn(),we(e)}function Mg(){if(S(u._typeof)||ie(x._type)){const e=Js();(eg(e)||e.type===u.braceL||e.type===u.star)&&G()}}function Bg(){const e=h.contextualKeyword===x._type||h.type===u._typeof;e?G():pe(),ie(x._as)&&!Ua(x._as)?(pe(),e&&!S(u.name)&&!(h.type&u.IS_KEYWORD)||pe()):(e&&(S(u.name)||h.type&u.IS_KEYWORD)&&pe(),mt(x._as)&&pe())}function Ug(){if(S(u.lessThan)){const e=be(0);nr(),we(e)}}function Ng(){S(u.colon)&&wn()}function Gg(){if(S(u.colon)){const e=h.noAnonFunctionType;h.noAnonFunctionType=!0,wn(),h.noAnonFunctionType=e}}function Hg(e,t){if(S(u.lessThan)){const r=h.snapshot();let n=pr(e,t);if(h.error)h.restoreFromSnapshot(r),h.type=u.typeParameterStart;else return n;const s=be(0);if(nr(),we(s),n=pr(e,t),n)return!0;ye()}return pr(e,t)}function Wg(){if(S(u.colon)){const e=be(0),t=h.snapshot(),r=h.noAnonFunctionType;h.noAnonFunctionType=!0,Ja(),h.noAnonFunctionType=r,Nt()&&ye(),S(u.arrow)||ye(),h.error&&h.restoreFromSnapshot(t),we(e)}return D(u.arrow)}function Vg(e,t=!1){if(h.tokens[h.tokens.length-1].contextualKeyword===x._async&&S(u.lessThan)){const r=h.snapshot();if(qg()&&!h.error)return;h.restoreFromSnapshot(r)}Jc(e,t)}function qg(){h.scopeDepth++;const e=h.tokens.length;return Xn(),_a()?(Ws(e),!0):!1}function cl(){lt(x._enum),h.tokens[h.tokens.length-1].type=u._enum,pe(),jg()}function jg(){mt(x._of)&&G(),N(u.braceL),zg(),N(u.braceR)}function zg(){for(;!S(u.braceR)&&!h.error&&!D(u.ellipsis);)Xg(),S(u.braceR)||N(u.comma)}function Xg(){pe(),D(u.eq)&&G()}function Yg(){if(Si(u.eof),h.scopes.push(new dr(0,h.tokens.length,!0)),h.scopeDepth!==0)throw new Error(`Invalid scope depth at end of file: ${h.scopeDepth}`);return new Lm(h.tokens,h.scopes)}function Wt(e){Be&&kg()||(S(u.at)&&a1(),Zg(e))}function Zg(e){if(Ce&&pv())return;const t=h.type;switch(t){case u._break:case u._continue:Qg();return;case u._debugger:Kg();return;case u._do:Jg();return;case u._for:em();return;case u._function:if(st()===u.dot)break;e||ye(),nm();return;case u._class:e||ye(),dn(!0);return;case u._if:sm();return;case u._return:om();return;case u._switch:im();return;case u._throw:am();return;case u._try:cm();return;case u._let:case u._const:e||ye();case u._var:Uo(t!==u._var);return;case u._while:lm();return;case u.braceL:Zr();return;case u.semi:fm();return;case u._export:case u._import:{const s=st();if(s===u.parenL||s===u.dot)break;G(),t===u._import?yl():gl();return}case u.name:if(h.contextualKeyword===x._async){const s=h.start,o=h.snapshot();if(G(),S(u._function)&&!Nt()){N(u._function),hn(s,!0);return}else h.restoreFromSnapshot(o)}else if(h.contextualKeyword===x._using&&!Sc()&&st()===u.name){Uo(!0);return}else if(ll()){lt(x._await),Uo(!0);return}}const r=h.tokens.length;xt();let n=null;if(h.tokens.length===r+1){const s=h.tokens[h.tokens.length-1];s.type===u.name&&(n=s.contextualKeyword)}if(n==null){$e();return}D(u.colon)?pm():hm(n)}function ll(){if(!ie(x._await))return!1;const e=h.snapshot();return G(),!ie(x._using)||It()||(G(),!S(u.name)||It())?(h.restoreFromSnapshot(e),!1):(h.restoreFromSnapshot(e),!0)}function a1(){for(;S(u.at);)fl()}function fl(){if(G(),D(u.parenL))xt(),N(u.parenR);else{for(pe();D(u.dot);)pe();$g()}}function $g(){Ce?xv():pl()}function pl(){D(u.parenL)&&Yr()}function Qg(){G(),ur()||(pe(),$e())}function Kg(){G(),$e()}function Jg(){G(),Wt(!1),N(u._while),_i(),D(u.semi)}function em(){h.scopeDepth++;const e=h.tokens.length;rm();const t=h.tokens.length;h.scopes.push(new dr(e,t,!1)),h.scopeDepth--}function tm(){return!(!ie(x._using)||Ua(x._of))}function rm(){G();let e=!1;if(ie(x._await)&&(e=!0,G()),N(u.parenL),S(u.semi)){e&&ye(),Ki();return}const t=ll();if(t||S(u._var)||S(u._let)||S(u._const)||tm()){if(t&&lt(x._await),G(),hl(!0,h.type!==u._var),S(u._in)||ie(x._of)){fu(e);return}Ki();return}if(xt(!0),S(u._in)||ie(x._of)){fu(e);return}e&&ye(),Ki()}function nm(){const e=h.start;G(),hn(e,!0)}function sm(){G(),_i(),Wt(!1),D(u._else)&&Wt(!1)}function om(){G(),ur()||(xt(),$e())}function im(){G(),_i(),h.scopeDepth++;const e=h.tokens.length;for(N(u.braceL);!S(u.braceR)&&!h.error;)if(S(u._case)||S(u._default)){const r=S(u._case);G(),r&&xt(),N(u.colon)}else Wt(!0);G();const t=h.tokens.length;h.scopes.push(new dr(e,t,!1)),h.scopeDepth--}function am(){G(),xt(),$e()}function um(){mi(!0),Ce&&jn()}function cm(){if(G(),Zr(),S(u._catch)){G();let e=null;if(S(u.parenL)&&(h.scopeDepth++,e=h.tokens.length,N(u.parenL),um(),N(u.parenR)),Zr(),e!=null){const t=h.tokens.length;h.scopes.push(new dr(e,t,!1)),h.scopeDepth--}}D(u._finally)&&Zr()}function Uo(e){G(),hl(!1,e),$e()}function lm(){G(),_i(),Wt(!1)}function fm(){G()}function pm(){Wt(!0)}function hm(e){Ce?dv(e):Be?Pg(e):$e()}function Zr(e=!1,t=0){const r=h.tokens.length;h.scopeDepth++,N(u.braceL),t&&(h.tokens[h.tokens.length-1].contextId=t),Si(u.braceR),t&&(h.tokens[h.tokens.length-1].contextId=t);const n=h.tokens.length;h.scopes.push(new dr(r,n,e)),h.scopeDepth--}function Si(e){for(;!D(e)&&!h.error;)Wt(!0)}function Ki(){N(u.semi),S(u.semi)||xt(),N(u.semi),S(u.parenR)||xt(),N(u.parenR),Wt(!1)}function fu(e){e?mt(x._of):G(),xt(),N(u.parenR),Wt(!1)}function hl(e,t){for(;;){if(dm(t),D(u.eq)){const r=h.tokens.length-1;Pt(e),h.tokens[r].rhsEndIndex=h.tokens.length}if(!D(u.comma))break}}function dm(e){mi(e),Ce?wv():Be&&Ng()}function hn(e,t,r=!1){S(u.star)&&G(),t&&!r&&!S(u.name)&&!S(u._yield)&&ye();let n=null;S(u.name)&&(t||(n=h.tokens.length,h.scopeDepth++),en(!1));const s=h.tokens.length;h.scopeDepth++,Xn(),rl(e);const o=h.tokens.length;h.scopes.push(new dr(s,o,!0)),h.scopeDepth--,n!==null&&(h.scopes.push(new dr(n,o,!0)),h.scopeDepth--)}function Xn(e=!1,t=0){Ce?yv():Be&&Ug(),N(u.parenL),t&&(h.tokens[h.tokens.length-1].contextId=t),Ha(u.parenR,!1,!1,e,t),t&&(h.tokens[h.tokens.length-1].contextId=t)}function dn(e,t=!1){const r=Ns();G(),h.tokens[h.tokens.length-1].contextId=r,h.tokens[h.tokens.length-1].isExpression=!e;let n=null;e||(n=h.tokens.length,h.scopeDepth++),ym(e,t),wm();const s=h.tokens.length;if(vm(r),!h.error&&(h.tokens[s].contextId=r,h.tokens[h.tokens.length-1].contextId=r,n!==null)){const o=h.tokens.length;h.scopes.push(new dr(n,o,!1)),h.scopeDepth--}}function dl(){return S(u.eq)||S(u.semi)||S(u.braceR)||S(u.bang)||S(u.colon)}function vl(){return S(u.parenL)||S(u.lessThan)}function vm(e){for(N(u.braceL);!D(u.braceR)&&!h.error;){if(D(u.semi))continue;if(S(u.at)){fl();continue}const t=h.start;gm(t,e)}}function gm(e,t){Ce&&Wa([x._declare,x._public,x._protected,x._private,x._override]);let r=!1;if(S(u.name)&&h.contextualKeyword===x._static){if(pe(),vl()){Ds(e,!1);return}else if(dl()){No();return}if(h.tokens[h.tokens.length-1].type=u._static,r=!0,S(u.braceL)){h.tokens[h.tokens.length-1].contextId=t,Zr();return}}mm(e,r,t)}function mm(e,t,r){if(Ce&&hv(t))return;if(D(u.star)){Rs(r),Ds(e,!1);return}Rs(r);let n=!1;const s=h.tokens[h.tokens.length-1];s.contextualKeyword===x._constructor&&(n=!0),pu(),vl()?Ds(e,n):dl()?No():s.contextualKeyword===x._async&&!ur()?(h.tokens[h.tokens.length-1].type=u._async,S(u.star)&&G(),Rs(r),pu(),Ds(e,!1)):(s.contextualKeyword===x._get||s.contextualKeyword===x._set)&&!(ur()&&S(u.star))?(s.contextualKeyword===x._get?h.tokens[h.tokens.length-1].type=u._get:h.tokens[h.tokens.length-1].type=u._set,Rs(r),Ds(e,!1)):s.contextualKeyword===x._accessor&&!ur()?(Rs(r),No()):ur()?No():ye()}function Ds(e,t){Ce?yn():Be&&S(u.lessThan)&&nr(),ba(e,t)}function Rs(e){Hs(e)}function pu(){if(Ce){const e=be(0);D(u.question),we(e)}}function No(){if(Ce?(kc(u.bang),jn()):Be&&S(u.colon)&&wn(),S(u.eq)){const e=h.tokens.length;G(),Pt(),h.tokens[e].rhsEndIndex=h.tokens.length}$e()}function ym(e,t=!1){Ce&&(!e||t)&&ie(x._implements)||(S(u.name)&&en(!0),Ce?yn():Be&&S(u.lessThan)&&nr())}function wm(){let e=!1;D(u._extends)?(Kc(),e=!0):e=!1,Ce?gv(e):Be&&Ig(e)}function gl(){const e=h.tokens.length-1;Ce&&uv()||(Em()?Tm():Sm()?(pe(),S(u.comma)&&st()===u.star?(N(u.comma),N(u.star),lt(x._as),pe()):ml(),Vs()):D(u._default)?_m():xm()?bm():(u1(),Vs()),h.tokens[e].rhsEndIndex=h.tokens.length)}function _m(){if(Ce&&fv()||Be&&xg())return;const e=h.start;D(u._function)?hn(e,!0,!0):ie(x._async)&&st()===u._function?(mt(x._async),D(u._function),hn(e,!0,!0)):S(u._class)?dn(!0,!0):S(u.at)?(a1(),dn(!0,!0)):(Pt(),$e())}function bm(){Ce?vv():Be?Rg():Wt(!0)}function Sm(){if(Ce&&zc())return!1;if(Be&&Cg())return!1;if(S(u.name))return h.contextualKeyword!==x._async;if(!S(u._default))return!1;const e=Na(),t=Js(),r=t.type===u.name&&t.contextualKeyword===x._from;if(t.type===u.comma)return!0;if(r){const n=Y.charCodeAt(xc(e+4));return n===A.quotationMark||n===A.apostrophe}return!1}function ml(){D(u.comma)&&u1()}function Vs(){mt(x._from)&&(Cr(),wl()),$e()}function Em(){return Be?Og():S(u.star)}function Tm(){Be?Dg():Ta()}function Ta(){N(u.star),ie(x._as)?km():Vs()}function km(){G(),h.tokens[h.tokens.length-1].type=u._as,pe(),ml(),Vs()}function xm(){return Ce&&zc()||Be&&Ag()||h.type===u._var||h.type===u._const||h.type===u._let||h.type===u._function||h.type===u._class||ie(x._async)||S(u.at)}function u1(){let e=!0;for(N(u.braceL);!D(u.braceR)&&!h.error;){if(e)e=!1;else if(N(u.comma),D(u.braceR))break;Pm()}}function Pm(){if(Ce){lv();return}pe(),h.tokens[h.tokens.length-1].identifierRole=he.ExportAccess,mt(x._as)&&pe()}function Am(){const e=h.snapshot();return lt(x._module),mt(x._from)?ie(x._from)?(h.restoreFromSnapshot(e),!0):(h.restoreFromSnapshot(e),!1):S(u.comma)?(h.restoreFromSnapshot(e),!1):(h.restoreFromSnapshot(e),!0)}function Cm(){ie(x._module)&&Am()&&G()}function yl(){if(Ce&&S(u.name)&&st()===u.eq){ya();return}if(Ce&&ie(x._type)){const e=Js();if(e.type===u.name&&e.contextualKeyword!==x._from){if(lt(x._type),st()===u.eq){ya();return}}else(e.type===u.star||e.type===u.braceL)&&lt(x._type)}S(u.string)||(Cm(),Om(),lt(x._from)),Cr(),wl(),$e()}function Rm(){return S(u.name)}function hu(){jo()}function Om(){Be&&Mg();let e=!0;if(!(Rm()&&(hu(),!D(u.comma)))){if(S(u.star)){G(),lt(x._as),hu();return}for(N(u.braceL);!D(u.braceR)&&!h.error;){if(e)e=!1;else if(D(u.colon)&&ye("ES2015 named imports do not destructure. Use another statement for destructuring after the import."),N(u.comma),D(u.braceR))break;Dm()}}}function Dm(){if(Ce){cv();return}if(Be){Bg();return}jo(),ie(x._as)&&(h.tokens[h.tokens.length-1].identifierRole=he.ImportAccess,G(),jo())}function wl(){(S(u._with)||ie(x._assert)&&!It())&&(G(),Ka(!1,!1))}function Im(){return h.pos===0&&Y.charCodeAt(0)===A.numberSign&&Y.charCodeAt(1)===A.exclamationMark&&Cc(2),Ac(),Yg()}class Lm{constructor(t,r){this.tokens=t,this.scopes=r}}function cS(e,t,r,n){if(n&&r)throw new Error("Cannot combine flow and typescript plugins.");Uh(e,t,r,n);const s=Im();if(h.error)throw Fh(h.error);return s}var Ji={},du;function Fm(){return du||(du=1,(function(e){e.__esModule=!0,e.LinesAndColumns=void 0;var t=`
`,r="\r",n=(function(){function s(o){this.string=o;for(var c=[0],l=0;l<o.length;)switch(o[l]){case t:l+=t.length,c.push(l);break;case r:l+=r.length,o[l]===t&&(l+=t.length),c.push(l);break;default:l++;break}this.offsets=c}return s.prototype.locationForIndex=function(o){if(o<0||o>this.string.length)return null;for(var c=0,l=this.offsets;l[c+1]<=o;)c++;var f=o-l[c];return{line:c,column:f}},s.prototype.indexForLocation=function(o){var c=o.line,l=o.column;return c<0||c>=this.offsets.length||l<0||l>this.lengthOfLine(c)?null:this.offsets[c]+l},s.prototype.lengthOfLine=function(o){var c=this.offsets[o],l=o===this.offsets.length-1?this.string.length:this.offsets[o+1];return l-c},s})();e.LinesAndColumns=n,e.default=n})(Ji)),Ji}Fm();const ka={library:null},lS=e=>{ka.library=e},J=()=>{if(!ka.library)throw new Error("oppencascade has not been loaded");return ka.library};globalThis.FinalizationRegistry||(console.log("Garbage collection will not work"),globalThis.FinalizationRegistry=()=>({register:()=>null,unregister:()=>null}));const Is=new globalThis.FinalizationRegistry(e=>{try{e.delete()}catch(t){console.error(t)}});class sr{constructor(t){this.oc=J(),t&&Is.register(this,t,t),this._wrapped=t}get wrapped(){if(this._wrapped===null)throw new Error("This object has been deleted");return this._wrapped}set wrapped(t){this._wrapped&&(Is.unregister(this._wrapped),this._wrapped.delete()),Is.register(this,t,t),this._wrapped=t}delete(){var t;Is.unregister(this.wrapped),(t=this.wrapped)==null||t.delete(),this._wrapped=null}}const rt=()=>{function e(t){return Is.register(e,t),t}return e},yt=e=>{const t=new Set;return[r=>(t.add(r),r),()=>{[...t.values()].forEach(r=>r.delete()),t.clear()},void 0]},_l=2147483647,Gt=Math.PI/180,Fn=180/Math.PI,ea=e=>Math.round(e*1e3)/1e3,qs=(e,t,r)=>{const n=J(),s=Yt(e),o=Nn(t);let c;if(r){const l=Nn(r);c=new n.gp_Ax3_3(s,o,l),l.delete()}else c=new n.gp_Ax3_4(s,o);return s.delete(),o.delete(),c},bl=(e,t,r)=>{const n=J(),s=Yt(e),o=Nn(t);let c;if(r){const l=Nn(r);c=new n.gp_Ax2_2(s,o,l),l.delete()}else c=new n.gp_Ax2_3(s,o);return s.delete(),o.delete(),c},Sl=(e,t)=>{const r=J(),n=Yt(e),s=Nn(t),o=new r.gp_Ax1_2(n,s);return n.delete(),s.delete(),o},Mm=(e=[0,0,0])=>{const t=J();if(Array.isArray(e)){if(e.length===3)return new t.gp_Vec_4(...e);if(e.length===2)return new t.gp_Vec_4(...e,0)}else{if(e instanceof ke)return new t.gp_Vec_3(e.wrapped.XYZ());if(e.XYZ)return new t.gp_Vec_3(e.XYZ())}return new t.gp_Vec_4(0,0,0)};class ke extends sr{constructor(t=[0,0,0]){super(Mm(t))}get repr(){return`x: ${ea(this.x)}, y: ${ea(this.y)}, z: ${ea(this.z)}`}get x(){return this.wrapped.X()}get y(){return this.wrapped.Y()}get z(){return this.wrapped.Z()}get Length(){return this.wrapped.Magnitude()}toTuple(){return[this.x,this.y,this.z]}cross(t){return new ke(this.wrapped.Crossed(t.wrapped))}dot(t){return this.wrapped.Dot(t.wrapped)}sub(t){return new ke(this.wrapped.Subtracted(t.wrapped))}add(t){return new ke(this.wrapped.Added(t.wrapped))}multiply(t){return new ke(this.wrapped.Multiplied(t))}normalized(){return new ke(this.wrapped.Normalized())}normalize(){return this.wrapped.Normalize(),this}getCenter(){return this}getAngle(t){return this.wrapped.Angle(t.wrapped)*Fn}projectToPlane(t){const r=t.origin,n=t.zDir,s=this.sub(r),o=n.multiply(s.dot(n)/n.Length**2),c=this.sub(o);return s.delete(),o.delete(),c}equals(t){return this.wrapped.IsEqual(t.wrapped,1e-5,1e-5)}toPnt(){return new this.oc.gp_Pnt_2(this.wrapped.XYZ())}toDir(){return new this.oc.gp_Dir_3(this.wrapped.XYZ())}rotate(t,r=[0,0,0],n=[0,0,1]){const s=Sl(r,n);return this.wrapped.Rotate(s,t*Gt),s.delete(),this}}const Bm={X:[1,0,0],Y:[0,1,0],Z:[0,0,1]};function Um(e){return e==="X"||e==="Y"||e==="Z"?Bm[e]:e}function Yt(e){const t=new ke(e),r=t.toPnt();return t.delete(),r}function Nn(e){const t=new ke(e),r=t.toDir();return t.delete(),r}class Gn extends sr{constructor(t){const r=J();super(t||new r.gp_Trsf_1)}translate(t,r=0,n=0){const s=new ke(typeof t=="number"?[t,r,n]:t);return this.wrapped.SetTranslation_1(s.wrapped),this}rotate(t,r=[0,0,0],n=[0,0,1]){const s=Nn(n),o=Yt(r),c=new this.oc.gp_Ax1_2(o,s);return this.wrapped.SetRotation_1(c,t*Gt),c.delete(),s.delete(),o.delete(),this}mirror(t="YZ",r){const n=rt();let s,o;if(typeof t=="string"){const l=n(El(t,r));s=l.origin,o=l.zDir}else t instanceof Ht?(s=r||t.origin,o=t.zDir):(s=r||[0,0,0],o=t);const c=n(bl(s,o));return this.wrapped.SetMirror_3(c),this}scale(t,r){const n=Yt(t);return this.wrapped.SetScale(n,r),n.delete(),this}coordSystemChange(t,r){const n=rt(),s=n(t==="reference"?new this.oc.gp_Ax3_1:qs(t.origin,t.zDir,t.xDir)),o=n(r==="reference"?new this.oc.gp_Ax3_1:qs(r.origin,r.zDir,r.xDir));return this.wrapped.SetTransformation_1(s,o),this}transformPoint(t){const r=Yt(t),n=r.Transformed(this.wrapped);return r.delete(),n}transform(t){return new this.oc.BRepBuilderAPI_Transform_2(t,this.wrapped,!0).ModifiedShape(t)}}class Ht{constructor(t,r=null,n=[0,0,1]){this.oc=J();const s=new ke(n);if(s.Length===0)throw new Error("normal should be non null");this.zDir=s.normalize();let o;if(r)o=new ke(r);else{const c=qs(t,s);o=new ke(c.XDirection()),c.delete()}if(o.Length===0)throw new Error("xDir should be non null");this.xDir=o.normalize(),this.yDir=this.zDir.cross(this.xDir).normalize(),this.origin=new ke(t)}delete(){this.localToGlobal.delete(),this.xDir.delete(),this.yDir.delete(),this.zDir.delete(),this._origin.delete()}clone(){return new Ht(this.origin,this.xDir,this.zDir)}get origin(){return this._origin}set origin(t){this._origin=t,this._calcTransforms()}translateTo(t){const r=this.clone();return r.origin=new ke(t),r}translate(t,r=0,n=0){const s=new ke(typeof t=="number"?[t,r,n]:t);return this.translateTo(this.origin.add(s))}translateX(t){return this.translate(t,0,0)}translateY(t){return this.translate(0,t,0)}translateZ(t){return this.translate(0,0,t)}pivot(t,r=[1,0,0]){const n=Um(r),s=new ke(this.zDir).rotate(t,[0,0,0],n),o=new ke(this.xDir).rotate(t,[0,0,0],n);return new Ht(this.origin,o,s)}rotate2DAxes(t){const r=new ke(this.xDir).rotate(t,[0,0,0],this.zDir);return new Ht(this.origin,r,this.zDir)}_calcTransforms(){const t=new this.oc.gp_Ax3_1,r=qs(this.origin,this.zDir,this.xDir);new this.oc.gp_Trsf_1().SetTransformation_1(t,r),this.globalToLocal=new Gn,this.globalToLocal.coordSystemChange("reference",{origin:this.origin,zDir:this.zDir,xDir:this.xDir}),this.localToGlobal=new Gn,this.localToGlobal.coordSystemChange({origin:this.origin,zDir:this.zDir,xDir:this.xDir},"reference")}setOrigin2d(t,r){this.origin=this.toWorldCoords([t,r])}toLocalCoords(t){const r=this.globalToLocal.transformPoint(t),n=new ke(r);return r.delete(),n}toWorldCoords(t){const r=this.localToGlobal.transformPoint(t),n=new ke(r);return r.delete(),n}}const Nm={XY:{xDir:[1,0,0],normal:[0,0,1]},YZ:{xDir:[0,1,0],normal:[1,0,0]},ZX:{xDir:[0,0,1],normal:[0,1,0]},XZ:{xDir:[1,0,0],normal:[0,-1,0]},YX:{xDir:[0,1,0],normal:[0,0,-1]},ZY:{xDir:[0,0,1],normal:[-1,0,0]},front:{xDir:[1,0,0],normal:[0,0,1]},back:{xDir:[-1,0,0],normal:[0,0,-1]},left:{xDir:[0,0,1],normal:[-1,0,0]},right:{xDir:[0,0,-1],normal:[1,0,0]},top:{xDir:[1,0,0],normal:[0,1,0]},bottom:{xDir:[1,0,0],normal:[0,-1,0]}},El=(e,t=[0,0,0])=>{const r=Nm[e];if(!r)throw new Error(`Could not find plane ${e}`);let n;return typeof t=="number"?n=r.normal.map(s=>s*t):n=t,new Ht(n,r.xDir,r.normal)};let Gm=class extends sr{constructor(t){const r=J();let n=t;n||(n=new r.Bnd_Box_1),super(n)}get repr(){const[t,r]=this.bounds;return`${new ke(t).repr} - ${new ke(r).repr}`}get bounds(){const t={current:0},r={current:0},n={current:0},s={current:0},o={current:0},c={current:0};return this.wrapped.Get(t,r,n,s,o,c),[[t.current,r.current,n.current],[s.current,o.current,c.current]]}get center(){const[[t,r,n],[s,o,c]]=this.bounds;return[t+(s-t)/2,r+(o-r)/2,n+(c-n)/2]}get width(){const[[t],[r]]=this.bounds;return Math.abs(r-t)}get height(){const[[,t],[,r]]=this.bounds;return Math.abs(r-t)}get depth(){const[[,,t],[,,r]]=this.bounds;return Math.abs(r-t)}add(t){this.wrapped.Add_1(t.wrapped)}isOut(t){return this.wrapped.IsOut_4(t.wrapped)}};function Hn(e="XY",t=[0,0,0]){return e instanceof Ht?e.clone():El(e,t)}function Hm(e,t,r=[0,0,0],n=[0,0,1]){const s=new Gn;s.rotate(t,r,n);const o=s.transform(e);return s.delete(),o}function Wm(e,t){const r=new Gn;r.translate(t);const n=r.transform(e);return r.delete(),n}function Vm(e,t,r){const n=new Gn;n.mirror(t,r);const s=n.transform(e);return n.delete(),s}function qm(e,t,r){const n=new Gn;n.scale(t,r);const s=n.transform(e);return n.delete(),s}function js(e){return Array.isArray(e)&&e.length===2}let Co=null;const vu=e=>{if(Co&&!e)return Co;const r=J().GeomAbs_CurveType;return Co=new Map([[r.GeomAbs_Line,"LINE"],[r.GeomAbs_Circle,"CIRCLE"],[r.GeomAbs_Ellipse,"ELLIPSE"],[r.GeomAbs_Hyperbola,"HYPERBOLA"],[r.GeomAbs_Parabola,"PARABOLA"],[r.GeomAbs_BezierCurve,"BEZIER_CURVE"],[r.GeomAbs_BSplineCurve,"BSPLINE_CURVE"],[r.GeomAbs_OffsetCurve,"OFFSET_CURVE"],[r.GeomAbs_OtherCurve,"OTHER_CURVE"]]),Co},so=e=>{let t=vu().get(e);if(t||(t=vu(!0).get(e)),!t)throw new Error("unknown type");return t};function jm(e,t){const r=Math.pow(10,t),n=t<0?e:.01/r+e;return Math.round(n*r)/r}function zm(e){return Array.from(Array(e).keys())}function Mn(e){const t=Math.min(...e.map(r=>r.length));return zm(t).map(r=>e.map(n=>n[r]))}function Qo(e){return Math.round(e*100)/100}const Bs=([e,t])=>`(${Qo(e)},${Qo(t)})`,gu=(e,t=1e-9)=>{let r=e;return Math.abs(e)<t&&(r=0),r.toFixed(-Math.log10(t))},Tl=(e,t=1e-9)=>Array.from(new Map(e.map(([r,n])=>[`[${gu(r,t)},${gu(n,t)}]`,[r,n]])).values()),kt=([e,t])=>{const r=J();return new r.gp_Pnt2d_3(e,t)},Xm=([e,t])=>{const r=J();return new r.gp_Dir2d_4(e,t)},kl=([e,t])=>{const r=J();return new r.gp_Vec2d_4(e,t)},Wn=(e,t)=>{const r=J(),[n,s]=yt(),o=new r.gp_Ax2d_2(n(kt(e)),n(Xm(t)));return s(),o};class oo extends sr{constructor(t){const r=J();let n=t;n||(n=new r.Bnd_Box2d),super(n)}get repr(){const[t,r]=this.bounds;return`${Bs(t)} - ${Bs(r)}`}get bounds(){const t={current:0},r={current:0},n={current:0},s={current:0};return this.wrapped.Get(t,r,n,s),[[t.current,r.current],[n.current,s.current]]}get center(){const[[t,r],[n,s]]=this.bounds;return[t+(n-t)/2,r+(s-r)/2]}get width(){const[[t],[r]]=this.bounds;return Math.abs(r-t)}get height(){const[[,t],[,r]]=this.bounds;return Math.abs(r-t)}outsidePoint(t=1){const[r,n]=this.bounds,s=n[0]-r[0],o=n[1]-r[1];return[n[0]+s/100*t,n[1]+o/100*t*.9]}add(t){this.wrapped.Add_1(t.wrapped)}isOut(t){return this.wrapped.IsOut_4(t.wrapped)}containsPoint(t){const n=rt()(kt(t));return!this.wrapped.IsOut_1(n)}}const Ot=([e,t],[r,n],s=1e-6)=>Math.abs(e-r)<=s&&Math.abs(t-n)<=s,vn=([e,t],[r,n])=>[e+r,t+n],Ei=([e,t],[r,n])=>[e-r,t-n],xa=([e,t],r)=>[e*r,t*r],cr=([e,t],[r,n]=[0,0])=>Math.sqrt((e-r)**2+(t-n)**2),Ym=([e,t],[r,n]=[0,0])=>(e-r)**2+(t-n)**2;function xl([e,t],[r,n]){return e*n-t*r}const Zm=([e,t],[r,n]=[0,0])=>Math.atan2(n*e-t*r,e*r+t*n),$m=([e,t],[r,n]=[0,0])=>Math.atan2(n-t,r-e),lr=([e,t])=>{const r=cr([e,t]);return[e/r,t/r]},Qm=(e,t,r=[0,0])=>{const[n,s]=e,[o,c]=r,l=n-o,f=s-c,v=Math.sin(t),g=Math.cos(t),_=l*g-f*v,w=l*v+f*g;return[_+o,w+c]},In=(e,t)=>{const r=Math.cos(t)*e,n=Math.sin(t)*e;return[r,n]},Km=([e,t])=>{const r=cr([e,t]),n=Math.atan2(t,e);return[r,n]},vt=e=>e[0][0]*e[1][1]-e[0][1]*e[1][0];class Ye extends sr{constructor(t){const r=J(),n=t.get();super(new r.Handle_Geom2d_Curve_2(n)),this._boundingBox=null}get boundingBox(){if(this._boundingBox)return this._boundingBox;const t=J(),r=new t.Bnd_Box2d;return t.BndLib_Add2dCurve.Add_3(this.wrapped,1e-6,r),this._boundingBox=new oo(r),this._boundingBox}get repr(){return`${this.geomType} ${Bs(this.firstPoint)} - ${Bs(this.lastPoint)}`}get innerCurve(){return this.wrapped.get()}serialize(){return J().GeomToolsWrapper.Write(this.wrapped)}value(t){const r=this.innerCurve.Value(t),n=[r.X(),r.Y()];return r.delete(),n}get firstPoint(){return this.value(this.firstParameter)}get lastPoint(){return this.value(this.lastParameter)}get firstParameter(){return this.innerCurve.FirstParameter()}get lastParameter(){return this.innerCurve.LastParameter()}adaptor(){const t=J();return new t.Geom2dAdaptor_Curve_2(this.wrapped)}get geomType(){const t=this.adaptor(),r=so(t.GetType());return t.delete(),r}clone(){return new Ye(this.innerCurve.Copy())}reverse(){this.innerCurve.Reverse()}distanceFromPoint(t){const r=J(),n=rt(),s=n(new r.Geom2dAPI_ProjectPointOnCurve_2(n(kt(t)),this.wrapped));let o=1/0;try{o=s.LowerDistance()}catch{o=1/0}return Math.min(o,cr(t,this.firstPoint),cr(t,this.lastPoint))}distanceFromCurve(t){const r=J(),n=rt();let s=1/0;const o=n(new r.Geom2dAPI_ExtremaCurveCurve(this.wrapped,t.wrapped,this.firstParameter,this.lastParameter,t.firstParameter,t.lastParameter));try{s=o.LowerDistance()}catch{s=1/0}return Math.min(s,this.distanceFromPoint(t.firstPoint),this.distanceFromPoint(t.lastPoint),t.distanceFromPoint(this.firstPoint),t.distanceFromPoint(this.lastPoint))}distanceFrom(t){return js(t)?this.distanceFromPoint(t):this.distanceFromCurve(t)}isOnCurve(t){return this.distanceFromPoint(t)<1e-9}parameter(t,r=1e-9){const n=J(),s=rt();let o,c;try{const l=s(new n.Geom2dAPI_ProjectPointOnCurve_2(s(kt(t)),this.wrapped));o=l.LowerDistance(),c=l.LowerDistanceParameter()}catch{if(Ot(t,this.firstPoint,r))return this.firstParameter;if(Ot(t,this.lastPoint,r))return this.lastParameter;throw new Error("Failed to find parameter")}if(o>r)throw new Error(`Point ${Bs(t)} not on curve ${this.repr}, ${o.toFixed(9)}`);return c}tangentAt(t){const r=J(),[n,s]=yt();let o;Array.isArray(t)?o=this.parameter(t):o=(this.innerCurve.LastParameter()-this.innerCurve.FirstParameter())*t+this.innerCurve.FirstParameter();const c=n(new r.gp_Pnt2d_1),l=n(new r.gp_Vec2d_1);this.innerCurve.D1(o,c,l);const f=[l.X(),l.Y()];return s(),f}splitAt(t,r=1e-9){const n=J(),s=rt();let o=t.map(f=>js(f)?this.parameter(f,r):f);o=Array.from(new Map(o.map(f=>[jm(f,-Math.log10(r)),f])).values()).sort((f,v)=>f-v);const c=this.firstParameter,l=this.lastParameter;return c>l&&o.reverse(),Math.abs(o[0]-c)<r*100&&(o=o.slice(1)),o.length?(Math.abs(o[o.length-1]-l)<r*100&&(o=o.slice(0,-1)),o.length?Mn([[c,...o],[...o,l]]).map(([f,v])=>{try{if(this.geomType==="BEZIER_CURVE"){const _=new n.Geom2d_BezierCurve_1(s(this.adaptor()).Bezier().get().Poles_2());return _.Segment(f,v),new Ye(new n.Handle_Geom2d_Curve_2(_))}if(this.geomType==="BSPLINE_CURVE"){const _=s(this.adaptor()).BSpline().get(),w=new n.Geom2d_BSplineCurve_1(_.Poles_2(),_.Knots_2(),_.Multiplicities_2(),_.Degree(),_.IsPeriodic());return w.Segment(f,v,r),new Ye(new n.Handle_Geom2d_Curve_2(w))}const g=new n.Geom2d_TrimmedCurve(this.wrapped,f,v,!0,!0);return new Ye(new n.Handle_Geom2d_Curve_2(g))}catch{throw new Error("Failed to split the curve")}}):[this]):[this]}}const Pl=(e,t=1e-4,r="C0",n=200)=>{const s=J(),o=rt(),c={C0:s.GeomAbs_Shape.GeomAbs_C0,C1:s.GeomAbs_Shape.GeomAbs_C1,C2:s.GeomAbs_Shape.GeomAbs_C2,C3:s.GeomAbs_Shape.GeomAbs_C3},l=o(new s.Geom2dConvert_ApproxCurve_2(e.ShallowCopy(),t,c[r],n,3));return new Ye(l.Curve())},mu=e=>{if(so(e.GetType())!=="BSPLINE_CURVE")throw new Error("You can only convert a Bspline");const t=e.BSpline(),r=J(),n=new r.Geom2dConvert_BSplineCurveToBezierCurve_1(t);function*s(){const c=n.NbArcs();if(c)for(let l=1;l<=c;l++){const f=n.Arc(l);yield new Ye(f)}}const o=Array.from(s());return n.delete(),o};function Ko(e,t={tolerance:1e-4,continuity:"C0",maxSegments:300}){const r=rt();return e.flatMap(n=>{const s=r(n.adaptor()),o=so(s.GetType());if(o==="ELLIPSE"||o==="CIRCLE"&&Ot(n.firstPoint,n.lastPoint))return n.splitAt([.5]);if(["LINE","ELLIPSE","CIRCLE"].includes(o))return n;if(o==="BEZIER_CURVE"){const f=s.Bezier().get().Degree();if([1,2,3].includes(f))return n}if(o==="BSPLINE_CURVE"){const l=mu(s);return Ko(l,t)}const c=Pl(s,t.tolerance,t.continuity,t.maxSegments);return Ko(mu(r(c.adaptor())),t)})}function*Al(e){const t=e.NbPoints();if(t)for(let r=1;r<=t;r++){const n=e.Point(r);yield[n.X(),n.Y()]}}function*Jm(e){const t=e.NbSegments();if(!t)return;const r=J();for(let n=1;n<=t;n++){const s=new r.Handle_Geom2d_Curve_1,o=new r.Handle_Geom2d_Curve_1;try{e.Segment(n,s,o)}catch{continue}yield new Ye(s),o.delete()}}const $r=(e,t,r=1e-9)=>{if(e.boundingBox.isOut(t.boundingBox))return{intersections:[],commonSegments:[],commonSegmentsPoints:[]};const n=J(),s=new n.Geom2dAPI_InterCurveCurve_1;let o,c;try{s.Init_1(e.wrapped,t.wrapped,r),o=Array.from(Al(s)),c=Array.from(Jm(s))}catch(v){throw console.error(e,t,v),new Error("Intersections failed between curves")}finally{s.delete()}const l=c.filter(v=>Ot(v.firstPoint,v.lastPoint,r)).map(v=>v.firstPoint);l.length&&(o.push(...l),c=c.filter(v=>!Ot(v.firstPoint,v.lastPoint,r)));const f=c.flatMap(v=>[v.firstPoint,v.lastPoint]);return{intersections:o,commonSegments:c,commonSegmentsPoints:f}},e0=(e,t=1e-9)=>{const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1;let s;try{n.Init_1(e.wrapped,e.wrapped,t),s=Array.from(Al(n))}catch{throw new Error("Self intersection failed")}finally{n.delete()}return s},Kr=(e,t)=>{const r=J(),[n,s]=yt(),o=n(new r.GCE2d_MakeSegment_1(n(kt(e)),n(kt(t)))).Value(),c=new Ye(o);return Ot(c.firstPoint,e)||c.reverse(),s(),c},Jo=(e,t,r)=>{const n=J(),[s,o]=yt(),c=s(new n.GCE2d_MakeArcOfCircle_4(s(kt(e)),s(kt(t)),s(kt(r)))).Value();o();const l=new Ye(c);return Ot(l.firstPoint,e)||l.wrapped.get().SetTrim(l.lastParameter,l.firstParameter,!0,!0),l},t0=(e,t,r)=>{const n=J(),[s,o]=yt(),c=s(new n.GCE2d_MakeArcOfCircle_5(s(kt(e)),s(kl(t)),s(kt(r)))).Value();o();const l=new Ye(c);return Ot(l.firstPoint,e)||l.wrapped.get().SetTrim(l.lastParameter,l.firstParameter,!0,!0),l},r0=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),o=n(new r.GCE2d_MakeCircle_7(n(kt(t)),e,!0)).Value();return s(),new Ye(o)},n0=(e,t,r,n,s=[0,0],o,c=!0)=>{const l=J(),[f,v]=yt(),g=f(new l.gp_Elips2d_2(f(Wn(s,o)),e,t,!0)),_=f(new l.GCE2d_MakeArcOfEllipse_1(g,r,n,c)).Value();return v(),new Ye(_)},s0=(e,t,r)=>{const n=J(),[s,o]=yt(),c=s(new n.TColgp_Array1OfPnt2d_2(1,t.length+2));c.SetValue(1,s(kt(e))),t.forEach((f,v)=>{c.SetValue(v+2,s(kt(f)))}),c.SetValue(t.length+2,s(kt(r)));const l=new n.Geom2d_BezierCurve_1(c);return o(),new Ye(new n.Handle_Geom2d_Curve_2(l))},Cl=(e,t,r,n=!1)=>{const s=xa(vn(e,t),.5),o=cr(r,e)*(n?-1:1),c=lr(Ei(s,r));return Jo(e,vn(xa(c,o),r),t)},o0=(e,t,r)=>{const n=lr(Ei(t,e)),s=[n[1],-n[0]],o=[s[0]*r,s[1]*r];return{firstPoint:vn(e,o),lastPoint:vn(t,o)}},zs=(e,t)=>{const r=rt(),n=e.geomType;if(n==="CIRCLE"){const f=r(r(e.adaptor()).Circle()),v=f.Radius(),g=f.IsDirect()?1:-1,_=t*g,w=v+_;if(w<1e-10){const F=r(f.Location()),L=[F.X(),F.Y()],I=X=>{const[te,ue]=lr(Ei(X,L));return vn(X,[_*te,_*ue])};return{collapsed:!0,firstPoint:I(e.firstPoint),lastPoint:I(e.lastPoint)}}const T=J(),P=new T.gp_Circ2d_3(f.Axis(),w),R=new T.Geom2d_Circle_1(P),O=new T.Geom2d_TrimmedCurve(new T.Handle_Geom2d_Curve_2(R),e.firstParameter,e.lastParameter,!0,!0);return new Ye(new T.Handle_Geom2d_Curve_2(O))}if(n==="LINE"){const{firstPoint:f,lastPoint:v}=o0(e.firstPoint,e.lastPoint,t);return Kr(f,v)}const s=J(),o=new Ye(new s.Handle_Geom2d_Curve_2(new s.Geom2d_OffsetCurve(e.wrapped,t,!0))),c=Pl(o.adaptor());return e0(c).length?{collapsed:!0,firstPoint:c.firstPoint,lastPoint:c.lastPoint}:c};function Rl(e,t,r){const n=xl(e.tangentAt(1),t.tangentAt(0));if(Math.abs(n)<1e-10)return null;const s=n>0?-1:1,o=Math.abs(r)*s,c=zs(e,o),l=zs(t,o);if(!(c instanceof Ye)||!(l instanceof Ye))return null;let f;try{const{intersections:T}=$r(c,l,1e-9);f=T.at(-1)}catch{return null}if(!js(f))return null;const v=f,g=(T,P)=>{const[R,O]=P.tangentAt(v),F=lr([-O,R]),L=vn(v,xa(F,o)),I=T.parameter(L,1e-6);return T.splitAt([I])},[_]=g(e,c),[,w]=g(t,l);return{first:_,second:w,center:v}}function Ol(e,t,r){const n=Rl(e,t,r);if(!n)return console.warn("Cannot fillet between curves",e.repr,t.repr),[e,t];const{first:s,second:o,center:c}=n;return[s,Cl(s.lastPoint,o.firstPoint,c),o]}function Dl(e,t,r){const n=Rl(e,t,r);if(!n)return console.warn("Cannot chamfer between curves",e.repr,t.repr),[e,t];const{first:s,second:o}=n;return[s,Kr(s.lastPoint,o.firstPoint),o]}function i0(e,t,r){const n=lr(e.tangentAt(1)),s=lr(t.tangentAt(0)),o=xl(n,s),c=Math.asin(o);if(Math.abs(o)<1e-10)return[e,t];const l=o>0?-1:1,f=Math.abs(r)*Math.sin(c/2)*l,v=zs(e,f),g=zs(t,f);if(!(v instanceof Ye)||!(g instanceof Ye))return[e,t];let _;try{const{intersections:F}=$r(v,g,1e-9);_=F.at(-1)}catch{return[e,t]}if(!js(_))return[e,t];const w=r0(r,_),T=$r(e,w).intersections[0],P=$r(t,w).intersections.at(-1);if(!T||!P)return[e,t];const R=e.splitAt([T])[0],O=t.splitAt([P]).at(-1);if(!R||!O)return[e,t];try{return[R,Jo(R.lastPoint,e.lastPoint,O.firstPoint),O]}catch{return[e,t]}}class a0{constructor(){this.ids=[],this.values=[],this.length=0}clear(){this.length=0}push(t,r){let n=this.length++;for(;n>0;){const s=n-1>>1,o=this.values[s];if(r>=o)break;this.ids[n]=this.ids[s],this.values[n]=o,n=s}this.ids[n]=t,this.values[n]=r}pop(){if(this.length===0)return;const t=this.ids[0];if(this.length--,this.length>0){const r=this.ids[0]=this.ids[this.length],n=this.values[0]=this.values[this.length],s=this.length>>1;let o=0;for(;o<s;){let c=(o<<1)+1;const l=c+1;let f=this.ids[c],v=this.values[c];const g=this.values[l];if(l<this.length&&g<v&&(c=l,f=this.ids[l],v=g),v>=n)break;this.ids[o]=f,this.values[o]=v,o=c}this.ids[o]=r,this.values[o]=n}return t}peek(){if(this.length!==0)return this.ids[0]}peekValue(){if(this.length!==0)return this.values[0]}shrink(){this.ids.length=this.values.length=this.length}}const yu=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],ta=3;class c1{static from(t){if(!(t instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[r,n]=new Uint8Array(t,0,2);if(r!==251)throw new Error("Data does not appear to be in a Flatbush format.");if(n>>4!==ta)throw new Error(`Got v${n>>4} data when expected v${ta}.`);const[s]=new Uint16Array(t,2,1),[o]=new Uint32Array(t,4,1);return new c1(o,s,yu[n&15],t)}constructor(t,r=16,n=Float64Array,s){if(t===void 0)throw new Error("Missing required argument: numItems.");if(isNaN(t)||t<=0)throw new Error(`Unpexpected numItems value: ${t}.`);this.numItems=+t,this.nodeSize=Math.min(Math.max(+r,2),65535);let o=t,c=o;this._levelBounds=[o*4];do o=Math.ceil(o/this.nodeSize),c+=o,this._levelBounds.push(c*4);while(o!==1);this.ArrayType=n||Float64Array,this.IndexArrayType=c<16384?Uint16Array:Uint32Array;const l=yu.indexOf(this.ArrayType),f=c*4*this.ArrayType.BYTES_PER_ELEMENT;if(l<0)throw new Error(`Unexpected typed array class: ${n}.`);s&&s instanceof ArrayBuffer?(this.data=s,this._boxes=new this.ArrayType(this.data,8,c*4),this._indices=new this.IndexArrayType(this.data,8+f,c),this._pos=c*4,this.minX=this._boxes[this._pos-4],this.minY=this._boxes[this._pos-3],this.maxX=this._boxes[this._pos-2],this.maxY=this._boxes[this._pos-1]):(this.data=new ArrayBuffer(8+f+c*this.IndexArrayType.BYTES_PER_ELEMENT),this._boxes=new this.ArrayType(this.data,8,c*4),this._indices=new this.IndexArrayType(this.data,8+f,c),this._pos=0,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,new Uint8Array(this.data,0,2).set([251,(ta<<4)+l]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=t),this._queue=new a0}add(t,r,n,s){const o=this._pos>>2;return this._indices[o]=o,this._boxes[this._pos++]=t,this._boxes[this._pos++]=r,this._boxes[this._pos++]=n,this._boxes[this._pos++]=s,t<this.minX&&(this.minX=t),r<this.minY&&(this.minY=r),n>this.maxX&&(this.maxX=n),s>this.maxY&&(this.maxY=s),o}finish(){if(this._pos>>2!==this.numItems)throw new Error(`Added ${this._pos>>2} items when expected ${this.numItems}.`);if(this.numItems<=this.nodeSize){this._boxes[this._pos++]=this.minX,this._boxes[this._pos++]=this.minY,this._boxes[this._pos++]=this.maxX,this._boxes[this._pos++]=this.maxY;return}const t=this.maxX-this.minX||1,r=this.maxY-this.minY||1,n=new Uint32Array(this.numItems),s=65535;for(let o=0;o<this.numItems;o++){let c=4*o;const l=this._boxes[c++],f=this._boxes[c++],v=this._boxes[c++],g=this._boxes[c++],_=Math.floor(s*((l+v)/2-this.minX)/t),w=Math.floor(s*((f+g)/2-this.minY)/r);n[o]=c0(_,w)}Pa(n,this._boxes,this._indices,0,this.numItems-1,this.nodeSize);for(let o=0,c=0;o<this._levelBounds.length-1;o++){const l=this._levelBounds[o];for(;c<l;){const f=c;let v=1/0,g=1/0,_=-1/0,w=-1/0;for(let T=0;T<this.nodeSize&&c<l;T++)v=Math.min(v,this._boxes[c++]),g=Math.min(g,this._boxes[c++]),_=Math.max(_,this._boxes[c++]),w=Math.max(w,this._boxes[c++]);this._indices[this._pos>>2]=f,this._boxes[this._pos++]=v,this._boxes[this._pos++]=g,this._boxes[this._pos++]=_,this._boxes[this._pos++]=w}}}search(t,r,n,s,o){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const l=[],f=[];for(;c!==void 0;){const v=Math.min(c+this.nodeSize*4,_u(c,this._levelBounds));for(let g=c;g<v;g+=4){if(n<this._boxes[g]||s<this._boxes[g+1]||t>this._boxes[g+2]||r>this._boxes[g+3])continue;const _=this._indices[g>>2]|0;c<this.numItems*4?(o===void 0||o(_))&&f.push(_):l.push(_)}c=l.pop()}return f}neighbors(t,r,n=1/0,s=1/0,o){if(this._pos!==this._boxes.length)throw new Error("Data not yet indexed - call index.finish().");let c=this._boxes.length-4;const l=this._queue,f=[],v=s*s;for(;c!==void 0;){const g=Math.min(c+this.nodeSize*4,_u(c,this._levelBounds));for(let _=c;_<g;_+=4){const w=this._indices[_>>2]|0,T=wu(t,this._boxes[_],this._boxes[_+2]),P=wu(r,this._boxes[_+1],this._boxes[_+3]),R=T*T+P*P;c<this.numItems*4?(o===void 0||o(w))&&l.push((w<<1)+1,R):l.push(w<<1,R)}for(;l.length&&l.peek()&1;)if(l.peekValue()>v||(f.push(l.pop()>>1),f.length===n))return l.clear(),f;c=l.pop()>>1}return l.clear(),f}}function wu(e,t,r){return e<t?t-e:e<=r?0:e-r}function _u(e,t){let r=0,n=t.length-1;for(;r<n;){const s=r+n>>1;t[s]>e?n=s:r=s+1}return t[r]}function Pa(e,t,r,n,s,o){if(Math.floor(n/o)>=Math.floor(s/o))return;const c=e[n+s>>1];let l=n-1,f=s+1;for(;;){do l++;while(e[l]<c);do f--;while(e[f]>c);if(l>=f)break;u0(e,t,r,l,f)}Pa(e,t,r,n,f,o),Pa(e,t,r,f+1,s,o)}function u0(e,t,r,n,s){const o=e[n];e[n]=e[s],e[s]=o;const c=4*n,l=4*s,f=t[c],v=t[c+1],g=t[c+2],_=t[c+3];t[c]=t[l],t[c+1]=t[l+1],t[c+2]=t[l+2],t[c+3]=t[l+3],t[l]=f,t[l+1]=v,t[l+2]=g,t[l+3]=_;const w=r[n];r[n]=r[s],r[s]=w}function c0(e,t){let r=e^t,n=65535^r,s=65535^(e|t),o=e&(t^65535),c=r|n>>1,l=r>>1^r,f=s>>1^n&o>>1^s,v=r&s>>1^o>>1^o;r=c,n=l,s=f,o=v,c=r&r>>2^n&n>>2,l=r&n>>2^n&(r^n)>>2,f^=r&s>>2^n&o>>2,v^=n&s>>2^(r^n)&o>>2,r=c,n=l,s=f,o=v,c=r&r>>4^n&n>>4,l=r&n>>4^n&(r^n)>>4,f^=r&s>>4^n&o>>4,v^=n&s>>4^(r^n)&o>>4,r=c,n=l,s=f,o=v,f^=r&s>>8^n&o>>8,v^=n&s>>8^(r^n)&o>>8,r=f^f>>1,n=v^v>>1;let g=e^t,_=n|65535^(g|r);return g=(g|g<<8)&16711935,g=(g|g<<4)&252645135,g=(g|g<<2)&858993459,g=(g|g<<1)&1431655765,_=(_|_<<8)&16711935,_=(_|_<<4)&252645135,_=(_|_<<2)&858993459,_=(_|_<<1)&1431655765,(_<<1|g)>>>0}const l0=(e,t=1e-7)=>{const r=new c1(e.length);e.forEach(o=>{const[c,l]=o.firstPoint;r.add(c-t,l-t,c+t,l+t)}),r.finish();const n=[],s=new Set;return e.forEach((o,c)=>{if(s.has(c))return;const l=[o];let f=c;s.add(c);let v=e.length;for(;;){if(v--<0)throw new Error("Infinite loop detected");const g=l[l.length-1].lastPoint,[_,w]=g,T=r.search(_-t,w-t,_+t,w+t),P=L=>Math.abs((f-L)%e.length),R=T.filter(L=>!s.has(L)).map(L=>[e[L],L,P(L)]).sort(([,,L],[,,I])=>P(L)-P(I));if(R.length===0){n.push(l);break}const[O,F]=R[0];l.push(O),s.add(F),f=F}}),n};function er(e){return Math.round(e*1e5)/1e5}const ra=e=>`${Qo(e.X())} ${Qo(e.Y())}`,f0=(e,t)=>{const r=J(),n=so(e.GetType()),[s,o]=t,c=`${er(s)} ${er(o)}`;if(n==="LINE")return`L ${c}`;if(n==="BEZIER_CURVE"){const l=e.Bezier().get(),f=l.Degree();if(f===1)return`L ${c}`;if(f===2)return`Q ${ra(l.Pole(2))} ${c}`;if(f===3){const v=ra(l.Pole(2)),g=ra(l.Pole(3));return`C ${v} ${g} ${c}`}}if(n==="CIRCLE"){const l=e.Circle(),f=l.Radius(),v=e.FirstParameter(),_=(e.LastParameter()-v)*Fn,w=_!==360?c:`${er(s)} ${er(o+1e-4)}`;return`A ${f} ${f} 0 ${Math.abs(_)>180?"1":"0"} ${l.IsDirect()?"1":"0"} ${w}`}if(n==="ELLIPSE"){const l=e.Ellipse(),f=l.MajorRadius(),v=l.MinorRadius(),g=e.FirstParameter(),w=(e.LastParameter()-g)*Fn,T=w!==360?c:`${er(s)} ${er(o+1e-4)}`,P=new r.gp_Dir2d_1,R=180-l.XAxis().Direction().Angle(P)*Fn;return P.delete(),`A ${er(f)} ${er(v)} ${er(R)} ${Math.abs(w)>180?"1":"0"} ${l.IsDirect()?"1":"0"} ${T}`}throw new Error(`Unsupported curve type: ${n}`)},p0={X:[1,0,0],Y:[0,1,0],Z:[0,0,1]},ei={YZ:[1,0,0],XZ:[0,1,0],XY:[0,0,1]};class Il{constructor(){this.filters=[]}delete(){this.filters=[]}and(t){return t.forEach(r=>r(this)),this}not(t){const r=new this.constructor;t(r);const n=({element:s})=>!r.shouldKeep(s);return this.filters.push(n),this}either(t){const r=t.map(s=>{const o=new this.constructor;return s(o),o}),n=({element:s})=>r.some(o=>o.shouldKeep(s));return this.filters.push(n),this}find(t,{unique:r=!1}={}){const n=this.applyFilter(t);if(r){if(n.length!==1)throw console.error(n),new Error("Finder has not found a unique solution");return n[0]}return n}}class h0 extends sr{constructor(){const t=J();super(new t.Message_ProgressRange_1)}}class na extends sr{constructor(t){const r=J();super(new r.BRepExtrema_DistShapeShape_1),this.wrapped.LoadS1(t.wrapped)}distanceTo(t){this.wrapped.LoadS2(t.wrapped);const r=new h0;return this.wrapped.Perform(r.wrapped),this.wrapped.Value()}}class Ll extends Il{when(t){return this.filters.push(t),this}inList(t){const r=({element:n})=>!!t.find(s=>s.isSame(n));return this.filters.push(r),this}atAngleWith(t="Z",r=0){let n;typeof t=="string"?n=new ke(p0[t]):n=new ke(t);const s=({normal:o})=>{if(!o)return!1;const c=Math.acos(Math.abs(o.dot(n)));return Math.abs(c-Gt*r)<1e-6};return this.filters.push(s),this}atDistance(t,r=[0,0,0]){const n=si(r),s=new na(n),o=({element:c})=>Math.abs(s.distanceTo(c)-t)<1e-6;return this.filters.push(o),this}containsPoint(t){return this.atDistance(0,t)}withinDistance(t,r=[0,0,0]){const n=si(r),s=new na(n),o=({element:c})=>s.distanceTo(c)-t<1e-6;return this.filters.push(o),this}inBox(t,r){const n=b0(t,r);return this.inShape(n)}inShape(t){const r=new na(t),n=({element:s})=>r.distanceTo(s)<1e-6;return this.filters.push(n),this}}class ti extends Ll{clone(){const t=new ti;return t.filters=[...this.filters],t}inDirection(t){return this.atAngleWith(t,0)}ofLength(t){const r=({element:n})=>typeof t=="number"?Math.abs(n.length-t)<1e-9:t(n.length);return this.filters.push(r),this}ofCurveType(t){const r=({element:n})=>n.geomType===t;return this.filters.push(r),this}parallelTo(t){if(typeof t=="string"&&ei[t])return this.atAngleWith(ei[t],90);if(typeof t!="string"&&t instanceof Ht)return this.atAngleWith(t.zDir,90);if(typeof t!="string"&&t.normalAt){const r=t.normalAt();return this.atAngleWith(r,90),this}return this}inPlane(t,r){const n=t instanceof Ht?Hn(t):Hn(t,r);this.parallelTo(n);const s=({element:o})=>{const c=o.startPoint,l=c.projectToPlane(n);return c.equals(l)};return this.filters.push(s),this}shouldKeep(t){let r=null;try{r=t.tangentAt().normalized()}catch(n){console.error("failed to compute a normal",n)}return this.filters.every(n=>n({normal:r,element:t}))}applyFilter(t){return t.edges.filter(r=>this.shouldKeep(r))}}class Vn extends Ll{clone(){const t=new Vn;return t.filters=[...this.filters],t}parallelTo(t){if(typeof t=="string"&&ei[t])return this.atAngleWith(ei[t]);if(typeof t!="string"&&t instanceof Ht)return this.atAngleWith(t.zDir);if(typeof t!="string"&&t.normalAt){const r=t.normalAt();return this.atAngleWith(r),this}return this}ofSurfaceType(t){const r=({element:n})=>n.geomType===t;return this.filters.push(r),this}inPlane(t,r){const n=t instanceof Ht?Hn(t):Hn(t,r);this.parallelTo(n);const s=({element:o})=>{const c=o.center,l=c.projectToPlane(n);return c.equals(l)};return this.filters.push(s),this}shouldKeep(t){const r=t.normalAt();return this.filters.every(s=>s({normal:r,element:t}))}applyFilter(t){return t.faces.filter(r=>this.shouldKeep(r))}}const d0=function(e){return e.curves.map((t,r)=>({firstCurve:t,secondCurve:e.curves[(r+1)%e.curves.length],point:t.lastPoint}))},sa=2*Math.PI,bu=e=>{const t=e%sa,r=t<0?t+sa:t;return r<Math.PI?r:r===Math.PI?0:Math.abs(r-sa)};class ri extends Il{clone(){const t=new ri;return t.filters=[...this.filters],t}inList(t){const r=({element:n})=>!!t.find(s=>Ot(s,n.point));return this.filters.push(r),this}atDistance(t,r=[0,0]){function n({element:s}){return Math.abs(cr(r,s.point)-t)<1e-9}return this.filters.push(n),this}atPoint(t){function r({element:n}){return Ot(t,n.point)}return this.filters.push(r),this}inBox(t,r){const[n,s]=t,[o,c]=r,l=Math.min(n,o),f=Math.max(n,o),v=Math.min(s,c),g=Math.max(s,c);function _({element:w}){const[T,P]=w.point;return T>=l&&T<=f&&P>=v&&P<=g}return this.filters.push(_),this}ofAngle(t){function r({element:n}){const s=n.firstCurve.tangentAt(1),o=n.secondCurve.tangentAt(0);return Math.abs(bu(Zm(s,o))-bu(Gt*t))<1e-9}return this.filters.push(r),this}shouldKeep(t){return this.filters.every(n=>n({normal:null,element:t}))}applyFilter(t){return d0(t).filter(r=>this.shouldKeep(r))}}function v0(e,t){return e instanceof bn?e:(e instanceof Vn?e:e(new Vn)).find(t,{unique:!0})}function Aa(e){return typeof e=="number"}function Su(e){if(typeof e=="number")return!0;if(typeof e=="object"&&e!==null){const t=e;return"distances"in t&&Array.isArray(t.distances)&&"selectedFace"in t||"distance"in t&&"angle"in t&&"selectedFace"in t}return!1}function Eu(e){return typeof e=="number"?!0:Array.isArray(e)&&e.length===2?e.every(Aa):!1}const Tu=e=>{const t=J();return{vertex:t.TopAbs_ShapeEnum.TopAbs_VERTEX,wire:t.TopAbs_ShapeEnum.TopAbs_WIRE,face:t.TopAbs_ShapeEnum.TopAbs_FACE,shell:t.TopAbs_ShapeEnum.TopAbs_SHELL,solid:t.TopAbs_ShapeEnum.TopAbs_SOLID,solidCompound:t.TopAbs_ShapeEnum.TopAbs_COMPSOLID,compound:t.TopAbs_ShapeEnum.TopAbs_COMPOUND,edge:t.TopAbs_ShapeEnum.TopAbs_EDGE,shape:t.TopAbs_ShapeEnum.TopAbs_SHAPE}[e]},g0=function*(t,r){const n=J(),s=new n.TopExp_Explorer_2(t,Tu(r),Tu("shape")),o=new Map;for(;s.More();){const c=s.Current(),l=c.HashCode(_l);o.get(l)||(o.set(l,!0),yield c),s.Next()}s.delete()},Fl=e=>{if(e.IsNull())throw new Error("This shape has not type, it is null");return e.ShapeType()};class Ti extends sr{constructor(t){super(t)}clone(){return new this.constructor(gn(this.wrapped))}serialize(){return J().BRepToolsWrapper.Write(this.wrapped)}get hashCode(){return this.wrapped.HashCode(_l)}get isNull(){return this.wrapped.IsNull()}isSame(t){return this.wrapped.IsSame(t.wrapped)}isEqual(t){return this.wrapped.IsEqual(t.wrapped)}simplify(){const t=J(),r=new t.ShapeUpgrade_UnifySameDomain_2(this.wrapped,!0,!0,!1);r.Build();const n=nt(r.Shape());if(r.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}translate(t,r=0,n=0){const s=typeof t=="number"?[t,r,n]:t,o=nt(Wm(this.wrapped,s));if(this.delete(),this.constructor!==o.constructor)throw new Error("unexpected types mismatch");return o}translateX(t){return this.translate([t,0,0])}translateY(t){return this.translate([0,t,0])}translateZ(t){return this.translate([0,0,t])}rotate(t,r=[0,0,0],n=[0,0,1]){const s=nt(Hm(this.wrapped,t,r,n));if(this.delete(),this.constructor!==s.constructor)throw new Error("unexpected types mismatch");return s}mirror(t,r){const n=nt(Vm(this.wrapped,t,r));if(this.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}scale(t,r=[0,0,0]){const n=nt(qm(this.wrapped,r,t));if(this.delete(),this.constructor!==n.constructor)throw new Error("unexpected types mismatch");return n}_iterTopo(t){return g0(this.wrapped,t)}_listTopo(t){return Array.from(this._iterTopo(t)).map(r=>gn(r))}get edges(){return this._listTopo("edge").map(t=>new _n(t))}get faces(){return this._listTopo("face").map(t=>new bn(t))}get wires(){return this._listTopo("wire").map(t=>new Rr(t))}get boundingBox(){const t=new Gm;return this.oc.BRepBndLib.Add(this.wrapped,t.wrapped,!0),t}_mesh({tolerance:t=.001,angularTolerance:r=.1}={}){new this.oc.BRepMesh_IncrementalMesh_2(this.wrapped,t,!1,r,!1)}mesh({tolerance:t=.001,angularTolerance:r=.1}={}){this._mesh({tolerance:t,angularTolerance:r});let n=[],s=[],o=[];const c=[];for(const l of this.faces){const f=l.triangulation(s.length/3);if(!f)continue;const{trianglesIndexes:v,vertices:g,verticesNormals:_}=f;c.push({start:n.length,count:v.length,faceId:l.hashCode}),n=n.concat(v),s=s.concat(g),o=o.concat(_)}return{triangles:n,vertices:s,normals:o,faceGroups:c}}meshEdges({tolerance:t=.001,angularTolerance:r=.1}={}){var n;const s=rt(),o=new Set,c=[],l=[],f=()=>{const g=c.length;let _=null;return[w=>{_?(c.push(..._),_=[w.X(),w.Y(),w.Z()],c.push(..._)):_=[w.X(),w.Y(),w.Z()]},w=>{l.push({start:g/3,count:(c.length-g)/3,edgeId:w}),o.add(w)}]},v=s(new this.oc.TopLoc_Location_1);for(const g of this.faces){const _=s(this.oc.BRep_Tool.Triangulation(g.wrapped,v,0));if(_.IsNull())continue;const w=_.get();for(const T of g.edges){if(s(T),o.has(T.hashCode))continue;const P=s(new this.oc.TopLoc_Location_1),R=s(this.oc.BRep_Tool.PolygonOnTriangulation_1(T.wrapped,_,P)),O=(n=R?.get())==null?void 0:n.Nodes();if(!O)continue;s(O);const[F,L]=f();for(let I=O.Lower();I<=O.Upper();I++){const X=s(s(w.Node(O.Value(I))).Transformed(P.Transformation()));F(X)}L(T.hashCode)}}for(const g of this.edges){s(g);const _=g.hashCode;if(o.has(_))continue;const w=s(new this.oc.BRepAdaptor_Curve_2(g.wrapped)),T=s(new this.oc.GCPnts_TangentialDeflection_2(w,t,r,2,1e-9,1e-7)),[P,R]=f();for(let O=0;O<T.NbPoints();O++){const F=s(T.Value(O+1).Transformed(v.Transformation()));P(F)}R(_)}return{lines:c,edgeGroups:l}}blobSTEP(){const t="blob.step",r=new this.oc.STEPControl_Writer_1;this.oc.Interface_Static.SetIVal("write.step.schema",5),r.Model(!0).delete();const n=new this.oc.Message_ProgressRange_1;r.Transfer(this.wrapped,this.oc.STEPControl_StepModelType.STEPControl_AsIs,!0,n);const s=r.Write(t);if(r.delete(),n.delete(),s===this.oc.IFSelect_ReturnStatus.IFSelect_RetDone){const o=this.oc.FS.readFile("/"+t);return this.oc.FS.unlink("/"+t),new Blob([o],{type:"application/STEP"})}else throw new Error("WRITE STEP FILE FAILED.")}blobSTL({tolerance:t=.001,angularTolerance:r=.1,binary:n=!1}={}){this._mesh({tolerance:t,angularTolerance:r});const s="blob.stl";if(this.oc.StlAPI.Write(this.wrapped,s,!n)){const c=this.oc.FS.readFile("/"+s);return this.oc.FS.unlink("/"+s),new Blob([c],{type:"application/sla"})}else throw new Error("WRITE STL FILE FAILED.")}}class Ml extends Ti{asTuple(){const t=this.oc.BRep_Tool.Pnt(this.wrapped),r=[t.X(),t.Y(),t.Z()];return t.delete(),r}}class Bl extends Ti{get repr(){const{startPoint:t,endPoint:r}=this,n=`start: (${this.startPoint.repr}) end:(${this.endPoint.repr})`;return t.delete(),r.delete(),n}get curve(){return new m0(this._geomAdaptor())}get startPoint(){return this.curve.startPoint}get endPoint(){return this.curve.endPoint}tangentAt(t=0){return this.curve.tangentAt(t)}pointAt(t=0){return this.curve.pointAt(t)}get isClosed(){return this.curve.isClosed}get isPeriodic(){return this.curve.isPeriodic}get period(){return this.curve.period}get geomType(){return this.curve.curveType}get length(){const t=new this.oc.GProp_GProps_1;this.oc.BRepGProp.LinearProperties(this.wrapped,t,!0,!1);const r=t.Mass();return t.delete(),r}get orientation(){return this.wrapped.Orientation_1()===this.oc.TopAbs_Orientation.TopAbs_FORWARD?"forward":"backward"}flipOrientation(){const t=this.wrapped.Reversed();return nt(t)}}class m0 extends sr{get repr(){const{startPoint:t,endPoint:r}=this,n=`start: (${this.startPoint.repr}) end:(${this.endPoint.repr}}`;return t.delete(),r.delete(),n}get curveType(){const t=this.wrapped.GetType&&this.wrapped.GetType();return so(t)}get startPoint(){const t=this.wrapped.Value(this.wrapped.FirstParameter());return new ke(t)}get endPoint(){const t=this.wrapped.Value(this.wrapped.LastParameter());return new ke(t)}_mapParameter(t){const r=this.wrapped.FirstParameter(),n=this.wrapped.LastParameter();return r+(n-r)*t}pointAt(t=.5){return new ke(this.wrapped.Value(this._mapParameter(t)))}tangentAt(t=.5){const r=this._mapParameter(t),n=new this.oc.gp_Pnt_1,s=new this.oc.gp_Vec_1;this.wrapped.D1(r,n,s);const o=new ke(s);return n.delete(),s.delete(),o}get isClosed(){return this.wrapped.IsClosed()}get isPeriodic(){return this.wrapped.IsPeriodic()}get period(){return this.wrapped.Period()}}class _n extends Bl{_geomAdaptor(){return new this.oc.BRepAdaptor_Curve_2(this.wrapped)}}class Rr extends Bl{_geomAdaptor(){return new this.oc.BRepAdaptor_CompCurve_2(this.wrapped,!1)}offset2D(t,r="arc"){const n={arc:this.oc.GeomAbs_JoinType.GeomAbs_Arc,intersection:this.oc.GeomAbs_JoinType.GeomAbs_Intersection,tangent:this.oc.GeomAbs_JoinType.GeomAbs_Tangent},s=new this.oc.BRepOffsetAPI_MakeOffset_3(this.wrapped,n[r],!1);s.Perform(t,0);const o=nt(s.Shape());if(s.delete(),this.delete(),!(o instanceof Rr))throw new Error("Could not offset with a wire");return o}}class y0 extends sr{get surfaceType(){const t=this.oc.GeomAbs_SurfaceType,n=new Map([[t.GeomAbs_Plane,"PLANE"],[t.GeomAbs_Cylinder,"CYLINDRE"],[t.GeomAbs_Cone,"CONE"],[t.GeomAbs_Sphere,"SPHERE"],[t.GeomAbs_Torus,"TORUS"],[t.GeomAbs_BezierSurface,"BEZIER_SURFACE"],[t.GeomAbs_BSplineSurface,"BSPLINE_SURFACE"],[t.GeomAbs_SurfaceOfRevolution,"REVOLUTION_SURFACE"],[t.GeomAbs_SurfaceOfExtrusion,"EXTRUSION_SURFACE"],[t.GeomAbs_OffsetSurface,"OFFSET_SURFACE"],[t.GeomAbs_OtherSurface,"OTHER_SURFACE"]]).get(this.wrapped.GetType());if(!n)throw new Error("surface type not found");return n}}class bn extends Ti{_geomAdaptor(){return new this.oc.BRepAdaptor_Surface_2(this.wrapped,!1)}get surface(){return new y0(this._geomAdaptor())}get orientation(){return this.wrapped.Orientation_1()===this.oc.TopAbs_Orientation.TopAbs_FORWARD?"forward":"backward"}flipOrientation(){const t=this.wrapped.Reversed();return nt(t)}get geomType(){const t=this.surface,r=t.surfaceType;return t.delete(),r}get UVBounds(){const t={current:0},r={current:0},n={current:0},s={current:0};return this.oc.BRepTools.UVBounds_1(this.wrapped,t,r,n,s),{uMin:t.current,uMax:r.current,vMin:n.current,vMax:s.current}}pointOnSurface(t,r){const{uMin:n,uMax:s,vMin:o,vMax:c}=this.UVBounds,l=this._geomAdaptor(),f=new this.oc.gp_Pnt_1,v=t*(s-n)+n,g=r*(c-o)+o;l.D0(v,g,f);const _=new ke(f);return l.delete(),f.delete(),_}uvCoordinates(t){const r=rt(),n=r(this.oc.BRep_Tool.Surface_2(this.wrapped)),s=r(new this.oc.GeomAPI_ProjectPointOnSurf_2(r(Yt(t)),n,this.oc.Extrema_ExtAlgo.Extrema_ExtAlgo_Grad)),o={current:0},c={current:0};return s.LowerDistanceParameters(o,c),[o.current,c.current]}normalAt(t){let r=0,n=0;const s=rt();if(t)[r,n]=this.uvCoordinates(t);else{const{uMin:v,uMax:g,vMin:_,vMax:w}=this.UVBounds;r=.5*(v+g),n=.5*(_+w)}const o=s(new this.oc.gp_Pnt_1),c=s(new this.oc.gp_Vec_1);return s(new this.oc.BRepGProp_Face_2(this.wrapped,!1)).Normal(r,n,o,c),new ke(c)}get center(){const t=new this.oc.GProp_GProps_1;this.oc.BRepGProp.SurfaceProperties_2(this.wrapped,t,1e-7,!0);const r=new ke(t.CentreOfMass());return t.delete(),r}outerWire(){const t=new Rr(this.oc.BRepTools.OuterWire(this.wrapped));return this.delete(),t}innerWires(){const t=this.clone().outerWire(),r=this.wires.filter(n=>!t.isSame(n));return t.delete(),this.delete(),r}triangulation(t=0){const r=rt(),n=r(new this.oc.TopLoc_Location_1),s=r(this.oc.BRep_Tool.Triangulation(this.wrapped,n,0));if(s.IsNull())return null;const o=r(n.Transformation()),c={vertices:[],trianglesIndexes:[],verticesNormals:[]},l=s.get(),f=l.NbNodes();c.vertices=new Array(f*3);for(let P=1;P<=f;P++){const R=r(r(l.Node(P)).Transformed(o));c.vertices[(P-1)*3+0]=R.X(),c.vertices[(P-1)*3+1]=R.Y(),c.vertices[(P-1)*3+2]=R.Z()}const v=r(new this.oc.TColgp_Array1OfDir_2(1,f)),g=r(new this.oc.Poly_Connect_2(s));this.oc.StdPrs_ToolTriangulatedShape.Normal(this.wrapped,g,v),c.verticesNormals=new Array(v.Length()*3);for(let P=v.Lower();P<=v.Upper();P++){const R=r(r(v.Value(P)).Transformed(o));c.verticesNormals[(P-1)*3+0]=R.X(),c.verticesNormals[(P-1)*3+1]=R.Y(),c.verticesNormals[(P-1)*3+2]=R.Z()}const _=this.orientation,w=l.NbTriangles();c.trianglesIndexes=new Array(w*3);let T=0;for(let P=1;P<=w;P++){const R=r(l.Triangle(P));let O=R.Value(1),F=R.Value(2);const L=R.Value(3);if(_==="backward"){const I=O;O=F,F=I}c.trianglesIndexes[T*3+0]=O-1+t,c.trianglesIndexes[T*3+1]=F-1+t,c.trianglesIndexes[T*3+2]=L-1+t,T++}return c}}class ki extends Ti{fuse(t,{optimisation:r="none"}={}){const n=rt(),s=n(new this.oc.Message_ProgressRange_1),o=n(new this.oc.BRepAlgoAPI_Fuse_3(this.wrapped,t.wrapped,s));r==="commonFace"&&o.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueShift),r==="sameFace"&&o.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueFull),o.Build(s),o.SimplifyResult(!0,!0,.001);const c=nt(o.Shape());if(!Tr(c))throw new Error("Could not fuse as a 3d shape");return c}cut(t,{optimisation:r="none"}={}){const n=rt(),s=n(new this.oc.Message_ProgressRange_1),o=n(new this.oc.BRepAlgoAPI_Cut_3(this.wrapped,t.wrapped,s));r==="commonFace"&&o.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueShift),r==="sameFace"&&o.SetGlue(this.oc.BOPAlgo_GlueEnum.BOPAlgo_GlueFull),o.Build(s),o.SimplifyResult(!0,!0,.001);const c=nt(o.Shape());if(!Tr(c))throw new Error("Could not cut as a 3d shape");return c}intersect(t){const r=rt(),n=r(new this.oc.Message_ProgressRange_1),s=r(new this.oc.BRepAlgoAPI_Common_3(this.wrapped,t.wrapped,n));s.Build(n),s.SimplifyResult(!0,!0,.001);const o=nt(s.Shape());if(!Tr(o))throw new Error("Could not intersect as a 3d shape");return o}shell(t,r=null,n=.001){const s=typeof r=="number"?r:n;let o,c;if(typeof t=="number"){c=t;const T=new Vn;o=typeof r=="function"?r(T):T}else c=t.thickness,o=t.filter;const l=rt(),f=o.find(this),v=l(new this.oc.TopTools_ListOfShape_1);f.forEach(T=>{v.Append_1(T.wrapped)});const g=l(new this.oc.Message_ProgressRange_1),_=l(new this.oc.BRepOffsetAPI_MakeThickSolid);_.MakeThickSolidByJoin(this.wrapped,v,-c,s,this.oc.BRepOffset_Mode.BRepOffset_Skin,!1,!1,this.oc.GeomAbs_JoinType.GeomAbs_Arc,!1,g);const w=nt(_.Shape());if(!Tr(w))throw new Error("Could not shell as a 3d shape");return w}_builderIter(t,r,n){if(n(t)){let l=0;for(const f of this._iterTopo("edge"))r(t,gn(f)),l+=1;return l}let s,o=null;typeof t=="function"?s=t:(s=l=>t.filter.shouldKeep(l)?t.radius||1:null,t.filter&&!t.keep&&(o=()=>t.filter.delete()));let c=0;for(const l of this._iterTopo("edge")){const f=gn(l),v=new _n(f),g=s(v);g&&(r(g,f),c+=1),v.delete()}return o&&o(),c}fillet(t,r){const s=rt()(new this.oc.BRepFilletAPI_MakeFillet(this.wrapped,this.oc.ChFi3d_FilletShape.ChFi3d_Rational));let o=t;if(Eu(t)&&r&&(o={radius:t,filter:r(new ti)}),!this._builderIter(o,(f,v)=>Aa(f)?s.Add_2(f,v):(console.log(v),s.Add_3(f[0],f[1],v)),Eu))throw new Error("Could not fillet, no edge was selected");const l=nt(s.Shape());if(!Tr(l))throw new Error("Could not fillet as a 3d shape");return l}chamfer(t,r){const s=rt()(new this.oc.BRepFilletAPI_MakeChamfer(this.wrapped));let o=t;if(Su(t)&&r&&(o={radius:t,filter:r(new ti)}),!this._builderIter(o,(f,v)=>{if(Aa(f))return s.Add_2(f,v);const g=new Vn,_=f.selectedFace(g).find(this,{unique:!0});if(!_)throw new Error("Could not find face for chamfer");if("distances"in f)return s.Add_3(f.distances[0]??1,f.distances[1]??1,v,_.wrapped);if("distance"in f)return s.AddDA(f.distance,f.angle*Gt,v,_.wrapped)},Su))throw new Error("Could not chamfer, no edge was selected");const l=nt(s.Shape());if(!Tr(l))throw new Error("Could not chamfer as a 3d shape");return l}}class Ul extends ki{}class io extends ki{}class Nl extends ki{}class Gl extends ki{}function Tr(e){return e instanceof Ul||e instanceof io||e instanceof Nl||e instanceof Gl}function ku(e){return e instanceof Rr}function gn(e){const t=J(),r=t.TopAbs_ShapeEnum,n=new Map([[r.TopAbs_VERTEX,t.TopoDS.Vertex_1],[r.TopAbs_EDGE,t.TopoDS.Edge_1],[r.TopAbs_WIRE,t.TopoDS.Wire_1],[r.TopAbs_FACE,t.TopoDS.Face_1],[r.TopAbs_SHELL,t.TopoDS.Shell_1],[r.TopAbs_SOLID,t.TopoDS.Solid_1],[r.TopAbs_COMPSOLID,t.TopoDS.CompSolid_1],[r.TopAbs_COMPOUND,t.TopoDS.Compound_1]]),s=Fl(e),o=n.get(s);if(!o)throw new Error("Could not find a wrapper for this shape type");return o(e)}function nt(e){const r=J().TopAbs_ShapeEnum,s=new Map([[r.TopAbs_VERTEX,Ml],[r.TopAbs_EDGE,_n],[r.TopAbs_WIRE,Rr],[r.TopAbs_FACE,bn],[r.TopAbs_SHELL,Ul],[r.TopAbs_SOLID,io],[r.TopAbs_COMPSOLID,Nl],[r.TopAbs_COMPOUND,Gl]]).get(Fl(e));if(!s)throw new Error("Could not find a wrapper for this shape type");return new s(gn(e))}const Hl=(e,t)=>{const r=J();return new _n(new r.BRepBuilderAPI_MakeEdge_3(Yt(e),Yt(t)).Edge())},w0=(e,t,r,n=[0,0,0],s=[0,0,1],o=!1)=>{const c=J(),[l,f]=yt();let v=2*Math.PI;o&&(v=-2*Math.PI);const g=l(new c.Geom2d_Line_3(l(new c.gp_Pnt2d_3(0,0)),l(new c.gp_Dir2d_4(v,e)))),_=t/e,w=g.Value(0),T=g.Value(_*Math.sqrt((2*Math.PI)**2+e**2)),P=l(new c.GCE2d_MakeSegment_1(w,T)),R=new c.Geom_CylindricalSurface_1(l(qs(n,s)),r),O=l(new c.BRepBuilderAPI_MakeEdge_30(l(new c.Handle_Geom2d_Curve_2(P.Value().get())),l(new c.Handle_Geom_Surface_2(R)))).Edge(),F=l(new c.BRepBuilderAPI_MakeWire_2(O)).Wire();return c.BRepLib.BuildCurves3d_2(F),f(),new Rr(F)},ni=e=>{const t=J(),r=new t.BRepBuilderAPI_MakeWire_1;e.forEach(c=>{c instanceof _n&&r.Add_1(c.wrapped),c instanceof Rr&&r.Add_2(c.wrapped)});const n=new t.Message_ProgressRange_1;r.Build(n);const s=r.Error();if(s!==t.BRepBuilderAPI_WireError.BRepBuilderAPI_WireDone){const c=new Map([[t.BRepBuilderAPI_WireError.BRepBuilderAPI_EmptyWire,"empty wire"],[t.BRepBuilderAPI_WireError.BRepBuilderAPI_NonManifoldWire,"non manifold wire"],[t.BRepBuilderAPI_WireError.BRepBuilderAPI_DisconnectedWire,"disconnected wire"]]);throw new Error(`Failed to build the wire, ${c.get(s)||"unknown error"}`)}const o=new Rr(r.Wire());return r.delete(),n.delete(),o},Go=(e,t)=>{const r=J(),n=new r.BRepBuilderAPI_MakeFace_15(e.wrapped,!1);if(!n.IsDone())throw n.delete(),new Error("Failed to build the face. Your wire might be non planar.");const s=n.Face();return n.delete(),new bn(s)},_0=(e,t)=>{const r=J(),[n,s]=yt(),o=n(r.BRep_Tool.Surface_2(e.wrapped)),l=n(new r.BRepBuilderAPI_MakeFace_21(o,t.wrapped,!0)).Face();return s(),new bn(l)},b0=(e,t)=>{const r=J(),n=new r.BRepPrimAPI_MakeBox_4(Yt(e),Yt(t)),s=new io(n.Solid());return n.delete(),s},si=e=>{const t=J(),r=Yt(e),n=new t.BRepBuilderAPI_MakeVertex(r),s=n.Vertex();return n.delete(),new Ml(s)},Ls=e=>{const t=J(),r=new t.TopoDS_Builder,n=new t.TopoDS_Compound;return r.MakeCompound(n),e.forEach(o=>{r.Add(n,o.wrapped),o.delete()}),nt(n)};function S0(e){const t=J(),r=rt(),n=r(new t.BRepBuilderAPI_Sewing(1e-6,!0,!0,!0,!1));return e.forEach(({wrapped:s})=>{n.Add(s)}),n.Perform(r(new t.Message_ProgressRange_1)),nt(gn(n.SewedShape()))}function Wl(e){const t=rt(),r=J(),n=S0(e),s=nt(t(new r.ShapeFix_Solid_1).SolidFromShell(n.wrapped));if(!(s instanceof io))throw new Error("Could not make a solid of faces and shells");return s}const Vl=(e,t)=>{const r=J(),[n,s]=yt(),o=n(new r.BRepBuilderAPI_MakeFace_2(e.wrapped));t.forEach(v=>{o.Add(v.wrapped)});const c=n(o.Face()),l=n(new r.ShapeFix_Face_2(c));l.FixOrientation_1();const f=l.Face();return s(),new bn(f)},E0=e=>e==="symmetric"||typeof e=="number"||Array.isArray(e)&&e.length===2,T0=e=>{let t;e?E0(e)?t={endTangent:e}:t={endTangent:0,...e}:t={endTangent:[1,0]};const{endTangent:r,startFactor:n=1,endFactor:s=1,startTangent:o}=t;let c;typeof r=="number"?c=In(1,r*Gt):c=r;let l;return typeof o=="number"?l=In(1,o*Gt):l=o,{endTangent:c,startFactor:n,endFactor:s,startTangent:l}};function xu(e,t,r,n){const s=e*r+t*n,o=Math.sqrt((e*e+t*t)*(r*r+n*n));let c=Math.acos(s/o);return e*n-t*r<0&&(c=-c),c}function k0([e,t],[r,n],s,o,c,l,f){const v=Math.PI*2;if(s<0&&(s=-s),o<0&&(o=-o),s==0||o==0)throw Error("rx and ry can not be 0");const g=Math.sin(c),_=Math.cos(c),w=(e-r)/2,T=(t-n)/2,P=(e+r)/2,R=(t+n)/2,O=_*w+g*T,F=_*T-g*w,L=O*O/(s*s)+F*F/(o*o);L>1&&(s=s*Math.sqrt(L),o=o*Math.sqrt(L));const I=s*o,X=s*F,te=o*O,ue=X*X+te*te;if(!ue)throw Error("start point can not be same as end point");let ae=Math.sqrt(Math.abs((I*I-ue)/ue));l==f&&(ae=-ae);const fe=ae*X/o,Te=-ae*te/s,De=_*fe-g*Te+P,Pe=g*fe+_*Te+R,Ie=(O-fe)/s,Ke=(O+fe)/s,Me=(F-Te)/o,He=(F+Te)/o,Ve=xu(1,0,Ie,Me);let Le=xu(Ie,Me,-Ke,-He);for(;Le>v;)Le-=v;for(;Le<0;)Le+=v;f||(Le-=v);let ve=Ve+Le;for(;ve>v;)ve-=v;for(;ve<0;)ve+=v;return{cx:De,cy:Pe,startAngle:Ve,deltaAngle:Le,endAngle:ve,clockwise:!!f,rx:s,ry:o}}const ql=(e,t)=>{const r=J(),n=new r.BRepPrimAPI_MakePrism_1(e.wrapped,t.wrapped,!1,!0),s=new io(gn(n.Shape()));return n.delete(),s},jl=(e,t=[0,0,0],r=[0,0,1],n=360)=>{const s=J(),o=Sl(t,r),c=new s.BRepPrimAPI_MakeRevol_1(e.wrapped,o,n*Gt,!1),l=nt(c.Shape());if(o.delete(),c.delete(),!Tr(l))throw new Error("Could not revolve to a 3d shape");return l};function Xs(e,t,{frenet:r=!1,auxiliarySpine:n,law:s=null,transitionMode:o="right",withContact:c,support:l,forceProfileSpineOthogonality:f}={},v=!1){const g=J(),_=o==="round"?!0:!!f,w=new g.BRepOffsetAPI_MakePipeShell(t.wrapped);if(o){const R={transformed:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_Transformed,round:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_RoundCorner,right:g.BRepBuilderAPI_TransitionMode.BRepBuilderAPI_RightCorner}[o];R&&w.SetTransitionMode(R)}l?w.SetMode_4(l):r&&w.SetMode_1(r),n&&w.SetMode_5(n.wrapped,!1,g.BRepFill_TypeOfContact.BRepFill_NoContact),s?w.SetLaw_1(e.wrapped,s,!!c,_):w.Add_1(e.wrapped,!!c,_);const T=new g.Message_ProgressRange_1;w.Build(T),v||w.MakeSolid();const P=nt(w.Shape());if(!Tr(P))throw new Error("Could not sweep to a 3d shape");if(v){const R=nt(w.FirstShape()),O=nt(w.LastShape());if(!ku(R))throw new Error("Could not sweep with one start wire");if(!ku(O))throw new Error("Could not sweep with one end wire");return w.delete(),[P,R,O]}return w.delete(),T.delete(),P}const zl=(e,{profile:t,endFactor:r=1})=>{let n;const s=J();if(t==="s-curve")n=new s.Law_S,n.Set_1(0,1,e,r);else if(t==="linear")n=new s.Law_Linear,n.Set(0,1,e,r);else throw new Error("Could not generate a law function");return n.Trim(0,e,1e-6)};function Xl(e,t,r,n,s=!1){const o=new ke(t),c=new ke(r),l=Hl(o,o.add(c)),f=ni([l]),v=n?zl(c.Length,n):null;return s?Xs(e,f,{law:v},s):Xs(e,f,{law:v},s)}function Yl(e,t,r,n,s,o=!1){const c=new ke(r),l=new ke(n),f=Hl(c,c.add(l)),v=ni([f]),g=360/t*l.Length,w=w0(g,l.Length,1,r,n),T=s?zl(l.Length,s):null;return o?Xs(e,v,{auxiliarySpine:w,law:T},o):Xs(e,v,{auxiliarySpine:w,law:T},o)}const x0=(e,{ruled:t=!0,startPoint:r,endPoint:n}={},s=!1)=>{const o=J(),[c,l]=yt(),f=c(new o.BRepOffsetAPI_ThruSections(!s,t,1e-6));r&&f.AddVertex(c(si(r)).wrapped),e.forEach(_=>f.AddWire(_.wrapped)),n&&f.AddVertex(c(si(n)).wrapped);const v=c(new o.Message_ProgressRange_1);f.Build(v);const g=nt(f.Shape());if(l(),!Tr(g))throw new Error("Could not loft to a 3d shape");return g};class Ys{constructor(t,{defaultOrigin:r=[0,0,0],defaultDirection:n=[0,0,1]}={}){this.wire=t,this.defaultOrigin=r,this.defaultDirection=n,this.baseFace=null}get baseFace(){return this._baseFace}set baseFace(t){t?this._baseFace=t.clone():this._baseFace=t}delete(){this.wire.delete(),this._defaultOrigin.delete(),this._defaultDirection.delete(),this.baseFace&&this.baseFace.delete()}clone(){const t=new Ys(this.wire.clone(),{defaultOrigin:this.defaultOrigin,defaultDirection:this.defaultDirection});return this.baseFace&&(t.baseFace=this.baseFace.clone()),t}get defaultOrigin(){return this._defaultOrigin}set defaultOrigin(t){this._defaultOrigin=new ke(t)}get defaultDirection(){return this._defaultDirection}set defaultDirection(t){this._defaultDirection=new ke(t)}face(){let t;return this.baseFace?t=_0(this.baseFace,this.wire):t=Go(this.wire),t}wires(){return this.wire.clone()}faces(){return this.face()}revolve(t,{origin:r}={}){const n=Go(this.wire),s=jl(n,r||this.defaultOrigin,t);return n.delete(),this.delete(),s}extrude(t,{extrusionDirection:r,extrusionProfile:n,twistAngle:s,origin:o}={}){const[c,l]=yt(),f=c(new ke(r||this.defaultDirection).normalized().multiply(t));if(n&&!s){const _=Xl(this.wire,o||this.defaultOrigin,f,n);return l(),this.delete(),_}if(s){const _=Yl(this.wire,s,o||this.defaultOrigin,f,n);return l(),this.delete(),_}const v=Go(this.wire),g=ql(v,f);return l(),this.delete(),g}sweepSketch(t,r={}){const n=this.wire.startPoint,s=this.wire.tangentAt(1e-9).multiply(-1).normalize(),o=s.cross(this.defaultDirection).multiply(-1),c=t(new Ht(n,o,s),n),l={forceProfileSpineOthogonality:!0,...r};this.baseFace&&(l.support=this.baseFace.wrapped);const f=Xs(c.wire,this.wire,l);return this.delete(),f}loftWith(t,r={},n=!1){const s=Array.isArray(t)?[this,...t]:[this,t],o=x0(s.map(c=>c.wire),r,n);return s.forEach(c=>c.delete()),o}}const P0=e=>{const t=J(),r=new t.Bnd_Box2d;return e.forEach(n=>{t.BndLib_Add2dCurve.Add_3(n.wrapped,1e-6,r)}),new oo(r)};function A0(e,t){const[r,n]=yt(),s=r(bl(t.origin,t.zDir,t.xDir)),o=J(),c=e.map(l=>{const f=o.GeomLib.To3d(s,l.wrapped);return new _n(new o.BRepBuilderAPI_MakeEdge_24(f).Edge())});return n(),c}const C0=(e,t)=>{const[r,n]=yt(),s=J(),o=e.map(c=>{const l=r(new s.BRepBuilderAPI_MakeEdge_30(c.wrapped,t));return new _n(l.Edge())});return n(),o},Zl=(e,t)=>{const r=J();return e.map(s=>t?new Ye(r.GeomLib.GTransform(s.wrapped,t)):s.clone())};class ao extends sr{transformCurves(t){return Zl(t,this.wrapped)}}const $l=(e,t,r=[0,0])=>{const n=J(),s=Wn(r,t),o=new n.gp_GTrsf2d_1;return o.SetAffinity(s,e),s.delete(),new ao(o)},R0=e=>{const t=J(),[r,n]=yt(),s=new t.gp_Trsf2d_1;s.SetTranslation_1(r(kl(e)));const o=new t.gp_GTrsf2d_2(s);return n(),new ao(o)},O0=(e,t=[0,0],r="center")=>{const n=J(),[s,o]=yt(),c=new n.gp_Trsf2d_1;r==="center"?c.SetMirror_1(s(kt(e))):c.SetMirror_2(s(Wn(t,e)));const l=new n.gp_GTrsf2d_2(c);return o(),new ao(l)},D0=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),o=new r.gp_Trsf2d_1;o.SetRotation(n(kt(t)),e);const c=new r.gp_GTrsf2d_2(o);return s(),new ao(c)},I0=(e,t=[0,0])=>{const r=J(),[n,s]=yt(),o=new r.gp_Trsf2d_1;o.SetScale(n(kt(t)),e);const c=new r.gp_GTrsf2d_2(o);return s(),new ao(c)};function L0(e,t,r="original"){const[n,s]=yt(),o=J();let c=n(o.BRep_Tool.Surface_2(t.wrapped));const l=t.UVBounds;let f=null;const v=n(Wn([0,0],[0,1])),g=n(Wn([0,0],[1,0]));if(r==="original"&&t.geomType!=="PLANE"){if(t.geomType!=="CYLINDRE")throw new Error("Only planar and cylidrical faces can be unwrapped for sketching");const T=n(c.get().Cylinder());T.Direct()||(c=c.get().UReversed());const P=T.Radius();f=$l(1/P,[0,1]).wrapped}if(r==="bounds"){if(f=n(new o.gp_GTrsf2d_1),f.SetAffinity(v,l.uMax-l.uMin),l.uMin!==0){const P=n(new o.gp_GTrsf2d_1);P.SetTranslationPart(new o.gp_XY_2(0,-l.uMin)),f.Multiply(P)}const T=n(new o.gp_GTrsf2d_1);if(T.SetAffinity(g,l.vMax-l.vMin),f.Multiply(T),l.vMin!==0){const P=n(new o.gp_GTrsf2d_1);P.SetTranslationPart(n(new o.gp_XY_2(0,-l.vMin))),f.Multiply(P)}}const _=Zl(e,f),w=C0(_,c);return s(),w}const xi=(e,t=1)=>{const r=e.bounds[0][0]-t,n=-e.bounds[1][1]-t;return`${r} ${n} ${e.width+2*t} ${e.height+2*t}`},l1=(e,t,r=1)=>`<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="${xi(t,r)}" fill="none" stroke="black" stroke-width="0.6%" vector-effect="non-scaling-stroke">
    ${e}
</svg>`;class xe{constructor(t){this.curves=t,this._boundingBox=null,this._orientation=null,this._guessedOrientation=null}delete(){this.curves.forEach(t=>t.delete()),this._boundingBox&&this._boundingBox.delete()}clone(){return new xe(this.curves)}get repr(){return["Blueprint",...this.curves.map(t=>t.repr)].join(`
`)}get boundingBox(){return this._boundingBox||(this._boundingBox=P0(this.curves)),this._boundingBox}get orientation(){if(this._orientation)return this._orientation;if(this._guessedOrientation)return this._guessedOrientation;const t=this.curves.flatMap(n=>n.geomType!=="LINE"?[n.firstPoint,n.value(.5)]:[n.firstPoint]),r=t.map((n,s)=>{const o=t[(s+1)%t.length];return(o[0]-n[0])*(o[1]+n[1])}).reduce((n,s)=>n+s,0);return this._guessedOrientation=r>0?"clockwise":"counterClockwise",this._guessedOrientation}stretch(t,r,n=[0,0]){const s=$l(t,r,n).transformCurves(this.curves);return new xe(s)}scale(t,r){const n=r||this.boundingBox.center,s=I0(t,n).transformCurves(this.curves);return new xe(s)}rotate(t,r){const n=D0(t*Gt,r).transformCurves(this.curves);return new xe(n)}translate(t,r=0){const n=js(t)?t:[t,r],s=R0(n).transformCurves(this.curves);return new xe(s)}mirror(t,r=[0,0],n="center"){const s=O0(t,r,n).transformCurves(this.curves);return new xe(s)}sketchOnPlane(t,r){const n=t instanceof Ht?Hn(t):Hn(t,r),s=A0(this.curves,n),o=ni(s);return new Ys(o,{defaultOrigin:n.origin,defaultDirection:n.zDir})}sketchOnFace(t,r){const n=J(),s=L0(this.curves,t,r),o=ni(s);n.BRepLib.BuildCurves3d_2(o.wrapped);const c=new n.ShapeFix_Wire_2(o.wrapped,t.wrapped,1e-9);c.FixEdgeCurves(),c.delete();const l=new Ys(o);if(o.isClosed){const f=l.clone().face();l.defaultOrigin=f.pointOnSurface(.5,.5),l.defaultDirection=f.normalAt(),f.orientation!==t.orientation&&(l.defaultDirection=l.defaultDirection.multiply(-1)),l.baseFace=t}else{const f=o.startPoint;l.defaultOrigin=f,l.defaultDirection=t.normalAt(f),l.baseFace=t}return l}subFace(t,r){let n=this.translate(t.uvCoordinates(r||t.center)).sketchOnFace(t,"original").face();return n.orientation!==t.orientation&&(n=n.flipOrientation()),n}punchHole(t,r,{height:n=null,origin:s=null,draftAngle:o=0}={}){const c=J(),l=rt(),f=v0(r,t),v=this.subFace(f,s),g=l(new c.BRepFeat_MakeDPrism_1(t.wrapped,v.wrapped,f.wrapped,o*Gt,0,!1));return n?g.Perform_1(n):g.PerformThruAll(),nt(g.Shape())}toSVGPathD(){const t=rt(),r=this.clone().mirror([1,0],[0,0],"plane"),s=Ko(r.curves).flatMap(l=>f0(t(l.adaptor()),l.lastPoint)),[o,c]=r.curves[0].firstPoint;return`M ${er(o)} ${er(c)} ${s.join(" ")}${r.isClosed()?" Z":""}`}toSVGPath(){return`<path d="${this.toSVGPathD()}" />`}toSVGViewBox(t=1){return xi(this.boundingBox,t)}toSVGPaths(){return[this.toSVGPathD()]}toSVG(t=1){return l1(this.toSVGPath(),this.boundingBox,t)}get firstPoint(){return this.curves[0].firstPoint}get lastPoint(){return this.curves[this.curves.length-1].lastPoint}isInside(t){if(!this.boundingBox.containsPoint(t))return!1;const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1,s=Kr(t,this.boundingBox.outsidePoint());let o=0;return this.curves.find(l=>l.isOnCurve(t))?!1:(this.curves.forEach(l=>{l.boundingBox.isOut(s.boundingBox)||(n.Init_1(s.wrapped,l.wrapped,1e-9),o+=n.NbPoints())}),n.delete(),!!(o%2))}isClosed(){return Ot(this.firstPoint,this.lastPoint)}intersects(t){const r=J(),n=new r.Geom2dAPI_InterCurveCurve_1;if(this.boundingBox.isOut(t.boundingBox))return!1;for(const s of this.curves)for(const o of t.curves)if(!s.boundingBox.isOut(o.boundingBox)&&(n.Init_1(s.wrapped,o.wrapped,1e-9),n.NbPoints()||n.NbSegments()))return!0;return n.delete(),!1}}function Pu(e,t){if(typeof e=="function")return e;const r=t==="chamfer"?Dl:t==="dogbone"?i0:Ol;return(n,s)=>r(n,s,e)}class F0{constructor(t=[0,0]){this.pointer=t,this.firstPoint=t,this._nextCorner=null,this.pendingCurves=[]}_convertToUV([t,r]){return[t,r]}_convertFromUV([t,r]){return[t,r]}get penPosition(){return this.pointer}get penAngle(){if(this.pendingCurves.length===0)return 0;const t=this.pendingCurves[this.pendingCurves.length-1],[r,n]=t.tangentAt(1);return Math.atan2(n,r)*Fn}movePointerTo(t){if(this.pendingCurves.length)throw new Error("You can only move the pointer if there is no curve defined");return this.pointer=t,this.firstPoint=t,this}saveCurve(t){if(!this._nextCorner){this.pendingCurves.push(t);return}const r=this.pendingCurves.pop();if(!r)throw new Error("bug in the custom corner algorithm");this.pendingCurves.push(...this._nextCorner(r,t)),this._nextCorner=null}lineTo(t){const r=Kr(this._convertToUV(this.pointer),this._convertToUV(t));return this.pointer=t,this.saveCurve(r),this}line(t,r){return this.lineTo([this.pointer[0]+t,this.pointer[1]+r])}vLine(t){return this.line(0,t)}hLine(t){return this.line(t,0)}vLineTo(t){return this.lineTo([this.pointer[0],t])}hLineTo(t){return this.lineTo([t,this.pointer[1]])}polarLineTo([t,r]){const n=r*Gt,s=In(t,n);return this.lineTo(s)}polarLine(t,r){const n=r*Gt,[s,o]=In(t,n);return this.line(s,o)}tangentLine(t){const r=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null;if(!r)throw new Error("You need a previous curve to sketch a tangent line");const n=lr(this._convertFromUV(r.tangentAt(1)));return this.line(n[0]*t,n[1]*t)}threePointsArcTo(t,r){return this.saveCurve(Jo(this._convertToUV(this.pointer),this._convertToUV(r),this._convertToUV(t))),this.pointer=t,this}threePointsArc(t,r,n,s){const[o,c]=this.pointer;return this.threePointsArcTo([o+t,c+r],[o+n,c+s])}sagittaArcTo(t,r){const[n,s]=this.pointer,[o,c]=t,l=[(n+o)/2,(s+c)/2],f=[-(c-s),o-n],v=Math.sqrt(f[0]**2+f[1]**2),g=[l[0]+f[0]/v*r,l[1]+f[1]/v*r];return this.saveCurve(Jo(this._convertToUV(this.pointer),this._convertToUV(g),this._convertToUV(t))),this.pointer=t,this}sagittaArc(t,r,n){return this.sagittaArcTo([t+this.pointer[0],r+this.pointer[1]],n)}vSagittaArc(t,r){return this.sagittaArc(0,t,r)}hSagittaArc(t,r){return this.sagittaArc(t,0,r)}bulgeArcTo(t,r){if(!r)return this.lineTo(t);const n=cr(this.pointer,t)/2,s=-r*n;return this.sagittaArcTo(t,s)}bulgeArc(t,r,n){return this.bulgeArcTo([t+this.pointer[0],r+this.pointer[1]],n)}vBulgeArc(t,r){return this.bulgeArc(0,t,r)}hBulgeArc(t,r){return this.bulgeArc(t,0,r)}tangentArcTo(t){const r=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null;if(!r)throw new Error("You need a previous curve to sketch a tangent arc");return this.saveCurve(t0(this._convertToUV(this.pointer),r.tangentAt(1),this._convertToUV(t))),this.pointer=t,this}tangentArc(t,r){const[n,s]=this.pointer;return this.tangentArcTo([t+n,r+s])}ellipseTo(t,r,n,s=0,o=!1,c=!1){let l=s,f=r,v=n;r<n&&(l=s+90,f=n,v=r);const g=l*Gt,_=fe=>cr(this._convertToUV(fe)),w=_(In(f,g)),T=_(In(v,g+Math.PI/2)),P=lr(this._convertToUV(Qm([1,0],g))),[,R]=Km(P),{cx:O,cy:F,startAngle:L,endAngle:I,clockwise:X,rx:te,ry:ue}=k0(this._convertToUV(this.pointer),this._convertToUV(t),w,T,R,o,c),ae=n0(te,ue,X?L:I,X?I:L,[O,F],P);return X||ae.reverse(),this.saveCurve(ae),this.pointer=t,this}ellipse(t,r,n,s,o=0,c=!1,l=!1){const[f,v]=this.pointer;return this.ellipseTo([t+f,r+v],n,s,o,c,l)}halfEllipseTo(t,r,n=!1){const s=$m(t,this.pointer),o=cr(t,this.pointer);return this.ellipseTo(t,o/2,r,s*Fn,!0,n)}halfEllipse(t,r,n,s=!1){const[o,c]=this.pointer;return this.halfEllipseTo([o+t,c+r],n,s)}bezierCurveTo(t,r){let n;return r.length===2&&!Array.isArray(r[0])?n=[r]:n=r,this.saveCurve(s0(this._convertToUV(this.pointer),n.map(s=>this._convertToUV(s)),this._convertToUV(t))),this.pointer=t,this}quadraticBezierCurveTo(t,r){return this.bezierCurveTo(t,[r])}cubicBezierCurveTo(t,r,n){return this.bezierCurveTo(t,[r,n])}smoothSplineTo(t,r){const{endTangent:n,startTangent:s,startFactor:o,endFactor:c}=T0(r),l=this.pendingCurves.length?this.pendingCurves[this.pendingCurves.length-1]:null,f=cr(this.pointer,t)*.25;let v;s?v=s:l?v=this._convertFromUV(l.tangentAt(1)):v=[1,0],v=lr(v);const g=[this.pointer[0]+v[0]*o*f,this.pointer[1]+v[1]*o*f];let _;n==="symmetric"?_=[-v[0],-v[1]]:_=n,_=lr(_);const w=[t[0]-_[0]*c*f,t[1]-_[1]*c*f];return this.cubicBezierCurveTo(t,g,w)}smoothSpline(t,r,n){return this.smoothSplineTo([t+this.pointer[0],r+this.pointer[1]],n)}customCorner(t,r="fillet"){if(!this.pendingCurves.length)throw new Error("You need a curve defined to fillet the angle");return this._nextCorner=Pu(t,r),this}_customCornerLastWithFirst(t,r="fillet"){if(!t)return;const n=this.pendingCurves.pop(),s=this.pendingCurves.shift();if(!n||!s)throw new Error("Not enough curves to close and fillet");this.pendingCurves.push(...Pu(t,r)(n,s))}_closeSketch(){Ot(this.pointer,this.firstPoint)||this.lineTo(this.firstPoint)}_closeWithMirror(){if(Ot(this.pointer,this.firstPoint))throw new Error("Cannot close with a mirror when the sketch is already closed");const t=[this.pointer[0]-this.firstPoint[0],this.pointer[1]-this.firstPoint[1]],r=Wn(this._convertToUV(this.pointer),this._convertToUV(t)),n=this.pendingCurves.map(s=>new Ye(s.innerCurve.Mirrored_2(r)));n.reverse(),n.map(s=>s.reverse()),this.pendingCurves.push(...n),this.pointer=this.firstPoint}}const M0=e=>{const t=J(),r=new t.BRepOffsetAPI_MakeFilling(3,15,2,!1,1e-5,1e-4,.01,.1,8,9);e.forEach((o,c)=>{o.edges.forEach(l=>{r.Add_1(l.wrapped,t.GeomAbs_Shape.GeomAbs_C0,c===0)})});const n=new t.Message_ProgressRange_1;r.Build(n),n.delete();const s=nt(r.Shape());if(r.delete(),!(s instanceof bn))throw new Error("Failed to create a face");return s},B0=(e,t)=>{const r=J(),n=new r.ShapeFix_Wire_2(e.wrapped,t.wrapped,1e-9);return n.FixEdgeCurves(),n.delete(),e},Au=e=>{let t,r;try{t=Go(e[0]),r=e.slice(1)}catch{t=M0(e),r=e.slice(1).map(s=>B0(s,t))}return Vl(t,r)},Cu=(e,t)=>{const r=[],n=[],s=[];e.forEach(f=>{const[v,g,_]=t(f);r.push(v),n.push(g),s.push(_)});const o=Au(n),c=Au(s);return Wl([o,...r,c])};class Ru{constructor(t){this.sketches=t}delete(){this.sketches.forEach(t=>t.delete())}get outerSketch(){return this.sketches[0]}get innerSketches(){return this.sketches.slice(1)}get wires(){const t=this.sketches.map(r=>r.wire);return Ls(t)}face(){const t=this.outerSketch.face();return Vl(t,this.innerSketches.map(n=>n.wire))}extrude(t,{extrusionDirection:r,extrusionProfile:n,twistAngle:s,origin:o}={}){const c=new ke(r||this.outerSketch.defaultDirection).normalized().multiply(t);return n&&!s?Cu(this.sketches,v=>Xl(v.wire,o||this.outerSketch.defaultOrigin,c,n,!0)):s?Cu(this.sketches,v=>Yl(v.wire,s,o||this.outerSketch.defaultOrigin,c,n,!0)):ql(this.face(),c)}revolve(t,{origin:r}={}){return jl(this.face(),r||this.outerSketch.defaultOrigin,t)}loftWith(t,r){if(this.sketches.length!==t.sketches.length)throw new Error("You need to loft with another compound with the same number of sketches");const n=this.sketches.map((o,c)=>{const l=t.sketches[c];return o.clone().loftWith(l.clone(),{ruled:r.ruled},!0)}),s=this.face().clone();return n.push(s,t.face()),Wl(n)}}class We{constructor(t){this.blueprints=t,this._boundingBox=null}clone(){return new We(this.blueprints)}get boundingBox(){if(!this._boundingBox){const t=new oo;this.blueprints.forEach(r=>t.add(r.boundingBox)),this._boundingBox=t}return this._boundingBox}get repr(){return["Compound Blueprints","-- Outline",this.blueprints[0].repr,"-- Holes",...this.blueprints.slice(1).map(t=>t.repr)].join(`
`)}stretch(t,r,n){return new We(this.blueprints.map(s=>s.stretch(t,r,n)))}rotate(t,r){return new We(this.blueprints.map(n=>n.rotate(t,r)))}scale(t,r){const n=r||this.boundingBox.center;return new We(this.blueprints.map(s=>s.scale(t,n)))}translate(t,r=0){return new We(this.blueprints.map(n=>n.translate(t,r)))}mirror(t,r,n){return new We(this.blueprints.map(s=>s.mirror(t,r,n)))}sketchOnPlane(t,r){const n=this.blueprints.map(s=>s.sketchOnPlane(t,r));return new Ru(n)}sketchOnFace(t,r){const n=this.blueprints.map(s=>s.sketchOnFace(t,r));return new Ru(n)}punchHole(t,r,n={}){return this.blueprints[0].punchHole(t,r,n)}toSVGViewBox(t=1){return xi(this.boundingBox,t)}toSVGPaths(){return this.blueprints.flatMap(t=>t.toSVGPaths())}toSVGGroup(){return`<g>${this.blueprints.map(t=>t.toSVGPath()).join("")}</g>`}toSVG(t=1){return l1(this.toSVGGroup(),this.boundingBox,t)}}class Ou{constructor(t){this.sketches=t}wires(){const t=this.sketches.map(r=>r instanceof Ys?r.wire:r.wires);return Ls(t)}faces(){const t=this.sketches.map(r=>r.face());return Ls(t)}extrude(t,r={}){const n=this.sketches.map(s=>s.extrude(t,r));return Ls(n)}revolve(t,r){return Ls(this.sketches.map(n=>n.revolve(t,r)))}}class _e{constructor(t){this.blueprints=t,this._boundingBox=null}get repr(){return["Blueprints",...this.blueprints.map(t=>t.repr)].join(`
`)}clone(){return new _e(this.blueprints)}get boundingBox(){if(!this._boundingBox){const t=new oo;this.blueprints.forEach(r=>t.add(r.boundingBox)),this._boundingBox=t}return this._boundingBox}stretch(t,r,n){return new _e(this.blueprints.map(s=>s.stretch(t,r,n)))}rotate(t,r){return new _e(this.blueprints.map(n=>n.rotate(t,r)))}scale(t,r){const n=r||this.boundingBox.center;return new _e(this.blueprints.map(s=>s.scale(t,n)))}translate(t,r=0){return new _e(this.blueprints.map(n=>n.translate(t,r)))}mirror(t,r,n){return new _e(this.blueprints.map(s=>s.mirror(t,r,n)))}sketchOnPlane(t,r){return new Ou(this.blueprints.map(n=>n.sketchOnPlane(t,r)))}sketchOnFace(t,r){return new Ou(this.blueprints.map(n=>n.sketchOnFace(t,r)))}punchHole(t,r,n={}){let s=t;return this.blueprints.forEach(o=>{s=o.punchHole(s,r,n)}),s}toSVGViewBox(t=1){return xi(this.boundingBox,t)}toSVGPaths(){return this.blueprints.map(t=>t.toSVGPaths())}toSVG(t=1){const r=this.blueprints.map(n=>n instanceof xe?n.toSVGPath():n.toSVGGroup());return l1(r.join(`
    `),this.boundingBox,t)}}const U0=e=>{const t=e.map((s,o)=>e.slice(o+1).map((c,l)=>[l+o+1,c]).filter(([,c])=>!s.boundingBox.isOut(c.boundingBox)).map(([c])=>c)),r=[],n=Array(t.length);return t.forEach((s,o)=>{let c=n[o];c||(c=[],r.push(c)),c.push(e[o]),s.length&&s.forEach(l=>{n[l]=c})}),r},Ql=e=>e.map((t,r)=>{const n=t.curves[0],s=n.value((n.lastParameter+n.firstParameter)/2),o=e.filter((c,l)=>r===l?!1:c.isInside(s));return{blueprint:t,isIn:o}}),N0=(e,t)=>e.flatMap(({blueprint:r})=>f1(t.filter(({blueprint:n,isIn:s})=>n===r||s.indexOf(r)!==-1))),G0=(e,t)=>{const r=t.filter(({isIn:s})=>s.length<=1),n=f1(Ql(e.map(({blueprint:s})=>s)));return[r,...n]},f1=e=>{if(!e.length)return[];const t=e.filter(({isIn:n})=>!n.length),r=e.filter(({isIn:n})=>n.length>1);return t.length===1&&r.length===0?[e]:t.length>1?N0(t,e):G0(r,e)},uo=e=>{const t=U0(e).map(Ql);return new _e(t.flatMap(f1).map(r=>r.length===1?r[0].blueprint:(r.sort((n,s)=>n.isIn.length-s.isIn.length),new We(r.map(({blueprint:n})=>n)))))},Ho=1e-9,Rt=(e,t)=>Ot(e,t,Ho),Fs=e=>{const t=(e.lastParameter+e.firstParameter)/2;return e.value(t)},Du=(e,t)=>{const r=e.findIndex(o=>Rt(t,o.firstPoint)),n=e.slice(0,r);return e.slice(r).concat(n)},Iu=(e,t)=>{const r=c=>Rt(t.firstPoint,c.firstPoint)&&Rt(t.lastPoint,c.lastPoint);let n=e.findIndex(r);if(n===-1&&(e=p1(e),n=e.findIndex(r),n===-1))throw console.error(e.map(c=>c.repr),t.repr),new Error("Failed to rotate to segment start");const s=e.slice(0,n);return e.slice(n).concat(s)};function*Lu(e,t,r){const n=c=>!!t.find(l=>Rt(l,c.lastPoint)),s=c=>!!r.find(l=>Rt(l.firstPoint,c.firstPoint)&&Rt(l.lastPoint,c.lastPoint)||Rt(l.firstPoint,c.lastPoint)&&Rt(l.lastPoint,c.firstPoint));let o=[];for(const c of e)n(c)?(o.push(c),yield o,o=[]):s(c)?(o.length&&(yield o,o=[]),yield[c]):o.push(c);o.length&&(yield o)}const H0=e=>e[0].firstPoint,oa=e=>e[e.length-1].lastPoint,p1=e=>(e.reverse(),e.map(t=>{const r=t.clone();return r.reverse(),r})),W0=e=>(e.reverse(),e.map(p1));function V0(e,t,r){return e.filter(n=>{const s=t.filter(l=>Rt(l.firstPoint,n)||Rt(l.lastPoint,n));if(s.length%2)throw console.error(s,n),new Error("Bug in the intersection algo on non crossing point");const o=s.map(l=>r.isInside(Fs(l)));return!(o.every(l=>l)||!o.some(l=>l))})}function q0(e,t){let r=[];const n=[],s=new Array(e.curves.length).fill(0).map(()=>[]),o=new Array(t.curves.length).fill(0).map(()=>[]);if(e.curves.forEach((w,T)=>{t.curves.forEach((P,R)=>{const{intersections:O,commonSegments:F,commonSegmentsPoints:L}=$r(w,P,Ho/100);r.push(...O),s[T].push(...O),o[R].push(...O),n.push(...F),r.push(...L),s[T].push(...L),o[R].push(...L)})}),r=Tl(r,Ho),!r.length||r.length===1)return null;const c=([w,T])=>T.length?w.splitAt(T,Ho/100):[w];let l=Mn([e.curves,s]).flatMap(c),f=Mn([t.curves,o]).flatMap(c);const v=n.map(w=>[w.firstPoint,w.lastPoint]);if(r=V0(r,l,t),!r.length&&!n.length)return null;if(n.length){const w=n[0];l=Iu(l,w),f=Iu(f,w)}else{const w=r[0];l=Du(l,w),f=Du(f,w)}const g=Array.from(Lu(l,r,n));let _=Array.from(Lu(f,r,n));return(!Rt(oa(_[0]),oa(g[0]))||n.length>0&&_[0].length!==1)&&(_=W0(_)),Mn([g,_]).map(([w,T])=>{const P=H0(w),R=oa(w);return v.find(([O,F])=>Rt(O,P)&&Rt(F,R)||Rt(O,R)&&Rt(O,P))?[w,"same"]:[w,T]})}const j0=e=>{const t=e.map(c=>c.firstPoint);let r=e.map(c=>c.lastPoint);r=r.slice(-1).concat(r.slice(0,-1));const n=Mn([t,r]).map(([c,l],f)=>Rt(c,l)?null:f).filter(c=>c!==null);if(!n.length)return[e];const s=Mn([n.slice(0,-1),n.slice(1)]).map(([c,l])=>e.slice(c,l));let o=e.slice(n[n.length-1]);return n[0]!==0&&(o=o.concat(e.slice(0,n[0]))),s.push(o),s};function h1(e,t,{firstInside:r,secondInside:n}){const s=q0(e,t);if(!s){const v=Fs(e.curves[0]),g=t.isInside(v),_=Fs(t.curves[0]),w=e.isInside(_);return{identical:!1,firstCurveInSecond:g,secondCurveInFirst:w}}if(s.every(([,v])=>v==="same"))return{identical:!0};let o=null,c=null;const l=s.flatMap(([v,g])=>{let _=[],w=0;if(g==="same")return c===1?(c=1,[...v]):c===2||c===0?(c=null,[]):c===null?(o?o=[...o,...v]:o=v,[]):(console.error("weird situation"),[]);const T=Fs(v[0]),P=t.isInside(T);(r==="keep"&&P||r==="remove"&&!P)&&(w+=1,_.push(...v));const R=Fs(g[0]),O=e.isInside(R);if(n==="keep"&&O||n==="remove"&&!O){let F=g;w===1&&(F=p1(g)),w+=1,_.push(...F)}return c===null&&w===1&&o&&(_=[...o,..._]),w===1&&(c=w,o=null),_}),f=j0(l).filter(v=>v.length).map(v=>new xe(v));return f.length===0?null:f.length===1?f[0]:uo(f)}const Pi=(e,t)=>{const r=h1(e,t,{firstInside:"remove",secondInside:"remove"});return r===null||r instanceof xe||r instanceof _e?r:r.identical?e.clone():r.firstCurveInSecond?t.clone():r.secondCurveInFirst?e.clone():new _e([e,t])},Zs=(e,t)=>{const r=h1(e,t,{firstInside:"remove",secondInside:"keep"});return r===null||r instanceof xe||r instanceof _e?r:r.identical||r.firstCurveInSecond?null:r.secondCurveInFirst?new _e([new We([e,t])]):e.clone()},d1=(e,t)=>{const r=h1(e,t,{firstInside:"keep",secondInside:"keep"});return r===null||r instanceof xe||r instanceof _e?r:r.identical||r.firstCurveInSecond?e.clone():r.secondCurveInFirst?t.clone():null},Ca=(e,t)=>{if(e instanceof xe&&t instanceof xe){let r=[];return e.curves.forEach(n=>{t.curves.forEach(s=>{const{intersections:o,commonSegmentsPoints:c}=$r(n,s);r.push(...o),r.push(...c)})}),r=Tl(r),r.length>1}if(e instanceof We||e instanceof _e)return e.blueprints.some(r=>Ca(r,t));if(t instanceof We||t instanceof _e)return t.blueprints.some(r=>Ca(e,r));throw new Error("Bug in the generic intersects algorithm")},z0=(e,t)=>{if(e instanceof We){if(t instanceof xe)return oi(t,e);if(t instanceof We)return ii(e,t)}if(t instanceof We){if(e instanceof xe)return oi(e,t);if(e instanceof We)return ii(e,t)}if(e instanceof xe&&t instanceof xe)return Pi(e,t);throw new Error("Bug in the generic fuse algorithm")},Fu=e=>{const t=new Map,r=[];return e.forEach((n,s)=>{let o;t.has(s)?o=t.get(s):(o={current:n,fusedWith:new Set([s])},r.push(o)),e.slice(s+1).forEach((c,l)=>{const f=o.current,v=s+l+1;if(o.fusedWith.has(v))return;let g=c,_=!1;if(t.has(v)&&(g=t.get(v).current,_=!0),f.boundingBox.isOut(g.boundingBox)||!Ca(f,g))return;let w;if(f instanceof _e||g instanceof _e?w=xr(f,g):w=z0(f,g),!(w instanceof xe||w instanceof We)){if(w instanceof _e&&w.blueprints.length===2)return;if(w instanceof _e&&w.blueprints.length===1)w=w.blueprints[0];else if(!(w instanceof _e))throw console.error(w),new Error("Bug in blueprint fusing algorigthm")}o.fusedWith.add(v),o.current=w,_||t.set(v,o)})}),uo(r.map(({current:n})=>n).filter(n=>n).flatMap(n=>kr(n)))},kr=e=>e instanceof xe?[e]:e instanceof We?e.blueprints:e instanceof _e?e.blueprints.flatMap(t=>kr(t)):[],oi=(e,t)=>{const r=Pi(e,t.blueprints[0]),n=t.blueprints.slice(1).map(s=>Zs(s,e));return uo([...kr(r),...n.flatMap(s=>kr(s))])};function X0(e,t){const r=[];for(const n of e)for(const s of t)r.push([n,s]);return r}const ii=(e,t)=>{const r=Pi(e.blueprints[0],t.blueprints[0]),n=t.blueprints.slice(1).map(c=>Zs(c,e.blueprints[0])),s=e.blueprints.slice(1).map(c=>Zs(c,t.blueprints[0])),o=X0(e.blueprints.slice(1),t.blueprints.slice(1)).flatMap(([c,l])=>kr(d1(c,l)));return uo([...kr(r),...n.flatMap(c=>kr(c)),...s.flatMap(c=>kr(c)),...o])},xr=(e,t)=>{if(e===null)return t&&t.clone();if(t===null)return e&&e.clone();if(!(e instanceof _e)&&t instanceof _e)return Fu([e,...t.blueprints]);if(!(t instanceof _e)&&e instanceof _e)return Fu([t,...e.blueprints]);if(e instanceof _e&&t instanceof _e){let r=xr(e.blueprints[0],t);return e.blueprints.slice(1).forEach(n=>{r=xr(n,r)}),r}if(e instanceof We){if(t instanceof _e)return xr(t,e);if(t instanceof xe)return oi(t,e);if(t instanceof We)return ii(e,t)}if(t instanceof We){if(e instanceof _e)return xr(e,t);if(e instanceof xe)return oi(e,t);if(e instanceof We)return ii(e,t)}return e instanceof xe&&t instanceof xe?Pi(e,t):null},ai=e=>{const t=e.flatMap(r=>r===null?[]:r instanceof _e?r.blueprints:r);return t.length===1?t[0]:new _e(t)},jr=(e,t)=>{if(e===null)return null;if(t===null)return e.clone();if(e instanceof _e)return ai(e.blueprints.map(n=>jr(n,t)));if(e instanceof We){const n=e.blueprints[0];if(t instanceof xe&&!t.intersects(n)){if(!n.isInside(t.firstPoint))return null;const s=xr(t,new _e(e.blueprints.slice(1)));return uo([n,...kr(s)])}else{let s=jr(e.blueprints[0],t);return e.blueprints.slice(1).forEach(o=>{s=jr(s,o)}),s}}if(t instanceof _e)return ai(t.blueprints.map(n=>jr(e,n)));if(t instanceof We){let n=Zs(e,t.blueprints[0]);return t.blueprints.slice(1).forEach(s=>{n=xr(n,d1(s,e))}),n}return Zs(e,t)};function Ms(e,t){if(e===null||t===null)return null;if(e instanceof xe&&t instanceof xe)return d1(e,t);if(e instanceof _e)return ai(e.blueprints.map(r=>Ms(r,t)));if(e instanceof We){const r=e.blueprints[0],n=e.blueprints[1];return jr(Ms(r,t),n)}if(t instanceof _e)return ai(t.blueprints.map(r=>Ms(e,r)));if(t instanceof We){const r=t.blueprints[0],n=t.blueprints[1];return jr(Ms(r,e),n)}throw new Error("intersct 2D algorithm error")}String.prototype.codePointAt||(function(){var e=(function(){try{var r={},n=Object.defineProperty,s=n(r,r,r)&&n}catch{}return s})(),t=function(r){if(this==null)throw TypeError();var n=String(this),s=n.length,o=r?Number(r):0;if(o!=o&&(o=0),!(o<0||o>=s)){var c=n.charCodeAt(o),l;return c>=55296&&c<=56319&&s>o+1&&(l=n.charCodeAt(o+1),l>=56320&&l<=57343)?(c-55296)*1024+l-56320+65536:c}};e?e(String.prototype,"codePointAt",{value:t,configurable:!0,writable:!0}):String.prototype.codePointAt=t})();function Kl(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}var Y0=new Kl,Z0=new Kl,Jl=new Uint8Array(30),ef=new Uint16Array(30),$0=new Uint8Array(30),Q0=new Uint16Array(30);function tf(e,t,r,n){var s,o;for(s=0;s<r;++s)e[s]=0;for(s=0;s<30-r;++s)e[s+r]=s/r|0;for(o=n,s=0;s<30;++s)t[s]=o,o+=1<<e[s]}function K0(e,t){var r;for(r=0;r<7;++r)e.table[r]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,r=0;r<24;++r)e.trans[r]=256+r;for(r=0;r<144;++r)e.trans[24+r]=r;for(r=0;r<8;++r)e.trans[168+r]=280+r;for(r=0;r<112;++r)e.trans[176+r]=144+r;for(r=0;r<5;++r)t.table[r]=0;for(t.table[5]=32,r=0;r<32;++r)t.trans[r]=r}K0(Y0,Z0);tf(Jl,ef,4,3);tf($0,Q0,2,1);Jl[28]=0;ef[28]=258;function Dn(e,t,r,n,s){return Math.pow(1-s,3)*e+3*Math.pow(1-s,2)*s*t+3*(1-s)*Math.pow(s,2)*r+Math.pow(s,3)*n}function tn(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}tn.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};tn.prototype.addPoint=function(e,t){typeof e=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=e,this.x2=e),e<this.x1&&(this.x1=e),e>this.x2&&(this.x2=e)),typeof t=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=t,this.y2=t),t<this.y1&&(this.y1=t),t>this.y2&&(this.y2=t))};tn.prototype.addX=function(e){this.addPoint(e,null)};tn.prototype.addY=function(e){this.addPoint(null,e)};tn.prototype.addBezier=function(e,t,r,n,s,o,c,l){var f=[e,t],v=[r,n],g=[s,o],_=[c,l];this.addPoint(e,t),this.addPoint(c,l);for(var w=0;w<=1;w++){var T=6*f[w]-12*v[w]+6*g[w],P=-3*f[w]+9*v[w]-9*g[w]+3*_[w],R=3*v[w]-3*f[w];if(P===0){if(T===0)continue;var O=-R/T;0<O&&O<1&&(w===0&&this.addX(Dn(f[w],v[w],g[w],_[w],O)),w===1&&this.addY(Dn(f[w],v[w],g[w],_[w],O)));continue}var F=Math.pow(T,2)-4*R*P;if(!(F<0)){var L=(-T+Math.sqrt(F))/(2*P);0<L&&L<1&&(w===0&&this.addX(Dn(f[w],v[w],g[w],_[w],L)),w===1&&this.addY(Dn(f[w],v[w],g[w],_[w],L)));var I=(-T-Math.sqrt(F))/(2*P);0<I&&I<1&&(w===0&&this.addX(Dn(f[w],v[w],g[w],_[w],I)),w===1&&this.addY(Dn(f[w],v[w],g[w],_[w],I)))}}};tn.prototype.addQuad=function(e,t,r,n,s,o){var c=e+.6666666666666666*(r-e),l=t+2/3*(n-t),f=c+1/3*(s-e),v=l+1/3*(o-t);this.addBezier(e,t,c,l,f,v,s,o)};function bt(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}bt.prototype.moveTo=function(e,t){this.commands.push({type:"M",x:e,y:t})};bt.prototype.lineTo=function(e,t){this.commands.push({type:"L",x:e,y:t})};bt.prototype.curveTo=bt.prototype.bezierCurveTo=function(e,t,r,n,s,o){this.commands.push({type:"C",x1:e,y1:t,x2:r,y2:n,x:s,y:o})};bt.prototype.quadTo=bt.prototype.quadraticCurveTo=function(e,t,r,n){this.commands.push({type:"Q",x1:e,y1:t,x:r,y:n})};bt.prototype.close=bt.prototype.closePath=function(){this.commands.push({type:"Z"})};bt.prototype.extend=function(e){if(e.commands)e=e.commands;else if(e instanceof tn){var t=e;this.moveTo(t.x1,t.y1),this.lineTo(t.x2,t.y1),this.lineTo(t.x2,t.y2),this.lineTo(t.x1,t.y2),this.close();return}Array.prototype.push.apply(this.commands,e)};bt.prototype.getBoundingBox=function(){for(var e=new tn,t=0,r=0,n=0,s=0,o=0;o<this.commands.length;o++){var c=this.commands[o];switch(c.type){case"M":e.addPoint(c.x,c.y),t=n=c.x,r=s=c.y;break;case"L":e.addPoint(c.x,c.y),n=c.x,s=c.y;break;case"Q":e.addQuad(n,s,c.x1,c.y1,c.x,c.y),n=c.x,s=c.y;break;case"C":e.addBezier(n,s,c.x1,c.y1,c.x2,c.y2,c.x,c.y),n=c.x,s=c.y;break;case"Z":n=t,s=r;break;default:throw new Error("Unexpected path command "+c.type)}}return e.isEmpty()&&e.addPoint(0,0),e};bt.prototype.draw=function(e){e.beginPath();for(var t=0;t<this.commands.length;t+=1){var r=this.commands[t];r.type==="M"?e.moveTo(r.x,r.y):r.type==="L"?e.lineTo(r.x,r.y):r.type==="C"?e.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?e.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&e.closePath()}this.fill&&(e.fillStyle=this.fill,e.fill()),this.stroke&&(e.strokeStyle=this.stroke,e.lineWidth=this.strokeWidth,e.stroke())};bt.prototype.toPathData=function(e){e=e!==void 0?e:2;function t(c){return Math.round(c)===c?""+Math.round(c):c.toFixed(e)}function r(){for(var c=arguments,l="",f=0;f<arguments.length;f+=1){var v=c[f];v>=0&&f>0&&(l+=" "),l+=t(v)}return l}for(var n="",s=0;s<this.commands.length;s+=1){var o=this.commands[s];o.type==="M"?n+="M"+r(o.x,o.y):o.type==="L"?n+="L"+r(o.x,o.y):o.type==="C"?n+="C"+r(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?n+="Q"+r(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(n+="Z")}return n};bt.prototype.toSVG=function(e){var t='<path d="';return t+=this.toPathData(e),t+='"',this.fill&&this.fill!=="black"&&(this.fill===null?t+=' fill="none"':t+=' fill="'+this.fill+'"'),this.stroke&&(t+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),t+="/>",t};bt.prototype.toDOMElement=function(e){var t=this.toPathData(e),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",t),r};function rf(e){throw new Error(e)}function Mu(e,t){e||rf(t)}var Se={fail:rf,argument:Mu,assert:Mu},Bu=32768,Uu=2147483648,qn={},ee={},de={};function or(e){return function(){return e}}ee.BYTE=function(e){return Se.argument(e>=0&&e<=255,"Byte value should be between 0 and 255."),[e]};de.BYTE=or(1);ee.CHAR=function(e){return[e.charCodeAt(0)]};de.CHAR=or(1);ee.CHARARRAY=function(e){typeof e>"u"&&(e="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var t=[],r=0;r<e.length;r+=1)t[r]=e.charCodeAt(r);return t};de.CHARARRAY=function(e){return typeof e>"u"?0:e.length};ee.USHORT=function(e){return[e>>8&255,e&255]};de.USHORT=or(2);ee.SHORT=function(e){return e>=Bu&&(e=-(2*Bu-e)),[e>>8&255,e&255]};de.SHORT=or(2);ee.UINT24=function(e){return[e>>16&255,e>>8&255,e&255]};de.UINT24=or(3);ee.ULONG=function(e){return[e>>24&255,e>>16&255,e>>8&255,e&255]};de.ULONG=or(4);ee.LONG=function(e){return e>=Uu&&(e=-(2*Uu-e)),[e>>24&255,e>>16&255,e>>8&255,e&255]};de.LONG=or(4);ee.FIXED=ee.ULONG;de.FIXED=de.ULONG;ee.FWORD=ee.SHORT;de.FWORD=de.SHORT;ee.UFWORD=ee.USHORT;de.UFWORD=de.USHORT;ee.LONGDATETIME=function(e){return[0,0,0,0,e>>24&255,e>>16&255,e>>8&255,e&255]};de.LONGDATETIME=or(8);ee.TAG=function(e){return Se.argument(e.length===4,"Tag should be exactly 4 ASCII characters."),[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]};de.TAG=or(4);ee.Card8=ee.BYTE;de.Card8=de.BYTE;ee.Card16=ee.USHORT;de.Card16=de.USHORT;ee.OffSize=ee.BYTE;de.OffSize=de.BYTE;ee.SID=ee.USHORT;de.SID=de.USHORT;ee.NUMBER=function(e){return e>=-107&&e<=107?[e+139]:e>=108&&e<=1131?(e=e-108,[(e>>8)+247,e&255]):e>=-1131&&e<=-108?(e=-e-108,[(e>>8)+251,e&255]):e>=-32768&&e<=32767?ee.NUMBER16(e):ee.NUMBER32(e)};de.NUMBER=function(e){return ee.NUMBER(e).length};ee.NUMBER16=function(e){return[28,e>>8&255,e&255]};de.NUMBER16=or(3);ee.NUMBER32=function(e){return[29,e>>24&255,e>>16&255,e>>8&255,e&255]};de.NUMBER32=or(5);ee.REAL=function(e){var t=e.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(t);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));t=(Math.round(e*n)/n).toString()}for(var s="",o=0,c=t.length;o<c;o+=1){var l=t[o];l==="e"?s+=t[++o]==="-"?"c":"b":l==="."?s+="a":l==="-"?s+="e":s+=l}s+=s.length&1?"f":"ff";for(var f=[30],v=0,g=s.length;v<g;v+=2)f.push(parseInt(s.substr(v,2),16));return f};de.REAL=function(e){return ee.REAL(e).length};ee.NAME=ee.CHARARRAY;de.NAME=de.CHARARRAY;ee.STRING=ee.CHARARRAY;de.STRING=de.CHARARRAY;qn.UTF8=function(e,t,r){for(var n=[],s=r,o=0;o<s;o++,t+=1)n[o]=e.getUint8(t);return String.fromCharCode.apply(null,n)};qn.UTF16=function(e,t,r){for(var n=[],s=r/2,o=0;o<s;o++,t+=2)n[o]=e.getUint16(t);return String.fromCharCode.apply(null,n)};ee.UTF16=function(e){for(var t=[],r=0;r<e.length;r+=1){var n=e.charCodeAt(r);t[t.length]=n>>8&255,t[t.length]=n&255}return t};de.UTF16=function(e){return e.length*2};var Ra={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""};qn.MACSTRING=function(e,t,r,n){var s=Ra[n];if(s!==void 0){for(var o="",c=0;c<r;c++){var l=e.getUint8(t+c);l<=127?o+=String.fromCharCode(l):o+=s[l&127]}return o}};var Ro=typeof WeakMap=="function"&&new WeakMap,Oo,J0=function(e){if(!Oo){Oo={};for(var t in Ra)Oo[t]=new String(t)}var r=Oo[e];if(r!==void 0){if(Ro){var n=Ro.get(r);if(n!==void 0)return n}var s=Ra[e];if(s!==void 0){for(var o={},c=0;c<s.length;c++)o[s.charCodeAt(c)]=c+128;return Ro&&Ro.set(r,o),o}}};ee.MACSTRING=function(e,t){var r=J0(t);if(r!==void 0){for(var n=[],s=0;s<e.length;s++){var o=e.charCodeAt(s);if(o>=128&&(o=r[o],o===void 0))return;n[s]=o}return n}};de.MACSTRING=function(e,t){var r=ee.MACSTRING(e,t);return r!==void 0?r.length:0};function Oa(e){return e>=-128&&e<=127}function ey(e,t,r){for(var n=0,s=e.length;t<s&&n<64&&e[t]===0;)++t,++n;return r.push(128|n-1),t}function ty(e,t,r){for(var n=0,s=e.length,o=t;o<s&&n<64;){var c=e[o];if(!Oa(c)||c===0&&o+1<s&&e[o+1]===0)break;++o,++n}r.push(n-1);for(var l=t;l<o;++l)r.push(e[l]+256&255);return o}function ry(e,t,r){for(var n=0,s=e.length,o=t;o<s&&n<64;){var c=e[o];if(c===0||Oa(c)&&o+1<s&&Oa(e[o+1]))break;++o,++n}r.push(64|n-1);for(var l=t;l<o;++l){var f=e[l];r.push(f+65536>>8&255,f+256&255)}return o}ee.VARDELTAS=function(e){for(var t=0,r=[];t<e.length;){var n=e[t];n===0?t=ey(e,t,r):n>=-128&&n<=127?t=ty(e,t,r):t=ry(e,t,r)}return r};ee.INDEX=function(e){for(var t=1,r=[t],n=[],s=0;s<e.length;s+=1){var o=ee.OBJECT(e[s]);Array.prototype.push.apply(n,o),t+=o.length,r.push(t)}if(n.length===0)return[0,0];for(var c=[],l=1+Math.floor(Math.log(t)/Math.log(2))/8|0,f=[void 0,ee.BYTE,ee.USHORT,ee.UINT24,ee.ULONG][l],v=0;v<r.length;v+=1){var g=f(r[v]);Array.prototype.push.apply(c,g)}return Array.prototype.concat(ee.Card16(e.length),ee.OffSize(l),c,n)};de.INDEX=function(e){return ee.INDEX(e).length};ee.DICT=function(e){for(var t=[],r=Object.keys(e),n=r.length,s=0;s<n;s+=1){var o=parseInt(r[s],0),c=e[o];t=t.concat(ee.OPERAND(c.value,c.type)),t=t.concat(ee.OPERATOR(o))}return t};de.DICT=function(e){return ee.DICT(e).length};ee.OPERATOR=function(e){return e<1200?[e]:[12,e-1200]};ee.OPERAND=function(e,t){var r=[];if(Array.isArray(t))for(var n=0;n<t.length;n+=1)Se.argument(e.length===t.length,"Not enough arguments given for type"+t),r=r.concat(ee.OPERAND(e[n],t[n]));else if(t==="SID")r=r.concat(ee.NUMBER(e));else if(t==="offset")r=r.concat(ee.NUMBER32(e));else if(t==="number")r=r.concat(ee.NUMBER(e));else if(t==="real")r=r.concat(ee.REAL(e));else throw new Error("Unknown operand type "+t);return r};ee.OP=ee.BYTE;de.OP=de.BYTE;var Do=typeof WeakMap=="function"&&new WeakMap;ee.CHARSTRING=function(e){if(Do){var t=Do.get(e);if(t!==void 0)return t}for(var r=[],n=e.length,s=0;s<n;s+=1){var o=e[s];r=r.concat(ee[o.type](o.value))}return Do&&Do.set(e,r),r};de.CHARSTRING=function(e){return ee.CHARSTRING(e).length};ee.OBJECT=function(e){var t=ee[e.type];return Se.argument(t!==void 0,"No encoding function for type "+e.type),t(e.value)};de.OBJECT=function(e){var t=de[e.type];return Se.argument(t!==void 0,"No sizeOf function for type "+e.type),t(e.value)};ee.TABLE=function(e){for(var t=[],r=e.fields.length,n=[],s=[],o=0;o<r;o+=1){var c=e.fields[o],l=ee[c.type];Se.argument(l!==void 0,"No encoding function for field type "+c.type+" ("+c.name+")");var f=e[c.name];f===void 0&&(f=c.value);var v=l(f);c.type==="TABLE"?(s.push(t.length),t=t.concat([0,0]),n.push(v)):t=t.concat(v)}for(var g=0;g<n.length;g+=1){var _=s[g],w=t.length;Se.argument(w<65536,"Table "+e.tableName+" too big."),t[_]=w>>8,t[_+1]=w&255,t=t.concat(n[g])}return t};de.TABLE=function(e){for(var t=0,r=e.fields.length,n=0;n<r;n+=1){var s=e.fields[n],o=de[s.type];Se.argument(o!==void 0,"No sizeOf function for field type "+s.type+" ("+s.name+")");var c=e[s.name];c===void 0&&(c=s.value),t+=o(c),s.type==="TABLE"&&(t+=2)}return t};ee.RECORD=ee.TABLE;de.RECORD=de.TABLE;ee.LITERAL=function(e){return e};de.LITERAL=function(e){return e.length};function Tt(e,t,r){if(t.length&&(t[0].name!=="coverageFormat"||t[0].value===1))for(var n=0;n<t.length;n+=1){var s=t[n];this[s.name]=s.value}if(this.tableName=e,this.fields=t,r)for(var o=Object.keys(r),c=0;c<o.length;c+=1){var l=o[c],f=r[l];this[l]!==void 0&&(this[l]=f)}}Tt.prototype.encode=function(){return ee.TABLE(this)};Tt.prototype.sizeOf=function(){return de.TABLE(this)};function $s(e,t,r){r===void 0&&(r=t.length);var n=new Array(t.length+1);n[0]={name:e+"Count",type:"USHORT",value:r};for(var s=0;s<t.length;s++)n[s+1]={name:e+s,type:"USHORT",value:t[s]};return n}function Da(e,t,r){var n=t.length,s=new Array(n+1);s[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)s[o+1]={name:e+o,type:"TABLE",value:r(t[o],o)};return s}function Qs(e,t,r){var n=t.length,s=[];s[0]={name:e+"Count",type:"USHORT",value:n};for(var o=0;o<n;o++)s=s.concat(r(t[o],o));return s}function ui(e){e.format===1?Tt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat($s("glyph",e.glyphs))):e.format===2?Tt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(Qs("rangeRecord",e.ranges,function(t){return[{name:"startGlyphID",type:"USHORT",value:t.start},{name:"endGlyphID",type:"USHORT",value:t.end},{name:"startCoverageIndex",type:"USHORT",value:t.index}]}))):Se.assert(!1,"Coverage format must be 1 or 2.")}ui.prototype=Object.create(Tt.prototype);ui.prototype.constructor=ui;function ci(e){Tt.call(this,"scriptListTable",Qs("scriptRecord",e,function(t,r){var n=t.script,s=n.defaultLangSys;return Se.assert(!!s,"Unable to write GSUB: script "+t.tag+" has no default language system."),[{name:"scriptTag"+r,type:"TAG",value:t.tag},{name:"script"+r,type:"TABLE",value:new Tt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Tt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:s.reqFeatureIndex}].concat($s("featureIndex",s.featureIndexes)))}].concat(Qs("langSys",n.langSysRecords,function(o,c){var l=o.langSys;return[{name:"langSysTag"+c,type:"TAG",value:o.tag},{name:"langSys"+c,type:"TABLE",value:new Tt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:l.reqFeatureIndex}].concat($s("featureIndex",l.featureIndexes)))}]})))}]}))}ci.prototype=Object.create(Tt.prototype);ci.prototype.constructor=ci;function li(e){Tt.call(this,"featureListTable",Qs("featureRecord",e,function(t,r){var n=t.feature;return[{name:"featureTag"+r,type:"TAG",value:t.tag},{name:"feature"+r,type:"TABLE",value:new Tt("featureTable",[{name:"featureParams",type:"USHORT",value:n.featureParams}].concat($s("lookupListIndex",n.lookupListIndexes)))}]}))}li.prototype=Object.create(Tt.prototype);li.prototype.constructor=li;function fi(e,t){Tt.call(this,"lookupListTable",Da("lookup",e,function(r){var n=t[r.lookupType];return Se.assert(!!n,"Unable to write GSUB lookup type "+r.lookupType+" tables."),new Tt("lookupTable",[{name:"lookupType",type:"USHORT",value:r.lookupType},{name:"lookupFlag",type:"USHORT",value:r.lookupFlag}].concat(Da("subtable",r.subtables,n)))}))}fi.prototype=Object.create(Tt.prototype);fi.prototype.constructor=fi;var se={Table:Tt,Record:Tt,Coverage:ui,ScriptList:ci,FeatureList:li,LookupList:fi,ushortList:$s,tableList:Da,recordList:Qs};function Nu(e,t){return e.getUint8(t)}function pi(e,t){return e.getUint16(t,!1)}function ny(e,t){return e.getInt16(t,!1)}function v1(e,t){return e.getUint32(t,!1)}function nf(e,t){var r=e.getInt16(t,!1),n=e.getUint16(t+2,!1);return r+n/65535}function sy(e,t){for(var r="",n=t;n<t+4;n+=1)r+=String.fromCharCode(e.getInt8(n));return r}function oy(e,t,r){for(var n=0,s=0;s<r;s+=1)n<<=8,n+=e.getUint8(t+s);return n}function iy(e,t,r){for(var n=[],s=t;s<r;s+=1)n.push(e.getUint8(s));return n}function ay(e){for(var t="",r=0;r<e.length;r+=1)t+=String.fromCharCode(e[r]);return t}var uy={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function M(e,t){this.data=e,this.offset=t,this.relativeOffset=0}M.prototype.parseByte=function(){var e=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};M.prototype.parseChar=function(){var e=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,e};M.prototype.parseCard8=M.prototype.parseByte;M.prototype.parseUShort=function(){var e=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};M.prototype.parseCard16=M.prototype.parseUShort;M.prototype.parseSID=M.prototype.parseUShort;M.prototype.parseOffset16=M.prototype.parseUShort;M.prototype.parseShort=function(){var e=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,e};M.prototype.parseF2Dot14=function(){var e=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,e};M.prototype.parseULong=function(){var e=v1(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};M.prototype.parseOffset32=M.prototype.parseULong;M.prototype.parseFixed=function(){var e=nf(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,e};M.prototype.parseString=function(e){var t=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=e;for(var s=0;s<e;s++)n+=String.fromCharCode(t.getUint8(r+s));return n};M.prototype.parseTag=function(){return this.parseString(4)};M.prototype.parseLongDateTime=function(){var e=v1(this.data,this.offset+this.relativeOffset+4);return e-=2082844800,this.relativeOffset+=8,e};M.prototype.parseVersion=function(e){var t=pi(this.data,this.offset+this.relativeOffset),r=pi(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,e===void 0&&(e=4096),t+r/e/10};M.prototype.skip=function(e,t){t===void 0&&(t=1),this.relativeOffset+=uy[e]*t};M.prototype.parseULongList=function(e){e===void 0&&(e=this.parseULong());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint32(n),n+=4;return this.relativeOffset+=e*4,t};M.prototype.parseOffset16List=M.prototype.parseUShortList=function(e){e===void 0&&(e=this.parseUShort());for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint16(n),n+=2;return this.relativeOffset+=e*2,t};M.prototype.parseShortList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getInt16(n),n+=2;return this.relativeOffset+=e*2,t};M.prototype.parseByteList=function(e){for(var t=new Array(e),r=this.data,n=this.offset+this.relativeOffset,s=0;s<e;s++)t[s]=r.getUint8(n++);return this.relativeOffset+=e,t};M.prototype.parseList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};M.prototype.parseList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=0;n<e;n++)r[n]=t.call(this);return r};M.prototype.parseRecordList=function(e,t){t||(t=e,e=this.parseUShort());for(var r=new Array(e),n=Object.keys(t),s=0;s<e;s++){for(var o={},c=0;c<n.length;c++){var l=n[c],f=t[l];o[l]=f.call(this)}r[s]=o}return r};M.prototype.parseRecordList32=function(e,t){t||(t=e,e=this.parseULong());for(var r=new Array(e),n=Object.keys(t),s=0;s<e;s++){for(var o={},c=0;c<n.length;c++){var l=n[c],f=t[l];o[l]=f.call(this)}r[s]=o}return r};M.prototype.parseStruct=function(e){if(typeof e=="function")return e.call(this);for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var s=t[n],o=e[s];r[s]=o.call(this)}return r};M.prototype.parseValueRecord=function(e){if(e===void 0&&(e=this.parseUShort()),e!==0){var t={};return e&1&&(t.xPlacement=this.parseShort()),e&2&&(t.yPlacement=this.parseShort()),e&4&&(t.xAdvance=this.parseShort()),e&8&&(t.yAdvance=this.parseShort()),e&16&&(t.xPlaDevice=void 0,this.parseShort()),e&32&&(t.yPlaDevice=void 0,this.parseShort()),e&64&&(t.xAdvDevice=void 0,this.parseShort()),e&128&&(t.yAdvDevice=void 0,this.parseShort()),t}};M.prototype.parseValueRecordList=function(){for(var e=this.parseUShort(),t=this.parseUShort(),r=new Array(t),n=0;n<t;n++)r[n]=this.parseValueRecord(e);return r};M.prototype.parsePointer=function(e){var t=this.parseOffset16();if(t>0)return new M(this.data,this.offset+t).parseStruct(e)};M.prototype.parsePointer32=function(e){var t=this.parseOffset32();if(t>0)return new M(this.data,this.offset+t).parseStruct(e)};M.prototype.parseListOfLists=function(e){for(var t=this.parseOffset16List(),r=t.length,n=this.relativeOffset,s=new Array(r),o=0;o<r;o++){var c=t[o];if(c===0){s[o]=void 0;continue}if(this.relativeOffset=c,e){for(var l=this.parseOffset16List(),f=new Array(l.length),v=0;v<l.length;v++)this.relativeOffset=c+l[v],f[v]=e.call(this);s[o]=f}else s[o]=this.parseUShortList()}return this.relativeOffset=n,s};M.prototype.parseCoverage=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort(),r=this.parseUShort();if(t===1)return{format:1,glyphs:this.parseUShortList(r)};if(t===2){for(var n=new Array(r),s=0;s<r;s++)n[s]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:n}}throw new Error("0x"+e.toString(16)+": Coverage format must be 1 or 2.")};M.prototype.parseClassDef=function(){var e=this.offset+this.relativeOffset,t=this.parseUShort();if(t===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(t===2)return{format:2,ranges:this.parseRecordList({start:M.uShort,end:M.uShort,classId:M.uShort})};throw new Error("0x"+e.toString(16)+": ClassDef format must be 1 or 2.")};M.list=function(e,t){return function(){return this.parseList(e,t)}};M.list32=function(e,t){return function(){return this.parseList32(e,t)}};M.recordList=function(e,t){return function(){return this.parseRecordList(e,t)}};M.recordList32=function(e,t){return function(){return this.parseRecordList32(e,t)}};M.pointer=function(e){return function(){return this.parsePointer(e)}};M.pointer32=function(e){return function(){return this.parsePointer32(e)}};M.tag=M.prototype.parseTag;M.byte=M.prototype.parseByte;M.uShort=M.offset16=M.prototype.parseUShort;M.uShortList=M.prototype.parseUShortList;M.uLong=M.offset32=M.prototype.parseULong;M.uLongList=M.prototype.parseULongList;M.struct=M.prototype.parseStruct;M.coverage=M.prototype.parseCoverage;M.classDef=M.prototype.parseClassDef;var Gu={reserved:M.uShort,reqFeatureIndex:M.uShort,featureIndexes:M.uShortList};M.prototype.parseScriptList=function(){return this.parsePointer(M.recordList({tag:M.tag,script:M.pointer({defaultLangSys:M.pointer(Gu),langSysRecords:M.recordList({tag:M.tag,langSys:M.pointer(Gu)})})}))||[]};M.prototype.parseFeatureList=function(){return this.parsePointer(M.recordList({tag:M.tag,feature:M.pointer({featureParams:M.offset16,lookupListIndexes:M.uShortList})}))||[]};M.prototype.parseLookupList=function(e){return this.parsePointer(M.list(M.pointer(function(){var t=this.parseUShort();Se.argument(1<=t&&t<=9,"GPOS/GSUB lookup type "+t+" unknown.");var r=this.parseUShort(),n=r&16;return{lookupType:t,lookupFlag:r,subtables:this.parseList(M.pointer(e[t])),markFilteringSet:n?this.parseUShort():void 0}})))||[]};M.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var e=this.parseUShort(),t=this.parseUShort();Se.argument(e===1&&t<1,"GPOS/GSUB feature variations table unknown.");var r=this.parseRecordList32({conditionSetOffset:M.offset32,featureTableSubstitutionOffset:M.offset32});return r})||[]};var Ee={getByte:Nu,getCard8:Nu,getUShort:pi,getCard16:pi,getShort:ny,getULong:v1,getFixed:nf,getTag:sy,getOffset:oy,getBytes:iy,bytesToString:ay,Parser:M};function cy(e,t){t.parseUShort(),e.length=t.parseULong(),e.language=t.parseULong();var r;e.groupCount=r=t.parseULong(),e.glyphIndexMap={};for(var n=0;n<r;n+=1)for(var s=t.parseULong(),o=t.parseULong(),c=t.parseULong(),l=s;l<=o;l+=1)e.glyphIndexMap[l]=c,c++}function ly(e,t,r,n,s){e.length=t.parseUShort(),e.language=t.parseUShort();var o;e.segCount=o=t.parseUShort()>>1,t.skip("uShort",3),e.glyphIndexMap={};for(var c=new Ee.Parser(r,n+s+14),l=new Ee.Parser(r,n+s+16+o*2),f=new Ee.Parser(r,n+s+16+o*4),v=new Ee.Parser(r,n+s+16+o*6),g=n+s+16+o*8,_=0;_<o-1;_+=1)for(var w=void 0,T=c.parseUShort(),P=l.parseUShort(),R=f.parseShort(),O=v.parseUShort(),F=P;F<=T;F+=1)O!==0?(g=v.offset+v.relativeOffset-2,g+=O,g+=(F-P)*2,w=Ee.getUShort(r,g),w!==0&&(w=w+R&65535)):w=F+R&65535,e.glyphIndexMap[F]=w}function fy(e,t){var r={};r.version=Ee.getUShort(e,t),Se.argument(r.version===0,"cmap table version should be 0."),r.numTables=Ee.getUShort(e,t+2);for(var n=-1,s=r.numTables-1;s>=0;s-=1){var o=Ee.getUShort(e,t+4+s*8),c=Ee.getUShort(e,t+4+s*8+2);if(o===3&&(c===0||c===1||c===10)||o===0&&(c===0||c===1||c===2||c===3||c===4)){n=Ee.getULong(e,t+4+s*8+4);break}}if(n===-1)throw new Error("No valid cmap sub-tables found.");var l=new Ee.Parser(e,t+n);if(r.format=l.parseUShort(),r.format===12)cy(r,l);else if(r.format===4)ly(r,l,e,t,n);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+r.format+").");return r}function py(e,t,r){e.segments.push({end:t,start:t,delta:-(t-r),offset:0,glyphIndex:r})}function hy(e){e.segments.push({end:65535,start:65535,delta:1,offset:0})}function dy(e){var t=!0,r;for(r=e.length-1;r>0;r-=1){var n=e.get(r);if(n.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),t=!1;break}}var s=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:t?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:t?12:20}];t||(s=s.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),s=s.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new se.Table("cmap",s);for(o.segments=[],r=0;r<e.length;r+=1){for(var c=e.get(r),l=0;l<c.unicodes.length;l+=1)py(o,c.unicodes[l],r);o.segments=o.segments.sort(function(L,I){return L.start-I.start})}hy(o);var f=o.segments.length,v=0,g=[],_=[],w=[],T=[],P=[],R=[];for(r=0;r<f;r+=1){var O=o.segments[r];O.end<=65535&&O.start<=65535?(g=g.concat({name:"end_"+r,type:"USHORT",value:O.end}),_=_.concat({name:"start_"+r,type:"USHORT",value:O.start}),w=w.concat({name:"idDelta_"+r,type:"SHORT",value:O.delta}),T=T.concat({name:"idRangeOffset_"+r,type:"USHORT",value:O.offset}),O.glyphId!==void 0&&(P=P.concat({name:"glyph_"+r,type:"USHORT",value:O.glyphId}))):v+=1,!t&&O.glyphIndex!==void 0&&(R=R.concat({name:"cmap12Start_"+r,type:"ULONG",value:O.start}),R=R.concat({name:"cmap12End_"+r,type:"ULONG",value:O.end}),R=R.concat({name:"cmap12Glyph_"+r,type:"ULONG",value:O.glyphIndex}))}if(o.segCountX2=(f-v)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(f-v)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(g),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(_),o.fields=o.fields.concat(w),o.fields=o.fields.concat(T),o.fields=o.fields.concat(P),o.cmap4Length=14+g.length*2+2+_.length*2+w.length*2+T.length*2+P.length*2,!t){var F=16+R.length*4;o.cmap12Offset=20+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:F},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:R.length/3}]),o.fields=o.fields.concat(R)}return o}var vy={parse:fy,make:dy},Wo=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],gy=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],my=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Hu=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function sf(e){this.font=e}sf.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var s=r.get(n),o=0;o<s.unicodes.length;o+=1)if(s.unicodes[o]===t)return n}return null};function hi(e,t){this.encoding=e,this.charset=t}hi.prototype.charToGlyphIndex=function(e){var t=e.codePointAt(0),r=this.encoding[t];return this.charset.indexOf(r)};function yy(e,t,r,n,s){e.beginPath(),e.moveTo(t,r),e.lineTo(n,s),e.stroke()}var un={line:yy};function wy(e,t){var r=t||new bt;return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function Zt(e){this.bindConstructorValues(e)}Zt.prototype.bindConstructorValues=function(e){this.index=e.index||0,this.name=e.name||null,this.unicode=e.unicode||void 0,this.unicodes=e.unicodes||e.unicode!==void 0?[e.unicode]:[],"xMin"in e&&(this.xMin=e.xMin),"yMin"in e&&(this.yMin=e.yMin),"xMax"in e&&(this.xMax=e.xMax),"yMax"in e&&(this.yMax=e.yMax),"advanceWidth"in e&&(this.advanceWidth=e.advanceWidth),Object.defineProperty(this,"path",wy(this,e.path))};Zt.prototype.addUnicode=function(e){this.unicodes.length===0&&(this.unicode=e),this.unicodes.push(e)};Zt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Zt.prototype.getPath=function(e,t,r,n,s){e=e!==void 0?e:0,t=t!==void 0?t:0,r=r!==void 0?r:72;var o,c;n||(n={});var l=n.xScale,f=n.yScale;if(n.hinting&&s&&s.hinting&&(c=this.path&&s.hinting.exec(this,r)),c)o=s.hinting.getCommands(c),e=Math.round(e),t=Math.round(t),l=f=1;else{o=this.path.commands;var v=1/(this.path.unitsPerEm||1e3)*r;l===void 0&&(l=v),f===void 0&&(f=v)}for(var g=new bt,_=0;_<o.length;_+=1){var w=o[_];w.type==="M"?g.moveTo(e+w.x*l,t+-w.y*f):w.type==="L"?g.lineTo(e+w.x*l,t+-w.y*f):w.type==="Q"?g.quadraticCurveTo(e+w.x1*l,t+-w.y1*f,e+w.x*l,t+-w.y*f):w.type==="C"?g.curveTo(e+w.x1*l,t+-w.y1*f,e+w.x2*l,t+-w.y2*f,e+w.x*l,t+-w.y*f):w.type==="Z"&&g.closePath()}return g};Zt.prototype.getContours=function(){if(this.points===void 0)return[];for(var e=[],t=[],r=0;r<this.points.length;r+=1){var n=this.points[r];t.push(n),n.lastPointOfContour&&(e.push(t),t=[])}return Se.argument(t.length===0,"There are still points left in the current contour."),e};Zt.prototype.getMetrics=function(){for(var e=this.path.commands,t=[],r=[],n=0;n<e.length;n+=1){var s=e[n];s.type!=="Z"&&(t.push(s.x),r.push(s.y)),(s.type==="Q"||s.type==="C")&&(t.push(s.x1),r.push(s.y1)),s.type==="C"&&(t.push(s.x2),r.push(s.y2))}var o={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,t),yMax:Math.max.apply(null,r),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Zt.prototype.draw=function(e,t,r,n,s){this.getPath(t,r,n,s).draw(e)};Zt.prototype.drawPoints=function(e,t,r,n){function s(_,w,T,P){e.beginPath();for(var R=0;R<_.length;R+=1)e.moveTo(w+_[R].x*P,T+_[R].y*P),e.arc(w+_[R].x*P,T+_[R].y*P,2,0,Math.PI*2,!1);e.closePath(),e.fill()}t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var o=1/this.path.unitsPerEm*n,c=[],l=[],f=this.path,v=0;v<f.commands.length;v+=1){var g=f.commands[v];g.x!==void 0&&c.push({x:g.x,y:-g.y}),g.x1!==void 0&&l.push({x:g.x1,y:-g.y1}),g.x2!==void 0&&l.push({x:g.x2,y:-g.y2})}e.fillStyle="blue",s(c,t,r,o),e.fillStyle="red",s(l,t,r,o)};Zt.prototype.drawMetrics=function(e,t,r,n){var s;t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:24,s=1/this.path.unitsPerEm*n,e.lineWidth=1,e.strokeStyle="black",un.line(e,t,-1e4,t,1e4),un.line(e,-1e4,r,1e4,r);var o=this.xMin||0,c=this.yMin||0,l=this.xMax||0,f=this.yMax||0,v=this.advanceWidth||0;e.strokeStyle="blue",un.line(e,t+o*s,-1e4,t+o*s,1e4),un.line(e,t+l*s,-1e4,t+l*s,1e4),un.line(e,-1e4,r+-c*s,1e4,r+-c*s),un.line(e,-1e4,r+-f*s,1e4,r+-f*s),e.strokeStyle="green",un.line(e,t+v*s,-1e4,t+v*s,1e4)};function Io(e,t,r){Object.defineProperty(e,t,{get:function(){return e.path,e[r]},set:function(n){e[r]=n},enumerable:!0,configurable:!0})}function g1(e,t){if(this.font=e,this.glyphs={},Array.isArray(t))for(var r=0;r<t.length;r++){var n=t[r];n.path.unitsPerEm=e.unitsPerEm,this.glyphs[r]=n}this.length=t&&t.length||0}g1.prototype.get=function(e){if(this.glyphs[e]===void 0){this.font._push(e),typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());var t=this.glyphs[e],r=this.font._IndexToUnicodeMap[e];if(r)for(var n=0;n<r.unicodes.length;n++)t.addUnicode(r.unicodes[n]);this.font.cffEncoding?this.font.isCIDFont?t.name="gid"+e:t.name=this.font.cffEncoding.charset[e]:this.font.glyphNames.names&&(t.name=this.font.glyphNames.glyphIndexToName(e)),this.glyphs[e].advanceWidth=this.font._hmtxTableData[e].advanceWidth,this.glyphs[e].leftSideBearing=this.font._hmtxTableData[e].leftSideBearing}else typeof this.glyphs[e]=="function"&&(this.glyphs[e]=this.glyphs[e]());return this.glyphs[e]};g1.prototype.push=function(e,t){this.glyphs[e]=t,this.length++};function _y(e,t){return new Zt({index:t,font:e})}function by(e,t,r,n,s,o){return function(){var c=new Zt({index:t,font:e});return c.path=function(){r(c,n,s);var l=o(e.glyphs,c);return l.unitsPerEm=e.unitsPerEm,l},Io(c,"xMin","_xMin"),Io(c,"xMax","_xMax"),Io(c,"yMin","_yMin"),Io(c,"yMax","_yMax"),c}}function Sy(e,t,r,n){return function(){var s=new Zt({index:t,font:e});return s.path=function(){var o=r(e,s,n);return o.unitsPerEm=e.unitsPerEm,o},s}}var hr={GlyphSet:g1,glyphLoader:_y,ttfGlyphLoader:by,cffGlyphLoader:Sy};function of(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r+=1)if(!of(e[r],t[r]))return!1;return!0}else return!1}function Ia(e){var t;return e.length<1240?t=107:e.length<33900?t=1131:t=32768,t}function Vr(e,t,r){var n=[],s=[],o=Ee.getCard16(e,t),c,l;if(o!==0){var f=Ee.getByte(e,t+2);c=t+(o+1)*f+2;for(var v=t+3,g=0;g<o+1;g+=1)n.push(Ee.getOffset(e,v,f)),v+=f;l=c+n[o]}else l=t+2;for(var _=0;_<n.length-1;_+=1){var w=Ee.getBytes(e,c+n[_],c+n[_+1]);r&&(w=r(w)),s.push(w)}return{objects:s,startOffset:t,endOffset:l}}function Ey(e,t){var r=[],n=Ee.getCard16(e,t),s,o;if(n!==0){var c=Ee.getByte(e,t+2);s=t+(n+1)*c+2;for(var l=t+3,f=0;f<n+1;f+=1)r.push(Ee.getOffset(e,l,c)),l+=c;o=s+r[n]}else o=t+2;return{offsets:r,startOffset:t,endOffset:o}}function Ty(e,t,r,n,s){var o=Ee.getCard16(r,n),c=0;if(o!==0){var l=Ee.getByte(r,n+2);c=n+(o+1)*l+2}var f=Ee.getBytes(r,c+t[e],c+t[e+1]);return f}function ky(e){for(var t="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var s=e.parseByte(),o=s>>4,c=s&15;if(o===r||(t+=n[o],c===r))break;t+=n[c]}return parseFloat(t)}function xy(e,t){var r,n,s,o;if(t===28)return r=e.parseByte(),n=e.parseByte(),r<<8|n;if(t===29)return r=e.parseByte(),n=e.parseByte(),s=e.parseByte(),o=e.parseByte(),r<<24|n<<16|s<<8|o;if(t===30)return ky(e);if(t>=32&&t<=246)return t-139;if(t>=247&&t<=250)return r=e.parseByte(),(t-247)*256+r+108;if(t>=251&&t<=254)return r=e.parseByte(),-(t-251)*256-r-108;throw new Error("Invalid b0 "+t)}function Py(e){for(var t={},r=0;r<e.length;r+=1){var n=e[r][0],s=e[r][1],o=void 0;if(s.length===1?o=s[0]:o=s,t.hasOwnProperty(n)&&!isNaN(t[n]))throw new Error("Object "+t+" already has key "+n);t[n]=o}return t}function af(e,t,r){t=t!==void 0?t:0;var n=new Ee.Parser(e,t),s=[],o=[];for(r=r!==void 0?r:e.length;n.relativeOffset<r;){var c=n.parseByte();c<=21?(c===12&&(c=1200+n.parseByte()),s.push([c,o]),o=[]):o.push(xy(n,c))}return Py(s)}function Us(e,t){return t<=390?t=Wo[t]:t=e[t-391],t}function uf(e,t,r){for(var n={},s,o=0;o<t.length;o+=1){var c=t[o];if(Array.isArray(c.type)){var l=[];l.length=c.type.length;for(var f=0;f<c.type.length;f++)s=e[c.op]!==void 0?e[c.op][f]:void 0,s===void 0&&(s=c.value!==void 0&&c.value[f]!==void 0?c.value[f]:null),c.type[f]==="SID"&&(s=Us(r,s)),l[f]=s;n[c.name]=l}else s=e[c.op],s===void 0&&(s=c.value!==void 0?c.value:null),c.type==="SID"&&(s=Us(r,s)),n[c.name]=s}return n}function Ay(e,t){var r={};return r.formatMajor=Ee.getCard8(e,t),r.formatMinor=Ee.getCard8(e,t+1),r.size=Ee.getCard8(e,t+2),r.offsetSize=Ee.getCard8(e,t+3),r.startOffset=t,r.endOffset=t+4,r}var cf=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],lf=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Cy(e,t){var r=af(e,0,e.byteLength);return uf(r,cf,t)}function ff(e,t,r,n){var s=af(e,t,r);return uf(s,lf,n)}function Wu(e,t,r,n){for(var s=[],o=0;o<r.length;o+=1){var c=new DataView(new Uint8Array(r[o]).buffer),l=Cy(c,n);l._subrs=[],l._subrsBias=0,l._defaultWidthX=0,l._nominalWidthX=0;var f=l.private[0],v=l.private[1];if(f!==0&&v!==0){var g=ff(e,v+t,f,n);if(l._defaultWidthX=g.defaultWidthX,l._nominalWidthX=g.nominalWidthX,g.subrs!==0){var _=v+g.subrs,w=Vr(e,_+t);l._subrs=w.objects,l._subrsBias=Ia(l._subrs)}l._privateDict=g}s.push(l)}return s}function Ry(e,t,r,n){var s,o,c=new Ee.Parser(e,t);r-=1;var l=[".notdef"],f=c.parseCard8();if(f===0)for(var v=0;v<r;v+=1)s=c.parseSID(),l.push(Us(n,s));else if(f===1)for(;l.length<=r;){s=c.parseSID(),o=c.parseCard8();for(var g=0;g<=o;g+=1)l.push(Us(n,s)),s+=1}else if(f===2)for(;l.length<=r;){s=c.parseSID(),o=c.parseCard16();for(var _=0;_<=o;_+=1)l.push(Us(n,s)),s+=1}else throw new Error("Unknown charset format "+f);return l}function Oy(e,t,r){var n,s={},o=new Ee.Parser(e,t),c=o.parseCard8();if(c===0)for(var l=o.parseCard8(),f=0;f<l;f+=1)n=o.parseCard8(),s[n]=f;else if(c===1){var v=o.parseCard8();n=1;for(var g=0;g<v;g+=1)for(var _=o.parseCard8(),w=o.parseCard8(),T=_;T<=_+w;T+=1)s[T]=n,n+=1}else throw new Error("Unknown encoding format "+c);return new hi(s,r)}function Vu(e,t,r){var n,s,o,c,l=new bt,f=[],v=0,g=!1,_=!1,w=0,T=0,P,R,O,F;if(e.isCIDFont){var L=e.tables.cff.topDict._fdSelect[t.index],I=e.tables.cff.topDict._fdArray[L];P=I._subrs,R=I._subrsBias,O=I._defaultWidthX,F=I._nominalWidthX}else P=e.tables.cff.topDict._subrs,R=e.tables.cff.topDict._subrsBias,O=e.tables.cff.topDict._defaultWidthX,F=e.tables.cff.topDict._nominalWidthX;var X=O;function te(fe,Te){_&&l.closePath(),l.moveTo(fe,Te),_=!0}function ue(){var fe;fe=f.length%2!==0,fe&&!g&&(X=f.shift()+F),v+=f.length>>1,f.length=0,g=!0}function ae(fe){for(var Te,De,Pe,Ie,Ke,Me,He,Ve,Le,ve,Ze,Je,Ue=0;Ue<fe.length;){var qe=fe[Ue];switch(Ue+=1,qe){case 1:ue();break;case 3:ue();break;case 4:f.length>1&&!g&&(X=f.shift()+F,g=!0),T+=f.pop(),te(w,T);break;case 5:for(;f.length>0;)w+=f.shift(),T+=f.shift(),l.lineTo(w,T);break;case 6:for(;f.length>0&&(w+=f.shift(),l.lineTo(w,T),f.length!==0);)T+=f.shift(),l.lineTo(w,T);break;case 7:for(;f.length>0&&(T+=f.shift(),l.lineTo(w,T),f.length!==0);)w+=f.shift(),l.lineTo(w,T);break;case 8:for(;f.length>0;)n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c+f.shift(),l.curveTo(n,s,o,c,w,T);break;case 10:Ke=f.pop()+R,Me=P[Ke],Me&&ae(Me);break;case 11:return;case 12:switch(qe=fe[Ue],Ue+=1,qe){case 35:n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),He=o+f.shift(),Ve=c+f.shift(),Le=He+f.shift(),ve=Ve+f.shift(),Ze=Le+f.shift(),Je=ve+f.shift(),w=Ze+f.shift(),T=Je+f.shift(),f.shift(),l.curveTo(n,s,o,c,He,Ve),l.curveTo(Le,ve,Ze,Je,w,T);break;case 34:n=w+f.shift(),s=T,o=n+f.shift(),c=s+f.shift(),He=o+f.shift(),Ve=c,Le=He+f.shift(),ve=c,Ze=Le+f.shift(),Je=T,w=Ze+f.shift(),l.curveTo(n,s,o,c,He,Ve),l.curveTo(Le,ve,Ze,Je,w,T);break;case 36:n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),He=o+f.shift(),Ve=c,Le=He+f.shift(),ve=c,Ze=Le+f.shift(),Je=ve+f.shift(),w=Ze+f.shift(),l.curveTo(n,s,o,c,He,Ve),l.curveTo(Le,ve,Ze,Je,w,T);break;case 37:n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),He=o+f.shift(),Ve=c+f.shift(),Le=He+f.shift(),ve=Ve+f.shift(),Ze=Le+f.shift(),Je=ve+f.shift(),Math.abs(Ze-w)>Math.abs(Je-T)?w=Ze+f.shift():T=Je+f.shift(),l.curveTo(n,s,o,c,He,Ve),l.curveTo(Le,ve,Ze,Je,w,T);break;default:console.log("Glyph "+t.index+": unknown operator 1200"+qe),f.length=0}break;case 14:f.length>0&&!g&&(X=f.shift()+F,g=!0),_&&(l.closePath(),_=!1);break;case 18:ue();break;case 19:case 20:ue(),Ue+=v+7>>3;break;case 21:f.length>2&&!g&&(X=f.shift()+F,g=!0),T+=f.pop(),w+=f.pop(),te(w,T);break;case 22:f.length>1&&!g&&(X=f.shift()+F,g=!0),w+=f.pop(),te(w,T);break;case 23:ue();break;case 24:for(;f.length>2;)n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c+f.shift(),l.curveTo(n,s,o,c,w,T);w+=f.shift(),T+=f.shift(),l.lineTo(w,T);break;case 25:for(;f.length>6;)w+=f.shift(),T+=f.shift(),l.lineTo(w,T);n=w+f.shift(),s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c+f.shift(),l.curveTo(n,s,o,c,w,T);break;case 26:for(f.length%2&&(w+=f.shift());f.length>0;)n=w,s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o,T=c+f.shift(),l.curveTo(n,s,o,c,w,T);break;case 27:for(f.length%2&&(T+=f.shift());f.length>0;)n=w+f.shift(),s=T,o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c,l.curveTo(n,s,o,c,w,T);break;case 28:Te=fe[Ue],De=fe[Ue+1],f.push((Te<<24|De<<16)>>16),Ue+=2;break;case 29:Ke=f.pop()+e.gsubrsBias,Me=e.gsubrs[Ke],Me&&ae(Me);break;case 30:for(;f.length>0&&(n=w,s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c+(f.length===1?f.shift():0),l.curveTo(n,s,o,c,w,T),f.length!==0);)n=w+f.shift(),s=T,o=n+f.shift(),c=s+f.shift(),T=c+f.shift(),w=o+(f.length===1?f.shift():0),l.curveTo(n,s,o,c,w,T);break;case 31:for(;f.length>0&&(n=w+f.shift(),s=T,o=n+f.shift(),c=s+f.shift(),T=c+f.shift(),w=o+(f.length===1?f.shift():0),l.curveTo(n,s,o,c,w,T),f.length!==0);)n=w,s=T+f.shift(),o=n+f.shift(),c=s+f.shift(),w=o+f.shift(),T=c+(f.length===1?f.shift():0),l.curveTo(n,s,o,c,w,T);break;default:qe<32?console.log("Glyph "+t.index+": unknown operator "+qe):qe<247?f.push(qe-139):qe<251?(Te=fe[Ue],Ue+=1,f.push((qe-247)*256+Te+108)):qe<255?(Te=fe[Ue],Ue+=1,f.push(-(qe-251)*256-Te-108)):(Te=fe[Ue],De=fe[Ue+1],Pe=fe[Ue+2],Ie=fe[Ue+3],Ue+=4,f.push((Te<<24|De<<16|Pe<<8|Ie)/65536))}}}return ae(r),t.advanceWidth=X,l}function Dy(e,t,r,n){var s=[],o,c=new Ee.Parser(e,t),l=c.parseCard8();if(l===0)for(var f=0;f<r;f++){if(o=c.parseCard8(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");s.push(o)}else if(l===3){var v=c.parseCard16(),g=c.parseCard16();if(g!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+g);for(var _,w=0;w<v;w++){if(o=c.parseCard8(),_=c.parseCard16(),o>=n)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+n+")");if(_>r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+_);for(;g<_;g++)s.push(o);g=_}if(_!==r)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+_)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+l);return s}function Iy(e,t,r,n){r.tables.cff={};var s=Ay(e,t),o=Vr(e,s.endOffset,Ee.bytesToString),c=Vr(e,o.endOffset),l=Vr(e,c.endOffset,Ee.bytesToString),f=Vr(e,l.endOffset);r.gsubrs=f.objects,r.gsubrsBias=Ia(r.gsubrs);var v=Wu(e,t,c.objects,l.objects);if(v.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+v.length);var g=v[0];if(r.tables.cff.topDict=g,g._privateDict&&(r.defaultWidthX=g._privateDict.defaultWidthX,r.nominalWidthX=g._privateDict.nominalWidthX),g.ros[0]!==void 0&&g.ros[1]!==void 0&&(r.isCIDFont=!0),r.isCIDFont){var _=g.fdArray,w=g.fdSelect;if(_===0||w===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");_+=t;var T=Vr(e,_),P=Wu(e,t,T.objects,l.objects);g._fdArray=P,w+=t,g._fdSelect=Dy(e,w,r.numGlyphs,P.length)}var R=t+g.private[1],O=ff(e,R,g.private[0],l.objects);if(r.defaultWidthX=O.defaultWidthX,r.nominalWidthX=O.nominalWidthX,O.subrs!==0){var F=R+O.subrs,L=Vr(e,F);r.subrs=L.objects,r.subrsBias=Ia(r.subrs)}else r.subrs=[],r.subrsBias=0;var I;n.lowMemory?(I=Ey(e,t+g.charStrings),r.nGlyphs=I.offsets.length):(I=Vr(e,t+g.charStrings),r.nGlyphs=I.objects.length);var X=Ry(e,t+g.charset,r.nGlyphs,l.objects);if(g.encoding===0?r.cffEncoding=new hi(gy,X):g.encoding===1?r.cffEncoding=new hi(my,X):r.cffEncoding=Oy(e,t+g.encoding,X),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new hr.GlyphSet(r),n.lowMemory)r._push=function(ae){var fe=Ty(ae,I.offsets,e,t+g.charStrings);r.glyphs.push(ae,hr.cffGlyphLoader(r,ae,Vu,fe))};else for(var te=0;te<r.nGlyphs;te+=1){var ue=I.objects[te];r.glyphs.push(te,hr.cffGlyphLoader(r,te,Vu,ue))}}function pf(e,t){var r,n=Wo.indexOf(e);return n>=0&&(r=n),n=t.indexOf(e),n>=0?r=n+Wo.length:(r=Wo.length+t.length,t.push(e)),r}function Ly(){return new se.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Fy(e){var t=new se.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);t.names=[];for(var r=0;r<e.length;r+=1)t.names.push({name:"name_"+r,type:"NAME",value:e[r]});return t}function hf(e,t,r){for(var n={},s=0;s<e.length;s+=1){var o=e[s],c=t[o.name];c!==void 0&&!of(c,o.value)&&(o.type==="SID"&&(c=pf(c,r)),n[o.op]={name:o.name,type:o.type,value:c})}return n}function qu(e,t){var r=new se.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=hf(cf,e,t),r}function ju(e){var t=new se.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return t.topDicts=[{name:"topDict_0",type:"TABLE",value:e}],t}function My(e){var t=new se.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);t.strings=[];for(var r=0;r<e.length;r+=1)t.strings.push({name:"string_"+r,type:"STRING",value:e[r]});return t}function By(){return new se.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Uy(e,t){for(var r=new se.Record("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<e.length;n+=1){var s=e[n],o=pf(s,t);r.fields.push({name:"glyph_"+n,type:"SID",value:o})}return r}function Ny(e){var t=[],r=e.path;t.push({name:"width",type:"NUMBER",value:e.advanceWidth});for(var n=0,s=0,o=0;o<r.commands.length;o+=1){var c=void 0,l=void 0,f=r.commands[o];if(f.type==="Q"){var v=.3333333333333333,g=2/3;f={type:"C",x:f.x,y:f.y,x1:Math.round(v*n+g*f.x1),y1:Math.round(v*s+g*f.y1),x2:Math.round(v*f.x+g*f.x1),y2:Math.round(v*f.y+g*f.y1)}}if(f.type==="M")c=Math.round(f.x-n),l=Math.round(f.y-s),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(f.x),s=Math.round(f.y);else if(f.type==="L")c=Math.round(f.x-n),l=Math.round(f.y-s),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rlineto",type:"OP",value:5}),n=Math.round(f.x),s=Math.round(f.y);else if(f.type==="C"){var _=Math.round(f.x1-n),w=Math.round(f.y1-s),T=Math.round(f.x2-f.x1),P=Math.round(f.y2-f.y1);c=Math.round(f.x-f.x2),l=Math.round(f.y-f.y2),t.push({name:"dx1",type:"NUMBER",value:_}),t.push({name:"dy1",type:"NUMBER",value:w}),t.push({name:"dx2",type:"NUMBER",value:T}),t.push({name:"dy2",type:"NUMBER",value:P}),t.push({name:"dx",type:"NUMBER",value:c}),t.push({name:"dy",type:"NUMBER",value:l}),t.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(f.x),s=Math.round(f.y)}}return t.push({name:"endchar",type:"OP",value:14}),t}function Gy(e){for(var t=new se.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<e.length;r+=1){var n=e.get(r),s=Ny(n);t.charStrings.push({name:n.name,type:"CHARSTRING",value:s})}return t}function Hy(e,t){var r=new se.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=hf(lf,e,t),r}function Wy(e,t){for(var r=new se.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),n=1/t.unitsPerEm,s={version:t.version,fullName:t.fullName,familyName:t.familyName,weight:t.weightName,fontBBox:t.fontBBox||[0,0,0,0],fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},c=[],l,f=1;f<e.length;f+=1)l=e.get(f),c.push(l.name);var v=[];r.header=Ly(),r.nameIndex=Fy([t.postScriptName]);var g=qu(s,v);r.topDictIndex=ju(g),r.globalSubrIndex=By(),r.charsets=Uy(c,v),r.charStringsIndex=Gy(e),r.privateDict=Hy(o,v),r.stringIndex=My(v);var _=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return s.charset=_,s.encoding=0,s.charStrings=s.charset+r.charsets.sizeOf(),s.private[1]=s.charStrings+r.charStringsIndex.sizeOf(),g=qu(s,v),r.topDictIndex=ju(g),r}var Vy={parse:Iy,make:Wy};function qy(e,t){var r={},n=new Ee.Parser(e,t);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),Se.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function jy(e){var t=Math.round(new Date().getTime()/1e3)+2082844800,r=t;return e.createdTimestamp&&(r=e.createdTimestamp+2082844800),new se.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:r},{name:"modified",type:"LONGDATETIME",value:t},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],e)}var zy={parse:qy,make:jy};function Xy(e,t){var r={},n=new Ee.Parser(e,t);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function Yy(e){return new se.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],e)}var Zy={parse:Xy,make:Yy};function $y(e,t,r,n,s){for(var o,c,l=new Ee.Parser(e,t),f=0;f<n;f+=1){f<r&&(o=l.parseUShort(),c=l.parseShort());var v=s.get(f);v.advanceWidth=o,v.leftSideBearing=c}}function Qy(e,t,r,n,s){e._hmtxTableData={};for(var o,c,l=new Ee.Parser(t,r),f=0;f<s;f+=1)f<n&&(o=l.parseUShort(),c=l.parseShort()),e._hmtxTableData[f]={advanceWidth:o,leftSideBearing:c}}function Ky(e,t,r,n,s,o,c){c.lowMemory?Qy(e,t,r,n,s):$y(t,r,n,s,o)}function Jy(e){for(var t=new se.Table("hmtx",[]),r=0;r<e.length;r+=1){var n=e.get(r),s=n.advanceWidth||0,o=n.leftSideBearing||0;t.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:s}),t.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:o})}return t}var ew={parse:Ky,make:Jy};function tw(e){for(var t=new se.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:e.length}]),r="",n=12+e.length*4,s=0;s<e.length;++s){var o=r.indexOf(e[s]);o<0&&(o=r.length,r+=e[s]),t.fields.push({name:"offset "+s,type:"USHORT",value:n+o}),t.fields.push({name:"length "+s,type:"USHORT",value:e[s].length})}return t.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),t}function rw(e,t){var r=new Ee.Parser(e,t),n=r.parseULong();Se.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var s=r.parseULong(),o=[],c=0;c<s;c++){for(var l="",f=t+r.parseUShort(),v=r.parseUShort(),g=f;g<f+v;++g)l+=String.fromCharCode(e.getInt8(g));o.push(l)}return o}var nw={make:tw,parse:rw};function sw(e,t){var r={},n=new Ee.Parser(e,t);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function ow(e){return new se.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:e}])}var iw={parse:sw,make:ow},df=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],vf={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},aw={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},gf={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function uw(e,t,r){switch(e){case 0:if(t===65535)return"und";if(r)return r[t];break;case 1:return vf[t];case 3:return gf[t]}}var La="utf-16",cw={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},lw={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function mf(e,t,r){switch(e){case 0:return La;case 1:return lw[r]||cw[t];case 3:if(t===1||t===10)return La;break}}function fw(e,t,r){for(var n={},s=new Ee.Parser(e,t),o=s.parseUShort(),c=s.parseUShort(),l=s.offset+s.parseUShort(),f=0;f<c;f++){var v=s.parseUShort(),g=s.parseUShort(),_=s.parseUShort(),w=s.parseUShort(),T=df[w]||w,P=s.parseUShort(),R=s.parseUShort(),O=uw(v,_,r),F=mf(v,g,_);if(F!==void 0&&O!==void 0){var L=void 0;if(F===La?L=qn.UTF16(e,l+R,P):L=qn.MACSTRING(e,l+R,P,F),L){var I=n[T];I===void 0&&(I=n[T]={}),I[O]=L}}}return o===1&&s.parseUShort(),n}function ia(e){var t={};for(var r in e)t[e[r]]=parseInt(r);return t}function zu(e,t,r,n,s,o){return new se.Record("NameRecord",[{name:"platformID",type:"USHORT",value:e},{name:"encodingID",type:"USHORT",value:t},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:s},{name:"offset",type:"USHORT",value:o}])}function pw(e,t){var r=e.length,n=t.length-r+1;e:for(var s=0;s<n;s++)for(;s<n;s++){for(var o=0;o<r;o++)if(t[s+o]!==e[o])continue e;return s}return-1}function Xu(e,t){var r=pw(e,t);if(r<0){r=t.length;for(var n=0,s=e.length;n<s;++n)t.push(e[n])}return r}function hw(e,t){var r,n=[],s={},o=ia(df);for(var c in e){var l=o[c];if(l===void 0&&(l=c),r=parseInt(l),isNaN(r))throw new Error('Name table entry "'+c+'" does not exist, see nameTableNames for complete list.');s[r]=e[c],n.push(r)}for(var f=ia(vf),v=ia(gf),g=[],_=[],w=0;w<n.length;w++){r=n[w];var T=s[r];for(var P in T){var R=T[P],O=1,F=f[P],L=aw[F],I=mf(O,L,F),X=ee.MACSTRING(R,I);X===void 0&&(O=0,F=t.indexOf(P),F<0&&(F=t.length,t.push(P)),L=4,X=ee.UTF16(R));var te=Xu(X,_);g.push(zu(O,L,F,r,X.length,te));var ue=v[P];if(ue!==void 0){var ae=ee.UTF16(R),fe=Xu(ae,_);g.push(zu(3,1,ue,r,ae.length,fe))}}}g.sort(function(Pe,Ie){return Pe.platformID-Ie.platformID||Pe.encodingID-Ie.encodingID||Pe.languageID-Ie.languageID||Pe.nameID-Ie.nameID});for(var Te=new se.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:g.length},{name:"stringOffset",type:"USHORT",value:6+g.length*12}]),De=0;De<g.length;De++)Te.fields.push({name:"record_"+De,type:"RECORD",value:g[De]});return Te.fields.push({name:"strings",type:"LITERAL",value:_}),Te}var dw={parse:fw,make:hw},Fa=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function vw(e){for(var t=0;t<Fa.length;t+=1){var r=Fa[t];if(e>=r.begin&&e<r.end)return t}return-1}function gw(e,t){var r={},n=new Ee.Parser(e,t);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var s=0;s<10;s++)r.panose[s]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function mw(e){return new se.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],e)}var Yu={parse:gw,make:mw,unicodeRanges:Fa,getUnicodeRange:vw};function yw(e,t){var r={},n=new Ee.Parser(e,t);switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=Hu.slice();break;case 2:r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs);for(var s=0;s<r.numberOfGlyphs;s++)r.glyphNameIndex[s]=n.parseUShort();r.names=[];for(var o=0;o<r.numberOfGlyphs;o++)if(r.glyphNameIndex[o]>=Hu.length){var c=n.parseChar();r.names.push(n.parseString(c))}break;case 2.5:r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs);for(var l=0;l<r.numberOfGlyphs;l++)r.offset[l]=n.parseChar();break}return r}function ww(){return new se.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var _w={parse:yw,make:ww},tr=new Array(9);tr[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(M.coverage),deltaGlyphId:this.parseUShort()};if(r===2)return{substFormat:2,coverage:this.parsePointer(M.coverage),substitute:this.parseOffset16List()};Se.assert(!1,"0x"+t.toString(16)+": lookup type 1 format must be 1 or 2.")};tr[2]=function(){var t=this.parseUShort();return Se.argument(t===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(M.coverage),sequences:this.parseListOfLists()}};tr[3]=function(){var t=this.parseUShort();return Se.argument(t===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(M.coverage),alternateSets:this.parseListOfLists()}};tr[4]=function(){var t=this.parseUShort();return Se.argument(t===1,"GSUB ligature table identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(M.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Bn={sequenceIndex:M.uShort,lookupListIndex:M.uShort};tr[5]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:r,coverage:this.parsePointer(M.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),c=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(c,Bn)}})};if(r===2)return{substFormat:r,coverage:this.parsePointer(M.coverage),classDef:this.parsePointer(M.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),c=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(c,Bn)}})};if(r===3){var n=this.parseUShort(),s=this.parseUShort();return{substFormat:r,coverages:this.parseList(n,M.pointer(M.coverage)),lookupRecords:this.parseRecordList(s,Bn)}}Se.assert(!1,"0x"+t.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};tr[6]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{substFormat:1,coverage:this.parsePointer(M.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Bn)}})};if(r===2)return{substFormat:2,coverage:this.parsePointer(M.coverage),backtrackClassDef:this.parsePointer(M.classDef),inputClassDef:this.parsePointer(M.classDef),lookaheadClassDef:this.parsePointer(M.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Bn)}})};if(r===3)return{substFormat:3,backtrackCoverage:this.parseList(M.pointer(M.coverage)),inputCoverage:this.parseList(M.pointer(M.coverage)),lookaheadCoverage:this.parseList(M.pointer(M.coverage)),lookupRecords:this.parseRecordList(Bn)};Se.assert(!1,"0x"+t.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};tr[7]=function(){var t=this.parseUShort();Se.argument(t===1,"GSUB Extension Substitution subtable identifier-format must be 1");var r=this.parseUShort(),n=new M(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:r,extension:tr[r].call(n)}};tr[8]=function(){var t=this.parseUShort();return Se.argument(t===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:t,coverage:this.parsePointer(M.coverage),backtrackCoverage:this.parseList(M.pointer(M.coverage)),lookaheadCoverage:this.parseList(M.pointer(M.coverage)),substitutes:this.parseUShortList()}};function bw(e,t){t=t||0;var r=new M(e,t),n=r.parseVersion(1);return Se.argument(n===1||n===1.1,"Unsupported GSUB table version."),n===1?{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(tr)}:{version:n,scripts:r.parseScriptList(),features:r.parseFeatureList(),lookups:r.parseLookupList(tr),variations:r.parseFeatureVariationsList()}}var Yn=new Array(9);Yn[1]=function(t){return t.substFormat===1?new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)},{name:"deltaGlyphID",type:"USHORT",value:t.deltaGlyphId}]):new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.ushortList("substitute",t.substitute)))};Yn[2]=function(t){return Se.assert(t.substFormat===1,"Lookup type 2 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("seqSet",t.sequences,function(r){return new se.Table("sequenceSetTable",se.ushortList("sequence",r))})))};Yn[3]=function(t){return Se.assert(t.substFormat===1,"Lookup type 3 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("altSet",t.alternateSets,function(r){return new se.Table("alternateSetTable",se.ushortList("alternate",r))})))};Yn[4]=function(t){return Se.assert(t.substFormat===1,"Lookup type 4 substFormat must be 1."),new se.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("ligSet",t.ligatureSets,function(r){return new se.Table("ligatureSetTable",se.tableList("ligature",r,function(n){return new se.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:n.ligGlyph}].concat(se.ushortList("component",n.components,n.components.length+1)))}))})))};Yn[6]=function(t){if(t.substFormat===1){var r=new se.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:t.substFormat},{name:"coverage",type:"TABLE",value:new se.Coverage(t.coverage)}].concat(se.tableList("chainRuleSet",t.chainRuleSets,function(o){return new se.Table("chainRuleSetTable",se.tableList("chainRule",o,function(c){var l=se.ushortList("backtrackGlyph",c.backtrack,c.backtrack.length).concat(se.ushortList("inputGlyph",c.input,c.input.length+1)).concat(se.ushortList("lookaheadGlyph",c.lookahead,c.lookahead.length)).concat(se.ushortList("substitution",[],c.lookupRecords.length));return c.lookupRecords.forEach(function(f,v){l=l.concat({name:"sequenceIndex"+v,type:"USHORT",value:f.sequenceIndex}).concat({name:"lookupListIndex"+v,type:"USHORT",value:f.lookupListIndex})}),new se.Table("chainRuleTable",l)}))})));return r}else if(t.substFormat===2)Se.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(t.substFormat===3){var n=[{name:"substFormat",type:"USHORT",value:t.substFormat}];n.push({name:"backtrackGlyphCount",type:"USHORT",value:t.backtrackCoverage.length}),t.backtrackCoverage.forEach(function(o,c){n.push({name:"backtrackCoverage"+c,type:"TABLE",value:new se.Coverage(o)})}),n.push({name:"inputGlyphCount",type:"USHORT",value:t.inputCoverage.length}),t.inputCoverage.forEach(function(o,c){n.push({name:"inputCoverage"+c,type:"TABLE",value:new se.Coverage(o)})}),n.push({name:"lookaheadGlyphCount",type:"USHORT",value:t.lookaheadCoverage.length}),t.lookaheadCoverage.forEach(function(o,c){n.push({name:"lookaheadCoverage"+c,type:"TABLE",value:new se.Coverage(o)})}),n.push({name:"substitutionCount",type:"USHORT",value:t.lookupRecords.length}),t.lookupRecords.forEach(function(o,c){n=n.concat({name:"sequenceIndex"+c,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+c,type:"USHORT",value:o.lookupListIndex})});var s=new se.Table("chainContextTable",n);return s}Se.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function Sw(e){return new se.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new se.ScriptList(e.scripts)},{name:"features",type:"TABLE",value:new se.FeatureList(e.features)},{name:"lookups",type:"TABLE",value:new se.LookupList(e.lookups,Yn)}])}var Ew={parse:bw,make:Sw};function Tw(e,t){var r=new Ee.Parser(e,t),n=r.parseULong();Se.argument(n===1,"Unsupported META table version."),r.parseULong(),r.parseULong();for(var s=r.parseULong(),o={},c=0;c<s;c++){var l=r.parseTag(),f=r.parseULong(),v=r.parseULong(),g=qn.UTF8(e,t+f,v);o[l]=g}return o}function kw(e){var t=Object.keys(e).length,r="",n=16+t*12,s=new se.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:n},{name:"numTags",type:"ULONG",value:t}]);for(var o in e){var c=r.length;r+=e[o],s.fields.push({name:"tag "+o,type:"TAG",value:o}),s.fields.push({name:"offset "+o,type:"ULONG",value:n+c}),s.fields.push({name:"length "+o,type:"ULONG",value:e[o].length})}return s.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),s}var xw={parse:Tw,make:kw};function Zu(e){return Math.log(e)/Math.log(2)|0}function m1(e){for(;e.length%4!==0;)e.push(0);for(var t=0,r=0;r<e.length;r+=4)t+=(e[r]<<24)+(e[r+1]<<16)+(e[r+2]<<8)+e[r+3];return t%=Math.pow(2,32),t}function $u(e,t,r,n){return new se.Record("Table Record",[{name:"tag",type:"TAG",value:e!==void 0?e:""},{name:"checkSum",type:"ULONG",value:t!==void 0?t:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function yf(e){var t=new se.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);t.tables=e,t.numTables=e.length;var r=Math.pow(2,Zu(t.numTables));t.searchRange=16*r,t.entrySelector=Zu(r),t.rangeShift=t.numTables*16-t.searchRange;for(var n=[],s=[],o=t.sizeOf()+$u().sizeOf()*t.numTables;o%4!==0;)o+=1,s.push({name:"padding",type:"BYTE",value:0});for(var c=0;c<e.length;c+=1){var l=e[c];Se.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var f=l.sizeOf(),v=$u(l.tableName,m1(l.encode()),o,f);for(n.push({name:v.tag+" Table Record",type:"RECORD",value:v}),s.push({name:l.tableName+" table",type:"RECORD",value:l}),o+=f,Se.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,s.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(g,_){return g.value.tag>_.value.tag?1:-1}),t.fields=t.fields.concat(n),t.fields=t.fields.concat(s),t}function Qu(e,t,r){for(var n=0;n<t.length;n+=1){var s=e.charToGlyphIndex(t[n]);if(s>0){var o=e.glyphs.get(s);return o.getMetrics()}}return r}function Pw(e){for(var t=0,r=0;r<e.length;r+=1)t+=e[r];return t/e.length}function Aw(e){for(var t=[],r=[],n=[],s=[],o=[],c=[],l=[],f,v=0,g=0,_=0,w=0,T=0,P=0;P<e.glyphs.length;P+=1){var R=e.glyphs.get(P),O=R.unicode|0;if(isNaN(R.advanceWidth))throw new Error("Glyph "+R.name+" ("+P+"): advanceWidth is not a number.");(f>O||f===void 0)&&O>0&&(f=O),v<O&&(v=O);var F=Yu.getUnicodeRange(O);if(F<32)g|=1<<F;else if(F<64)_|=1<<F-32;else if(F<96)w|=1<<F-64;else if(F<123)T|=1<<F-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(R.name!==".notdef"){var L=R.getMetrics();t.push(L.xMin),r.push(L.yMin),n.push(L.xMax),s.push(L.yMax),c.push(L.leftSideBearing),l.push(L.rightSideBearing),o.push(R.advanceWidth)}}var I={xMin:Math.min.apply(null,t),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,s),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:Pw(o),minLeftSideBearing:Math.min.apply(null,c),maxLeftSideBearing:Math.max.apply(null,c),minRightSideBearing:Math.min.apply(null,l)};I.ascender=e.ascender,I.descender=e.descender;var X=zy.make({flags:3,unitsPerEm:e.unitsPerEm,xMin:I.xMin,yMin:I.yMin,xMax:I.xMax,yMax:I.yMax,lowestRecPPEM:3,createdTimestamp:e.createdTimestamp}),te=Zy.make({ascender:I.ascender,descender:I.descender,advanceWidthMax:I.advanceWidthMax,minLeftSideBearing:I.minLeftSideBearing,minRightSideBearing:I.minRightSideBearing,xMaxExtent:I.maxLeftSideBearing+(I.xMax-I.xMin),numberOfHMetrics:e.glyphs.length}),ue=iw.make(e.glyphs.length),ae=Yu.make(Object.assign({xAvgCharWidth:Math.round(I.advanceWidthAvg),usFirstCharIndex:f,usLastCharIndex:v,ulUnicodeRange1:g,ulUnicodeRange2:_,ulUnicodeRange3:w,ulUnicodeRange4:T,sTypoAscender:I.ascender,sTypoDescender:I.descender,sTypoLineGap:0,usWinAscent:I.yMax,usWinDescent:Math.abs(I.yMin),ulCodePageRange1:1,sxHeight:Qu(e,"xyvw",{yMax:Math.round(I.ascender/2)}).yMax,sCapHeight:Qu(e,"HIKLEFJMNTZBDPRAGOQSUVWXY",I).yMax,usDefaultChar:e.hasChar(" ")?32:0,usBreakChar:e.hasChar(" ")?32:0},e.tables.os2)),fe=ew.make(e.glyphs),Te=vy.make(e.glyphs),De=e.getEnglishName("fontFamily"),Pe=e.getEnglishName("fontSubfamily"),Ie=De+" "+Pe,Ke=e.getEnglishName("postScriptName");Ke||(Ke=De.replace(/\s/g,"")+"-"+Pe);var Me={};for(var He in e.names)Me[He]=e.names[He];Me.uniqueID||(Me.uniqueID={en:e.getEnglishName("manufacturer")+":"+Ie}),Me.postScriptName||(Me.postScriptName={en:Ke}),Me.preferredFamily||(Me.preferredFamily=e.names.fontFamily),Me.preferredSubfamily||(Me.preferredSubfamily=e.names.fontSubfamily);var Ve=[],Le=dw.make(Me,Ve),ve=Ve.length>0?nw.make(Ve):void 0,Ze=_w.make(),Je=Vy.make(e.glyphs,{version:e.getEnglishName("version"),fullName:Ie,familyName:De,weightName:Pe,postScriptName:Ke,unitsPerEm:e.unitsPerEm,fontBBox:[0,I.yMin,I.ascender,I.advanceWidthMax]}),Ue=e.metas&&Object.keys(e.metas).length>0?xw.make(e.metas):void 0,qe=[X,te,ue,ae,Le,Te,Ze,Je,fe];ve&&qe.push(ve),e.tables.gsub&&qe.push(Ew.make(e.tables.gsub)),Ue&&qe.push(Ue);for(var Ct=yf(qe),jt=Ct.encode(),H=m1(jt),W=Ct.fields,V=!1,q=0;q<W.length;q+=1)if(W[q].name==="head table"){W[q].value.checkSumAdjustment=2981146554-H,V=!0;break}if(!V)throw new Error("Could not find head table with checkSum to adjust.");return Ct}var Cw={make:yf,fontToTable:Aw,computeCheckSum:m1};function aa(e,t){for(var r=0,n=e.length-1;r<=n;){var s=r+n>>>1,o=e[s].tag;if(o===t)return s;o<t?r=s+1:n=s-1}return-r-1}function Ku(e,t){for(var r=0,n=e.length-1;r<=n;){var s=r+n>>>1,o=e[s];if(o===t)return s;o<t?r=s+1:n=s-1}return-r-1}function Ju(e,t){for(var r,n=0,s=e.length-1;n<=s;){var o=n+s>>>1;r=e[o];var c=r.start;if(c===t)return r;c<t?n=o+1:s=o-1}if(n>0)return r=e[n-1],t>r.end?0:r}function co(e,t){this.font=e,this.tableName=t}co.prototype={searchTag:aa,binSearch:Ku,getTable:function(e){var t=this.font.tables[this.tableName];return!t&&e&&(t=this.font.tables[this.tableName]=this.createDefaultTable()),t},getScriptNames:function(){var e=this.getTable();return e?e.scripts.map(function(t){return t.tag}):[]},getDefaultScriptName:function(){var e=this.getTable();if(e){for(var t=!1,r=0;r<e.scripts.length;r++){var n=e.scripts[r].tag;if(n==="DFLT")return n;n==="latn"&&(t=!0)}if(t)return"latn"}},getScriptTable:function(e,t){var r=this.getTable(t);if(r){e=e||"DFLT";var n=r.scripts,s=aa(r.scripts,e);if(s>=0)return n[s].script;if(t){var o={tag:e,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return n.splice(-1-s,0,o),o.script}}},getLangSysTable:function(e,t,r){var n=this.getScriptTable(e,r);if(n){if(!t||t==="dflt"||t==="DFLT")return n.defaultLangSys;var s=aa(n.langSysRecords,t);if(s>=0)return n.langSysRecords[s].langSys;if(r){var o={tag:t,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return n.langSysRecords.splice(-1-s,0,o),o.langSys}}},getFeatureTable:function(e,t,r,n){var s=this.getLangSysTable(e,t,n);if(s){for(var o,c=s.featureIndexes,l=this.font.tables[this.tableName].features,f=0;f<c.length;f++)if(o=l[c[f]],o.tag===r)return o.feature;if(n){var v=l.length;return Se.assert(v===0||r>=l[v-1].tag,"Features must be added in alphabetical order."),o={tag:r,feature:{params:0,lookupListIndexes:[]}},l.push(o),c.push(v),o.feature}}},getLookupTables:function(e,t,r,n,s){var o=this.getFeatureTable(e,t,r,s),c=[];if(o){for(var l,f=o.lookupListIndexes,v=this.font.tables[this.tableName].lookups,g=0;g<f.length;g++)l=v[f[g]],l.lookupType===n&&c.push(l);if(c.length===0&&s){l={lookupType:n,lookupFlag:0,subtables:[],markFilteringSet:void 0};var _=v.length;return v.push(l),f.push(_),[l]}}return c},getGlyphClass:function(e,t){switch(e.format){case 1:return e.startGlyph<=t&&t<e.startGlyph+e.classes.length?e.classes[t-e.startGlyph]:0;case 2:var r=Ju(e.ranges,t);return r?r.classId:0}},getCoverageIndex:function(e,t){switch(e.format){case 1:var r=Ku(e.glyphs,t);return r>=0?r:-1;case 2:var n=Ju(e.ranges,t);return n?n.index+t-n.start:-1}},expandCoverage:function(e){if(e.format===1)return e.glyphs;for(var t=[],r=e.ranges,n=0;n<r.length;n++)for(var s=r[n],o=s.start,c=s.end,l=o;l<=c;l++)t.push(l);return t}};function lo(e){co.call(this,e,"gpos")}lo.prototype=co.prototype;lo.prototype.init=function(){var e=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(e)};lo.prototype.getKerningValue=function(e,t,r){for(var n=0;n<e.length;n++)for(var s=e[n].subtables,o=0;o<s.length;o++){var c=s[o],l=this.getCoverageIndex(c.coverage,t);if(!(l<0))switch(c.posFormat){case 1:for(var f=c.pairSets[l],v=0;v<f.length;v++){var g=f[v];if(g.secondGlyph===r)return g.value1&&g.value1.xAdvance||0}break;case 2:var _=this.getGlyphClass(c.classDef1,t),w=this.getGlyphClass(c.classDef2,r),T=c.classRecords[_][w];return T.value1&&T.value1.xAdvance||0}}return 0};lo.prototype.getKerningTables=function(e,t){if(this.font.tables.gpos)return this.getLookupTables(e,t,"kern",2)};function Vt(e){co.call(this,e,"gsub")}function Rw(e,t){var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function y1(e,t,r){for(var n=e.subtables,s=0;s<n.length;s++){var o=n[s];if(o.substFormat===t)return o}if(r)return n.push(r),r}Vt.prototype=co.prototype;Vt.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};Vt.prototype.getSingle=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,1),o=0;o<s.length;o++)for(var c=s[o].subtables,l=0;l<c.length;l++){var f=c[l],v=this.expandCoverage(f.coverage),g=void 0;if(f.substFormat===1){var _=f.deltaGlyphId;for(g=0;g<v.length;g++){var w=v[g];n.push({sub:w,by:w+_})}}else{var T=f.substitute;for(g=0;g<v.length;g++)n.push({sub:v[g],by:T[g]})}}return n};Vt.prototype.getMultiple=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,2),o=0;o<s.length;o++)for(var c=s[o].subtables,l=0;l<c.length;l++){var f=c[l],v=this.expandCoverage(f.coverage),g=void 0;for(g=0;g<v.length;g++){var _=v[g],w=f.sequences[g];n.push({sub:_,by:w})}}return n};Vt.prototype.getAlternates=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,3),o=0;o<s.length;o++)for(var c=s[o].subtables,l=0;l<c.length;l++)for(var f=c[l],v=this.expandCoverage(f.coverage),g=f.alternateSets,_=0;_<v.length;_++)n.push({sub:v[_],by:g[_]});return n};Vt.prototype.getLigatures=function(e,t,r){for(var n=[],s=this.getLookupTables(t,r,e,4),o=0;o<s.length;o++)for(var c=s[o].subtables,l=0;l<c.length;l++)for(var f=c[l],v=this.expandCoverage(f.coverage),g=f.ligatureSets,_=0;_<v.length;_++)for(var w=v[_],T=g[_],P=0;P<T.length;P++){var R=T[P];n.push({sub:[w].concat(R.components),by:R.ligGlyph})}return n};Vt.prototype.addSingle=function(e,t,r,n){var s=this.getLookupTables(r,n,e,1,!0)[0],o=y1(s,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});Se.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var c=t.sub,l=this.binSearch(o.coverage.glyphs,c);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,c),o.substitute.splice(l,0,0)),o.substitute[l]=t.by};Vt.prototype.addMultiple=function(e,t,r,n){Se.assert(t.by instanceof Array&&t.by.length>1,'Multiple: "by" must be an array of two or more ids');var s=this.getLookupTables(r,n,e,2,!0)[0],o=y1(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});Se.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var c=t.sub,l=this.binSearch(o.coverage.glyphs,c);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,c),o.sequences.splice(l,0,0)),o.sequences[l]=t.by};Vt.prototype.addAlternate=function(e,t,r,n){var s=this.getLookupTables(r,n,e,3,!0)[0],o=y1(s,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});Se.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var c=t.sub,l=this.binSearch(o.coverage.glyphs,c);l<0&&(l=-1-l,o.coverage.glyphs.splice(l,0,c),o.alternateSets.splice(l,0,0)),o.alternateSets[l]=t.by};Vt.prototype.addLigature=function(e,t,r,n){var s=this.getLookupTables(r,n,e,4,!0)[0],o=s.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},s.subtables[0]=o),Se.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var c=t.sub[0],l=t.sub.slice(1),f={ligGlyph:t.by,components:l},v=this.binSearch(o.coverage.glyphs,c);if(v>=0){for(var g=o.ligatureSets[v],_=0;_<g.length;_++)if(Rw(g[_].components,l))return;g.push(f)}else v=-1-v,o.coverage.glyphs.splice(v,0,c),o.ligatureSets.splice(v,0,[f])};Vt.prototype.getFeature=function(e,t,r){if(/ss\d\d/.test(e))return this.getSingle(e,t,r);switch(e){case"aalt":case"salt":return this.getSingle(e,t,r).concat(this.getAlternates(e,t,r));case"dlig":case"liga":case"rlig":return this.getLigatures(e,t,r);case"ccmp":return this.getMultiple(e,t,r).concat(this.getLigatures(e,t,r));case"stch":return this.getMultiple(e,t,r)}};Vt.prototype.add=function(e,t,r,n){if(/ss\d\d/.test(e))return this.addSingle(e,t,r,n);switch(e){case"aalt":case"salt":return typeof t.by=="number"?this.addSingle(e,t,r,n):this.addAlternate(e,t,r,n);case"dlig":case"liga":case"rlig":return this.addLigature(e,t,r,n);case"ccmp":return t.by instanceof Array?this.addMultiple(e,t,r,n):this.addLigature(e,t,r,n)}};function Ow(){return typeof window<"u"}function Dw(e){for(var t=new Buffer(e.byteLength),r=new Uint8Array(e),n=0;n<t.length;++n)t[n]=r[n];return t}function Os(e,t){if(!e)throw t}function ec(e,t,r,n,s){var o;return(t&n)>0?(o=e.parseByte(),(t&s)===0&&(o=-o),o=r+o):(t&s)>0?o=r:o=r+e.parseShort(),o}function wf(e,t,r){var n=new Ee.Parser(t,r);e.numberOfContours=n.parseShort(),e._xMin=n.parseShort(),e._yMin=n.parseShort(),e._xMax=n.parseShort(),e._yMax=n.parseShort();var s,o;if(e.numberOfContours>0){for(var c=e.endPointIndices=[],l=0;l<e.numberOfContours;l+=1)c.push(n.parseUShort());e.instructionLength=n.parseUShort(),e.instructions=[];for(var f=0;f<e.instructionLength;f+=1)e.instructions.push(n.parseByte());var v=c[c.length-1]+1;s=[];for(var g=0;g<v;g+=1)if(o=n.parseByte(),s.push(o),(o&8)>0)for(var _=n.parseByte(),w=0;w<_;w+=1)s.push(o),g+=1;if(Se.argument(s.length===v,"Bad flags."),c.length>0){var T=[],P;if(v>0){for(var R=0;R<v;R+=1)o=s[R],P={},P.onCurve=!!(o&1),P.lastPointOfContour=c.indexOf(R)>=0,T.push(P);for(var O=0,F=0;F<v;F+=1)o=s[F],P=T[F],P.x=ec(n,o,O,2,16),O=P.x;for(var L=0,I=0;I<v;I+=1)o=s[I],P=T[I],P.y=ec(n,o,L,4,32),L=P.y}e.points=T}else e.points=[]}else if(e.numberOfContours===0)e.points=[];else{e.isComposite=!0,e.points=[],e.components=[];for(var X=!0;X;){s=n.parseUShort();var te={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(s&1)>0?(s&2)>0?(te.dx=n.parseShort(),te.dy=n.parseShort()):te.matchedPoints=[n.parseUShort(),n.parseUShort()]:(s&2)>0?(te.dx=n.parseChar(),te.dy=n.parseChar()):te.matchedPoints=[n.parseByte(),n.parseByte()],(s&8)>0?te.xScale=te.yScale=n.parseF2Dot14():(s&64)>0?(te.xScale=n.parseF2Dot14(),te.yScale=n.parseF2Dot14()):(s&128)>0&&(te.xScale=n.parseF2Dot14(),te.scale01=n.parseF2Dot14(),te.scale10=n.parseF2Dot14(),te.yScale=n.parseF2Dot14()),e.components.push(te),X=!!(s&32)}if(s&256){e.instructionLength=n.parseUShort(),e.instructions=[];for(var ue=0;ue<e.instructionLength;ue+=1)e.instructions.push(n.parseByte())}}}function ua(e,t){for(var r=[],n=0;n<e.length;n+=1){var s=e[n],o={x:t.xScale*s.x+t.scale01*s.y+t.dx,y:t.scale10*s.x+t.yScale*s.y+t.dy,onCurve:s.onCurve,lastPointOfContour:s.lastPointOfContour};r.push(o)}return r}function Iw(e){for(var t=[],r=[],n=0;n<e.length;n+=1){var s=e[n];r.push(s),s.lastPointOfContour&&(t.push(r),r=[])}return Se.argument(r.length===0,"There are still points left in the current contour."),t}function _f(e){var t=new bt;if(!e)return t;for(var r=Iw(e),n=0;n<r.length;++n){var s=r[n],o=null,c=s[s.length-1],l=s[0];if(c.onCurve)t.moveTo(c.x,c.y);else if(l.onCurve)t.moveTo(l.x,l.y);else{var f={x:(c.x+l.x)*.5,y:(c.y+l.y)*.5};t.moveTo(f.x,f.y)}for(var v=0;v<s.length;++v)if(o=c,c=l,l=s[(v+1)%s.length],c.onCurve)t.lineTo(c.x,c.y);else{var g=l;o.onCurve||((c.x+o.x)*.5,(c.y+o.y)*.5),l.onCurve||(g={x:(c.x+l.x)*.5,y:(c.y+l.y)*.5}),t.quadraticCurveTo(c.x,c.y,g.x,g.y)}t.closePath()}return t}function bf(e,t){if(t.isComposite)for(var r=0;r<t.components.length;r+=1){var n=t.components[r],s=e.get(n.glyphIndex);if(s.getPath(),s.points){var o=void 0;if(n.matchedPoints===void 0)o=ua(s.points,n);else{if(n.matchedPoints[0]>t.points.length-1||n.matchedPoints[1]>s.points.length-1)throw Error("Matched points out of range in "+t.name);var c=t.points[n.matchedPoints[0]],l=s.points[n.matchedPoints[1]],f={xScale:n.xScale,scale01:n.scale01,scale10:n.scale10,yScale:n.yScale,dx:0,dy:0};l=ua([l],f)[0],f.dx=c.x-l.x,f.dy=c.y-l.y,o=ua(s.points,f)}t.points=t.points.concat(o)}}return _f(t.points)}function Lw(e,t,r,n){for(var s=new hr.GlyphSet(n),o=0;o<r.length-1;o+=1){var c=r[o],l=r[o+1];c!==l?s.push(o,hr.ttfGlyphLoader(n,o,wf,e,t+c,bf)):s.push(o,hr.glyphLoader(n,o))}return s}function Fw(e,t,r,n){var s=new hr.GlyphSet(n);return n._push=function(o){var c=r[o],l=r[o+1];c!==l?s.push(o,hr.ttfGlyphLoader(n,o,wf,e,t+c,bf)):s.push(o,hr.glyphLoader(n,o))},s}function Mw(e,t,r,n,s){return s.lowMemory?Fw(e,t,r,n):Lw(e,t,r,n)}var Bw={getPath:_f,parse:Mw},Sf,mn,Ef,Ma;function Tf(e){this.font=e,this.getCommands=function(t){return Bw.getPath(t).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Uw(e){return e}function kf(e){return Math.sign(e)*Math.round(Math.abs(e))}function Nw(e){return Math.sign(e)*Math.round(Math.abs(e*2))/2}function Gw(e){return Math.sign(e)*(Math.round(Math.abs(e)+.5)-.5)}function Hw(e){return Math.sign(e)*Math.ceil(Math.abs(e))}function Ww(e){return Math.sign(e)*Math.floor(Math.abs(e))}var xf=function(e){var t=this.srPeriod,r=this.srPhase,n=this.srThreshold,s=1;return e<0&&(e=-e,s=-1),e+=n-r,e=Math.trunc(e/t)*t,e+=r,e<0?r*s:e*s},fr={x:1,y:0,axis:"x",distance:function(e,t,r,n){return(r?e.xo:e.x)-(n?t.xo:t.x)},interpolate:function(e,t,r,n){var s,o,c,l,f,v,g;if(!n||n===this){if(s=e.xo-t.xo,o=e.xo-r.xo,f=t.x-t.xo,v=r.x-r.xo,c=Math.abs(s),l=Math.abs(o),g=c+l,g===0){e.x=e.xo+(f+v)/2;return}e.x=e.xo+(f*l+v*c)/g;return}if(s=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),f=n.distance(t,t,!1,!0),v=n.distance(r,r,!1,!0),c=Math.abs(s),l=Math.abs(o),g=c+l,g===0){fr.setRelative(e,e,(f+v)/2,n,!0);return}fr.setRelative(e,e,(f*l+v*c)/g,n,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(e,t,r,n,s){if(!n||n===this){e.x=(s?t.xo:t.x)+r;return}var o=s?t.xo:t.x,c=s?t.yo:t.y,l=o+r*n.x,f=c+r*n.y;e.x=l+(e.y-f)/n.normalSlope},slope:0,touch:function(e){e.xTouched=!0},touched:function(e){return e.xTouched},untouch:function(e){e.xTouched=!1}},Pr={x:0,y:1,axis:"y",distance:function(e,t,r,n){return(r?e.yo:e.y)-(n?t.yo:t.y)},interpolate:function(e,t,r,n){var s,o,c,l,f,v,g;if(!n||n===this){if(s=e.yo-t.yo,o=e.yo-r.yo,f=t.y-t.yo,v=r.y-r.yo,c=Math.abs(s),l=Math.abs(o),g=c+l,g===0){e.y=e.yo+(f+v)/2;return}e.y=e.yo+(f*l+v*c)/g;return}if(s=n.distance(e,t,!0,!0),o=n.distance(e,r,!0,!0),f=n.distance(t,t,!1,!0),v=n.distance(r,r,!1,!0),c=Math.abs(s),l=Math.abs(o),g=c+l,g===0){Pr.setRelative(e,e,(f+v)/2,n,!0);return}Pr.setRelative(e,e,(f*l+v*c)/g,n,!0)},normalSlope:0,setRelative:function(e,t,r,n,s){if(!n||n===this){e.y=(s?t.yo:t.y)+r;return}var o=s?t.xo:t.x,c=s?t.yo:t.y,l=o+r*n.x,f=c+r*n.y;e.y=f+n.normalSlope*(e.x-l)},slope:Number.POSITIVE_INFINITY,touch:function(e){e.yTouched=!0},touched:function(e){return e.yTouched},untouch:function(e){e.yTouched=!1}};Object.freeze(fr);Object.freeze(Pr);function fo(e,t){this.x=e,this.y=t,this.axis=void 0,this.slope=t/e,this.normalSlope=-e/t,Object.freeze(this)}fo.prototype.distance=function(e,t,r,n){return this.x*fr.distance(e,t,r,n)+this.y*Pr.distance(e,t,r,n)};fo.prototype.interpolate=function(e,t,r,n){var s,o,c,l,f,v,g;if(c=n.distance(e,t,!0,!0),l=n.distance(e,r,!0,!0),s=n.distance(t,t,!1,!0),o=n.distance(r,r,!1,!0),f=Math.abs(c),v=Math.abs(l),g=f+v,g===0){this.setRelative(e,e,(s+o)/2,n,!0);return}this.setRelative(e,e,(s*v+o*f)/g,n,!0)};fo.prototype.setRelative=function(e,t,r,n,s){n=n||this;var o=s?t.xo:t.x,c=s?t.yo:t.y,l=o+r*n.x,f=c+r*n.y,v=n.normalSlope,g=this.slope,_=e.x,w=e.y;e.x=(g*_-v*l+f-w)/(g-v),e.y=g*(e.x-_)+w};fo.prototype.touch=function(e){e.xTouched=!0,e.yTouched=!0};function po(e,t){var r=Math.sqrt(e*e+t*t);return e/=r,t/=r,e===1&&t===0?fr:e===0&&t===1?Pr:new fo(e,t)}function Ar(e,t,r,n){this.x=this.xo=Math.round(e*64)/64,this.y=this.yo=Math.round(t*64)/64,this.lastPointOfContour=r,this.onCurve=n,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Ar.prototype.nextTouched=function(e){for(var t=this.nextPointOnContour;!e.touched(t)&&t!==this;)t=t.nextPointOnContour;return t};Ar.prototype.prevTouched=function(e){for(var t=this.prevPointOnContour;!e.touched(t)&&t!==this;)t=t.prevPointOnContour;return t};var Ks=Object.freeze(new Ar(0,0)),Vw={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function zr(e,t){switch(this.env=e,this.stack=[],this.prog=t,e){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=fr,this.round=kf}}Tf.prototype.exec=function(e,t){if(typeof t!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var r=this.font,n=this._prepState;if(!n||n.ppem!==t){var s=this._fpgmState;if(!s){zr.prototype=Vw,s=this._fpgmState=new zr("fpgm",r.tables.fpgm),s.funcs=[],s.font=r,exports.DEBUG&&(console.log("---EXEC FPGM---"),s.step=-1);try{mn(s)}catch(v){console.log("Hinting error in FPGM:"+v),this._errorState=3;return}}zr.prototype=s,n=this._prepState=new zr("prep",r.tables.prep),n.ppem=t;var o=r.tables.cvt;if(o)for(var c=n.cvt=new Array(o.length),l=t/r.unitsPerEm,f=0;f<o.length;f++)c[f]=o[f]*l;else n.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),n.step=-1);try{mn(n)}catch(v){this._errorState<2&&console.log("Hinting error in PREP:"+v),this._errorState=2}}if(!(this._errorState>1))try{return Ef(e,n)}catch(v){this._errorState<1&&(console.log("Hinting error:"+v),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};Ef=function(e,t){var r=t.ppem/t.font.unitsPerEm,n=r,s=e.components,o,c,l;if(zr.prototype=t,!s)l=new zr("glyf",e.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),l.step=-1),Ma(e,l,r,n),c=l.gZone;else{var f=t.font;c=[],o=[];for(var v=0;v<s.length;v++){var g=s[v],_=f.glyphs.get(g.glyphIndex);l=new zr("glyf",_.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+v+"---"),l.step=-1),Ma(_,l,r,n);for(var w=Math.round(g.dx*r),T=Math.round(g.dy*n),P=l.gZone,R=l.contours,O=0;O<P.length;O++){var F=P[O];F.xTouched=F.yTouched=!1,F.xo=F.x=F.x+w,F.yo=F.y=F.y+T}var L=c.length;c.push.apply(c,P);for(var I=0;I<R.length;I++)o.push(R[I]+L)}e.instructions&&!l.inhibitGridFit&&(l=new zr("glyf",e.instructions),l.gZone=l.z0=l.z1=l.z2=c,l.contours=o,c.push(new Ar(0,0),new Ar(Math.round(e.advanceWidth*r),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),l.step=-1),mn(l),c.length-=2)}return c};Ma=function(e,t,r,n){for(var s=e.points||[],o=s.length,c=t.gZone=t.z0=t.z1=t.z2=[],l=t.contours=[],f,v=0;v<o;v++)f=s[v],c[v]=new Ar(f.x*r,f.y*n,f.lastPointOfContour,f.onCurve);for(var g,_,w=0;w<o;w++)f=c[w],g||(g=f,l.push(w)),f.lastPointOfContour?(f.nextPointOnContour=g,g.prevPointOnContour=f,g=void 0):(_=c[w+1],f.nextPointOnContour=_,_.prevPointOnContour=f);if(!t.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",t.stack);for(var T=0;T<o;T++)console.log(T,c[T].x,c[T].y)}if(c.push(new Ar(0,0),new Ar(Math.round(e.advanceWidth*r),0)),mn(t),c.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",t.stack);for(var P=0;P<o;P++)console.log(P,c[P].x,c[P].y)}}};mn=function(e){var t=e.prog;if(t){var r=t.length,n;for(e.ip=0;e.ip<r;e.ip++){if(exports.DEBUG&&e.step++,n=Sf[t[e.ip]],!n)throw new Error("unknown instruction: 0x"+Number(t[e.ip]).toString(16));n(e)}}};function Ai(e){for(var t=e.tZone=new Array(e.gZone.length),r=0;r<t.length;r++)t[r]=new Ar(0,0)}function Pf(e,t){var r=e.prog,n=e.ip,s=1,o;do if(o=r[++n],o===88)s++;else if(o===89)s--;else if(o===64)n+=r[n+1]+1;else if(o===65)n+=2*r[n+1]+1;else if(o>=176&&o<=183)n+=o-176+1;else if(o>=184&&o<=191)n+=(o-184+1)*2;else if(t&&s===1&&o===27)break;while(s>0);e.ip=n}function tc(e,t){exports.DEBUG&&console.log(t.step,"SVTCA["+e.axis+"]"),t.fv=t.pv=t.dpv=e}function rc(e,t){exports.DEBUG&&console.log(t.step,"SPVTCA["+e.axis+"]"),t.pv=t.dpv=e}function nc(e,t){exports.DEBUG&&console.log(t.step,"SFVTCA["+e.axis+"]"),t.fv=e}function sc(e,t){var r=t.stack,n=r.pop(),s=r.pop(),o=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log("SPVTL["+e+"]",n,s);var l,f;e?(l=o.y-c.y,f=c.x-o.x):(l=c.x-o.x,f=c.y-o.y),t.pv=t.dpv=po(l,f)}function oc(e,t){var r=t.stack,n=r.pop(),s=r.pop(),o=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log("SFVTL["+e+"]",n,s);var l,f;e?(l=o.y-c.y,f=c.x-o.x):(l=c.x-o.x,f=c.y-o.y),t.fv=po(l,f)}function qw(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.pv=e.dpv=po(n,r)}function jw(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SPVFS[]",r,n),e.fv=po(n,r)}function zw(e){var t=e.stack,r=e.pv;exports.DEBUG&&console.log(e.step,"GPV[]"),t.push(r.x*16384),t.push(r.y*16384)}function Xw(e){var t=e.stack,r=e.fv;exports.DEBUG&&console.log(e.step,"GFV[]"),t.push(r.x*16384),t.push(r.y*16384)}function Yw(e){e.fv=e.pv,exports.DEBUG&&console.log(e.step,"SFVTPV[]")}function Zw(e){var t=e.stack,r=t.pop(),n=t.pop(),s=t.pop(),o=t.pop(),c=t.pop(),l=e.z0,f=e.z1,v=l[r],g=l[n],_=f[s],w=f[o],T=e.z2[c];exports.DEBUG&&console.log("ISECT[], ",r,n,s,o,c);var P=v.x,R=v.y,O=g.x,F=g.y,L=_.x,I=_.y,X=w.x,te=w.y,ue=(P-O)*(I-te)-(R-F)*(L-X),ae=P*F-R*O,fe=L*te-I*X;T.x=(ae*(L-X)-fe*(P-O))/ue,T.y=(ae*(I-te)-fe*(R-F))/ue}function $w(e){e.rp0=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP0[]",e.rp0)}function Qw(e){e.rp1=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP1[]",e.rp1)}function Kw(e){e.rp2=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SRP2[]",e.rp2)}function Jw(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP0[]",t),e.zp0=t,t){case 0:e.tZone||Ai(e),e.z0=e.tZone;break;case 1:e.z0=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function e_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP1[]",t),e.zp1=t,t){case 0:e.tZone||Ai(e),e.z1=e.tZone;break;case 1:e.z1=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function t_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZP2[]",t),e.zp2=t,t){case 0:e.tZone||Ai(e),e.z2=e.tZone;break;case 1:e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function r_(e){var t=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"SZPS[]",t),e.zp0=e.zp1=e.zp2=t,t){case 0:e.tZone||Ai(e),e.z0=e.z1=e.z2=e.tZone;break;case 1:e.z0=e.z1=e.z2=e.gZone;break;default:throw new Error("Invalid zone pointer")}}function n_(e){e.loop=e.stack.pop(),exports.DEBUG&&console.log(e.step,"SLOOP[]",e.loop)}function s_(e){exports.DEBUG&&console.log(e.step,"RTG[]"),e.round=kf}function o_(e){exports.DEBUG&&console.log(e.step,"RTHG[]"),e.round=Gw}function i_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SMD[]",t),e.minDis=t/64}function a_(e){exports.DEBUG&&console.log(e.step,"ELSE[]"),Pf(e,!1)}function u_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"JMPR[]",t),e.ip+=t-1}function c_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCVTCI[]",t),e.cvCutIn=t/64}function l_(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DUP[]"),t.push(t[t.length-1])}function ca(e){exports.DEBUG&&console.log(e.step,"POP[]"),e.stack.pop()}function f_(e){exports.DEBUG&&console.log(e.step,"CLEAR[]"),e.stack.length=0}function p_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SWAP[]"),t.push(r),t.push(n)}function h_(e){var t=e.stack;exports.DEBUG&&console.log(e.step,"DEPTH[]"),t.push(t.length)}function d_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LOOPCALL[]",r,n);var s=e.ip,o=e.prog;e.prog=e.funcs[r];for(var c=0;c<n;c++)mn(e),exports.DEBUG&&console.log(++e.step,c+1<n?"next loopcall":"done loopcall",c);e.ip=s,e.prog=o}function v_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"CALL[]",t);var r=e.ip,n=e.prog;e.prog=e.funcs[t],mn(e),e.ip=r,e.prog=n,exports.DEBUG&&console.log(++e.step,"returning from",t)}function g_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CINDEX[]",r),t.push(t[t.length-r])}function m_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"MINDEX[]",r),t.push(t.splice(t.length-r,1)[0])}function y_(e){if(e.env!=="fpgm")throw new Error("FDEF not allowed here");var t=e.stack,r=e.prog,n=e.ip,s=t.pop(),o=n;for(exports.DEBUG&&console.log(e.step,"FDEF[]",s);r[++n]!==45;);e.ip=n,e.funcs[s]=r.slice(o+1,n)}function ic(e,t){var r=t.stack.pop(),n=t.z0[r],s=t.fv,o=t.pv;exports.DEBUG&&console.log(t.step,"MDAP["+e+"]",r);var c=o.distance(n,Ks);e&&(c=t.round(c)),s.setRelative(n,Ks,c,o),s.touch(n),t.rp0=t.rp1=r}function ac(e,t){var r=t.z2,n=r.length-2,s,o,c;exports.DEBUG&&console.log(t.step,"IUP["+e.axis+"]");for(var l=0;l<n;l++)s=r[l],!e.touched(s)&&(o=s.prevTouched(e),o!==s&&(c=s.nextTouched(e),o===c&&e.setRelative(s,s,e.distance(o,o,!1,!0),e,!0),e.interpolate(s,o,c,e)))}function uc(e,t){for(var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],o=t.fv,c=t.pv,l=t.loop,f=t.z2;l--;){var v=r.pop(),g=f[v],_=c.distance(s,s,!1,!0);o.setRelative(g,g,_,c),o.touch(g),exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-l)+": ":"")+"SHP["+(e?"rp1":"rp2")+"]",v)}t.loop=1}function cc(e,t){var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],o=t.fv,c=t.pv,l=r.pop(),f=t.z2[t.contours[l]],v=f;exports.DEBUG&&console.log(t.step,"SHC["+e+"]",l);var g=c.distance(s,s,!1,!0);do v!==s&&o.setRelative(v,v,g,c),v=v.nextPointOnContour;while(v!==f)}function lc(e,t){var r=t.stack,n=e?t.rp1:t.rp2,s=(e?t.z0:t.z1)[n],o=t.fv,c=t.pv,l=r.pop();exports.DEBUG&&console.log(t.step,"SHZ["+e+"]",l);var f;switch(l){case 0:f=t.tZone;break;case 1:f=t.gZone;break;default:throw new Error("Invalid zone")}for(var v,g=c.distance(s,s,!1,!0),_=f.length-2,w=0;w<_;w++)v=f[w],o.setRelative(v,v,g,c)}function w_(e){for(var t=e.stack,r=e.loop,n=e.fv,s=t.pop()/64,o=e.z2;r--;){var c=t.pop(),l=o[c];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-r)+": ":"")+"SHPIX[]",c,s),n.setRelative(l,l,s),n.touch(l)}e.loop=1}function __(e){for(var t=e.stack,r=e.rp1,n=e.rp2,s=e.loop,o=e.z0[r],c=e.z1[n],l=e.fv,f=e.dpv,v=e.z2;s--;){var g=t.pop(),_=v[g];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"IP[]",g,r,"<->",n),l.interpolate(_,o,c,f),l.touch(_)}e.loop=1}function fc(e,t){var r=t.stack,n=r.pop()/64,s=r.pop(),o=t.z1[s],c=t.z0[t.rp0],l=t.fv,f=t.pv;l.setRelative(o,c,n,f),l.touch(o),exports.DEBUG&&console.log(t.step,"MSIRP["+e+"]",n,s),t.rp1=t.rp0,t.rp2=s,e&&(t.rp0=s)}function b_(e){for(var t=e.stack,r=e.rp0,n=e.z0[r],s=e.loop,o=e.fv,c=e.pv,l=e.z1;s--;){var f=t.pop(),v=l[f];exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-s)+": ":"")+"ALIGNRP[]",f),o.setRelative(v,n,0,c),o.touch(v)}e.loop=1}function S_(e){exports.DEBUG&&console.log(e.step,"RTDG[]"),e.round=Nw}function pc(e,t){var r=t.stack,n=r.pop(),s=r.pop(),o=t.z0[s],c=t.fv,l=t.pv,f=t.cvt[n];exports.DEBUG&&console.log(t.step,"MIAP["+e+"]",n,"(",f,")",s);var v=l.distance(o,Ks);e&&(Math.abs(v-f)<t.cvCutIn&&(v=f),v=t.round(v)),c.setRelative(o,Ks,v,l),t.zp0===0&&(o.xo=o.x,o.yo=o.y),c.touch(o),t.rp0=t.rp1=s}function E_(e){var t=e.prog,r=e.ip,n=e.stack,s=t[++r];exports.DEBUG&&console.log(e.step,"NPUSHB[]",s);for(var o=0;o<s;o++)n.push(t[++r]);e.ip=r}function T_(e){var t=e.ip,r=e.prog,n=e.stack,s=r[++t];exports.DEBUG&&console.log(e.step,"NPUSHW[]",s);for(var o=0;o<s;o++){var c=r[++t]<<8|r[++t];c&32768&&(c=-((c^65535)+1)),n.push(c)}e.ip=t}function k_(e){var t=e.stack,r=e.store;r||(r=e.store=[]);var n=t.pop(),s=t.pop();exports.DEBUG&&console.log(e.step,"WS",n,s),r[s]=n}function x_(e){var t=e.stack,r=e.store,n=t.pop();exports.DEBUG&&console.log(e.step,"RS",n);var s=r&&r[n]||0;t.push(s)}function P_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTP",r,n),e.cvt[n]=r/64}function A_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"RCVT",r),t.push(e.cvt[r]*64)}function hc(e,t){var r=t.stack,n=r.pop(),s=t.z2[n];exports.DEBUG&&console.log(t.step,"GC["+e+"]",n),r.push(t.dpv.distance(s,Ks,e,!1)*64)}function dc(e,t){var r=t.stack,n=r.pop(),s=r.pop(),o=t.z1[n],c=t.z0[s],l=t.dpv.distance(c,o,e,e);exports.DEBUG&&console.log(t.step,"MD["+e+"]",n,s,"->",l),t.stack.push(Math.round(l*64))}function C_(e){exports.DEBUG&&console.log(e.step,"MPPEM[]"),e.stack.push(e.ppem)}function R_(e){exports.DEBUG&&console.log(e.step,"FLIPON[]"),e.autoFlip=!0}function O_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LT[]",r,n),t.push(n<r?1:0)}function D_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"LTEQ[]",r,n),t.push(n<=r?1:0)}function I_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GT[]",r,n),t.push(n>r?1:0)}function L_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"GTEQ[]",r,n),t.push(n>=r?1:0)}function F_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"EQ[]",r,n),t.push(r===n?1:0)}function M_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"NEQ[]",r,n),t.push(r!==n?1:0)}function B_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ODD[]",r),t.push(Math.trunc(r)%2?1:0)}function U_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"EVEN[]",r),t.push(Math.trunc(r)%2?0:1)}function N_(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"IF[]",t),t||(Pf(e,!0),exports.DEBUG&&console.log(e.step,"EIF[]"))}function G_(e){exports.DEBUG&&console.log(e.step,"EIF[]")}function H_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"AND[]",r,n),t.push(r&&n?1:0)}function W_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"OR[]",r,n),t.push(r||n?1:0)}function V_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NOT[]",r),t.push(r?0:1)}function la(e,t){var r=t.stack,n=r.pop(),s=t.fv,o=t.pv,c=t.ppem,l=t.deltaBase+(e-1)*16,f=t.deltaShift,v=t.z0;exports.DEBUG&&console.log(t.step,"DELTAP["+e+"]",n,r);for(var g=0;g<n;g++){var _=r.pop(),w=r.pop(),T=l+((w&240)>>4);if(T===c){var P=(w&15)-8;P>=0&&P++,exports.DEBUG&&console.log(t.step,"DELTAPFIX",_,"by",P*f);var R=v[_];s.setRelative(R,R,P*f,o)}}}function q_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDB[]",r),e.deltaBase=r}function j_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"SDS[]",r),e.deltaShift=Math.pow(.5,r)}function z_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"ADD[]",r,n),t.push(n+r)}function X_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"SUB[]",r,n),t.push(n-r)}function Y_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"DIV[]",r,n),t.push(n*64/r)}function Z_(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MUL[]",r,n),t.push(n*r/64)}function $_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"ABS[]",r),t.push(Math.abs(r))}function Q_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"NEG[]",r),t.push(-r)}function K_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"FLOOR[]",r),t.push(Math.floor(r/64)*64)}function J_(e){var t=e.stack,r=t.pop();exports.DEBUG&&console.log(e.step,"CEILING[]",r),t.push(Math.ceil(r/64)*64)}function Lo(e,t){var r=t.stack,n=r.pop();exports.DEBUG&&console.log(t.step,"ROUND[]"),r.push(t.round(n/64)*64)}function eb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"WCVTF[]",r,n),e.cvt[n]=r*e.ppem/e.font.unitsPerEm}function fa(e,t){var r=t.stack,n=r.pop(),s=t.ppem,o=t.deltaBase+(e-1)*16,c=t.deltaShift;exports.DEBUG&&console.log(t.step,"DELTAC["+e+"]",n,r);for(var l=0;l<n;l++){var f=r.pop(),v=r.pop(),g=o+((v&240)>>4);if(g===s){var _=(v&15)-8;_>=0&&_++;var w=_*c;exports.DEBUG&&console.log(t.step,"DELTACFIX",f,"by",w),t.cvt[f]+=w}}}function tb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SROUND[]",t),e.round=xf;var r;switch(t&192){case 0:r=.5;break;case 64:r=1;break;case 128:r=2;break;default:throw new Error("invalid SROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid SROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function rb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"S45ROUND[]",t),e.round=xf;var r;switch(t&192){case 0:r=Math.sqrt(2)/2;break;case 64:r=Math.sqrt(2);break;case 128:r=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(e.srPeriod=r,t&48){case 0:e.srPhase=0;break;case 16:e.srPhase=.25*r;break;case 32:e.srPhase=.5*r;break;case 48:e.srPhase=.75*r;break;default:throw new Error("invalid S45ROUND value")}t&=15,t===0?e.srThreshold=0:e.srThreshold=(t/8-.5)*r}function nb(e){exports.DEBUG&&console.log(e.step,"ROFF[]"),e.round=Uw}function sb(e){exports.DEBUG&&console.log(e.step,"RUTG[]"),e.round=Hw}function ob(e){exports.DEBUG&&console.log(e.step,"RDTG[]"),e.round=Ww}function ib(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANCTRL[]",t)}function vc(e,t){var r=t.stack,n=r.pop(),s=r.pop(),o=t.z2[n],c=t.z1[s];exports.DEBUG&&console.log(t.step,"SDPVTL["+e+"]",n,s);var l,f;e?(l=o.y-c.y,f=c.x-o.x):(l=c.x-o.x,f=c.y-o.y),t.dpv=po(l,f)}function ab(e){var t=e.stack,r=t.pop(),n=0;exports.DEBUG&&console.log(e.step,"GETINFO[]",r),r&1&&(n=35),r&32&&(n|=4096),t.push(n)}function ub(e){var t=e.stack,r=t.pop(),n=t.pop(),s=t.pop();exports.DEBUG&&console.log(e.step,"ROLL[]"),t.push(n),t.push(r),t.push(s)}function cb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MAX[]",r,n),t.push(Math.max(n,r))}function lb(e){var t=e.stack,r=t.pop(),n=t.pop();exports.DEBUG&&console.log(e.step,"MIN[]",r,n),t.push(Math.min(n,r))}function fb(e){var t=e.stack.pop();exports.DEBUG&&console.log(e.step,"SCANTYPE[]",t)}function pb(e){var t=e.stack.pop(),r=e.stack.pop();switch(exports.DEBUG&&console.log(e.step,"INSTCTRL[]",t,r),t){case 1:e.inhibitGridFit=!!r;return;case 2:e.ignoreCvt=!!r;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Hr(e,t){var r=t.stack,n=t.prog,s=t.ip;exports.DEBUG&&console.log(t.step,"PUSHB["+e+"]");for(var o=0;o<e;o++)r.push(n[++s]);t.ip=s}function Wr(e,t){var r=t.ip,n=t.prog,s=t.stack;exports.DEBUG&&console.log(t.ip,"PUSHW["+e+"]");for(var o=0;o<e;o++){var c=n[++r]<<8|n[++r];c&32768&&(c=-((c^65535)+1)),s.push(c)}t.ip=r}function ne(e,t,r,n,s,o){var c=o.stack,l=e&&c.pop(),f=c.pop(),v=o.rp0,g=o.z0[v],_=o.z1[f],w=o.minDis,T=o.fv,P=o.dpv,R,O,F,L;O=R=P.distance(_,g,!0,!0),F=O>=0?1:-1,O=Math.abs(O),e&&(L=o.cvt[l],n&&Math.abs(O-L)<o.cvCutIn&&(O=L)),r&&O<w&&(O=w),n&&(O=o.round(O)),T.setRelative(_,g,F*O,P),T.touch(_),exports.DEBUG&&console.log(o.step,(e?"MIRP[":"MDRP[")+(t?"M":"m")+(r?">":"_")+(n?"R":"_")+(s===0?"Gr":s===1?"Bl":s===2?"Wh":"")+"]",e?l+"("+o.cvt[l]+","+L+")":"",f,"(d =",R,"->",F*O,")"),o.rp1=o.rp0,o.rp2=f,t&&(o.rp0=f)}Sf=[tc.bind(void 0,Pr),tc.bind(void 0,fr),rc.bind(void 0,Pr),rc.bind(void 0,fr),nc.bind(void 0,Pr),nc.bind(void 0,fr),sc.bind(void 0,0),sc.bind(void 0,1),oc.bind(void 0,0),oc.bind(void 0,1),qw,jw,zw,Xw,Yw,Zw,$w,Qw,Kw,Jw,e_,t_,r_,n_,s_,o_,i_,a_,u_,c_,void 0,void 0,l_,ca,f_,p_,h_,g_,m_,void 0,void 0,void 0,d_,v_,y_,void 0,ic.bind(void 0,0),ic.bind(void 0,1),ac.bind(void 0,Pr),ac.bind(void 0,fr),uc.bind(void 0,0),uc.bind(void 0,1),cc.bind(void 0,0),cc.bind(void 0,1),lc.bind(void 0,0),lc.bind(void 0,1),w_,__,fc.bind(void 0,0),fc.bind(void 0,1),b_,S_,pc.bind(void 0,0),pc.bind(void 0,1),E_,T_,k_,x_,P_,A_,hc.bind(void 0,0),hc.bind(void 0,1),void 0,dc.bind(void 0,0),dc.bind(void 0,1),C_,void 0,R_,void 0,void 0,O_,D_,I_,L_,F_,M_,B_,U_,N_,G_,H_,W_,V_,la.bind(void 0,1),q_,j_,z_,X_,Y_,Z_,$_,Q_,K_,J_,Lo.bind(void 0,0),Lo.bind(void 0,1),Lo.bind(void 0,2),Lo.bind(void 0,3),void 0,void 0,void 0,void 0,eb,la.bind(void 0,2),la.bind(void 0,3),fa.bind(void 0,1),fa.bind(void 0,2),fa.bind(void 0,3),tb,rb,void 0,void 0,nb,void 0,sb,ob,ca,ca,void 0,void 0,void 0,void 0,void 0,ib,vc.bind(void 0,0),vc.bind(void 0,1),ab,void 0,ub,cb,lb,fb,pb,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Hr.bind(void 0,1),Hr.bind(void 0,2),Hr.bind(void 0,3),Hr.bind(void 0,4),Hr.bind(void 0,5),Hr.bind(void 0,6),Hr.bind(void 0,7),Hr.bind(void 0,8),Wr.bind(void 0,1),Wr.bind(void 0,2),Wr.bind(void 0,3),Wr.bind(void 0,4),Wr.bind(void 0,5),Wr.bind(void 0,6),Wr.bind(void 0,7),Wr.bind(void 0,8),ne.bind(void 0,0,0,0,0,0),ne.bind(void 0,0,0,0,0,1),ne.bind(void 0,0,0,0,0,2),ne.bind(void 0,0,0,0,0,3),ne.bind(void 0,0,0,0,1,0),ne.bind(void 0,0,0,0,1,1),ne.bind(void 0,0,0,0,1,2),ne.bind(void 0,0,0,0,1,3),ne.bind(void 0,0,0,1,0,0),ne.bind(void 0,0,0,1,0,1),ne.bind(void 0,0,0,1,0,2),ne.bind(void 0,0,0,1,0,3),ne.bind(void 0,0,0,1,1,0),ne.bind(void 0,0,0,1,1,1),ne.bind(void 0,0,0,1,1,2),ne.bind(void 0,0,0,1,1,3),ne.bind(void 0,0,1,0,0,0),ne.bind(void 0,0,1,0,0,1),ne.bind(void 0,0,1,0,0,2),ne.bind(void 0,0,1,0,0,3),ne.bind(void 0,0,1,0,1,0),ne.bind(void 0,0,1,0,1,1),ne.bind(void 0,0,1,0,1,2),ne.bind(void 0,0,1,0,1,3),ne.bind(void 0,0,1,1,0,0),ne.bind(void 0,0,1,1,0,1),ne.bind(void 0,0,1,1,0,2),ne.bind(void 0,0,1,1,0,3),ne.bind(void 0,0,1,1,1,0),ne.bind(void 0,0,1,1,1,1),ne.bind(void 0,0,1,1,1,2),ne.bind(void 0,0,1,1,1,3),ne.bind(void 0,1,0,0,0,0),ne.bind(void 0,1,0,0,0,1),ne.bind(void 0,1,0,0,0,2),ne.bind(void 0,1,0,0,0,3),ne.bind(void 0,1,0,0,1,0),ne.bind(void 0,1,0,0,1,1),ne.bind(void 0,1,0,0,1,2),ne.bind(void 0,1,0,0,1,3),ne.bind(void 0,1,0,1,0,0),ne.bind(void 0,1,0,1,0,1),ne.bind(void 0,1,0,1,0,2),ne.bind(void 0,1,0,1,0,3),ne.bind(void 0,1,0,1,1,0),ne.bind(void 0,1,0,1,1,1),ne.bind(void 0,1,0,1,1,2),ne.bind(void 0,1,0,1,1,3),ne.bind(void 0,1,1,0,0,0),ne.bind(void 0,1,1,0,0,1),ne.bind(void 0,1,1,0,0,2),ne.bind(void 0,1,1,0,0,3),ne.bind(void 0,1,1,0,1,0),ne.bind(void 0,1,1,0,1,1),ne.bind(void 0,1,1,0,1,2),ne.bind(void 0,1,1,0,1,3),ne.bind(void 0,1,1,1,0,0),ne.bind(void 0,1,1,1,0,1),ne.bind(void 0,1,1,1,0,2),ne.bind(void 0,1,1,1,0,3),ne.bind(void 0,1,1,1,1,0),ne.bind(void 0,1,1,1,1,1),ne.bind(void 0,1,1,1,1,2),ne.bind(void 0,1,1,1,1,3)];function Zn(e){this.char=e,this.state={},this.activeState=null}function w1(e,t,r){this.contextName=r,this.startIndex=e,this.endOffset=t}function hb(e,t,r){this.contextName=e,this.openRange=null,this.ranges=[],this.checkStart=t,this.checkEnd=r}function rr(e,t){this.context=e,this.index=t,this.length=e.length,this.current=e[t],this.backtrack=e.slice(0,t),this.lookahead=e.slice(t+1)}function Ci(e){this.eventId=e,this.subscribers=[]}function db(e){var t=this,r=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];r.forEach(function(s){Object.defineProperty(t.events,s,{value:new Ci(s)})}),e&&r.forEach(function(s){var o=e[s];typeof o=="function"&&t.events[s].subscribe(o)});var n=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];n.forEach(function(s){t.events[s].subscribe(t.updateContextsRanges)})}function ft(e){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],db.call(this,e)}Zn.prototype.setState=function(e,t){return this.state[e]=t,this.activeState={key:e,value:this.state[e]},this.activeState};Zn.prototype.getState=function(e){return this.state[e]||null};ft.prototype.inboundIndex=function(e){return e>=0&&e<this.tokens.length};ft.prototype.composeRUD=function(e){var t=this,r=!0,n=e.map(function(o){return t[o[0]].apply(t,o.slice(1).concat(r))}),s=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(n.every(s))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:n.filter(s)};this.dispatch("composeRUD",[n.filter(function(o){return!s(o)})])};ft.prototype.replaceRange=function(e,t,r,n){t=t!==null?t:this.tokens.length;var s=r.every(function(c){return c instanceof Zn});if(!isNaN(e)&&this.inboundIndex(e)&&s){var o=this.tokens.splice.apply(this.tokens,[e,t].concat(r));return n||this.dispatch("replaceToken",[e,t,r]),[o,r]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ft.prototype.replaceToken=function(e,t,r){if(!isNaN(e)&&this.inboundIndex(e)&&t instanceof Zn){var n=this.tokens.splice(e,1,t);return r||this.dispatch("replaceToken",[e,t]),[n[0],t]}else return{FAIL:"replaceToken: invalid token or index."}};ft.prototype.removeRange=function(e,t,r){t=isNaN(t)?this.tokens.length:t;var n=this.tokens.splice(e,t);return r||this.dispatch("removeRange",[n,e,t]),n};ft.prototype.removeToken=function(e,t){if(!isNaN(e)&&this.inboundIndex(e)){var r=this.tokens.splice(e,1);return t||this.dispatch("removeToken",[r,e]),r}else return{FAIL:"removeToken: invalid token index."}};ft.prototype.insertToken=function(e,t,r){var n=e.every(function(s){return s instanceof Zn});return n?(this.tokens.splice.apply(this.tokens,[t,0].concat(e)),r||this.dispatch("insertToken",[e,t]),e):{FAIL:"insertToken: invalid token(s)."}};ft.prototype.registerModifier=function(e,t,r){this.events.newToken.subscribe(function(n,s){var o=[n,s],c=t===null||t.apply(this,o)===!0,l=[n,s];if(c){var f=r.apply(this,l);n.setState(e,f)}}),this.registeredModifiers.push(e)};Ci.prototype.subscribe=function(e){return typeof e=="function"?this.subscribers.push(e)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Ci.prototype.unsubscribe=function(e){this.subscribers.splice(e,1)};rr.prototype.setCurrentIndex=function(e){this.index=e,this.current=this.context[e],this.backtrack=this.context.slice(0,e),this.lookahead=this.context.slice(e+1)};rr.prototype.get=function(e){switch(!0){case e===0:return this.current;case(e<0&&Math.abs(e)<=this.backtrack.length):return this.backtrack.slice(e)[0];case(e>0&&e<=this.lookahead.length):return this.lookahead[e-1];default:return null}};ft.prototype.rangeToText=function(e){if(e instanceof w1)return this.getRangeTokens(e).map(function(t){return t.char}).join("")};ft.prototype.getText=function(){return this.tokens.map(function(e){return e.char}).join("")};ft.prototype.getContext=function(e){var t=this.registeredContexts[e];return t||null};ft.prototype.on=function(e,t){var r=this.events[e];return r?r.subscribe(t):null};ft.prototype.dispatch=function(e,t){var r=this,n=this.events[e];n instanceof Ci&&n.subscribers.forEach(function(s){s.apply(r,t||[])})};ft.prototype.registerContextChecker=function(e,t,r){if(this.getContext(e))return{FAIL:"context name '"+e+"' is already registered."};if(typeof t!="function")return{FAIL:"missing context start check."};if(typeof r!="function")return{FAIL:"missing context end check."};var n=new hb(e,t,r);return this.registeredContexts[e]=n,this.contextCheckers.push(n),n};ft.prototype.getRangeTokens=function(e){var t=e.startIndex+e.endOffset;return[].concat(this.tokens.slice(e.startIndex,t))};ft.prototype.getContextRanges=function(e){var t=this.getContext(e);return t?t.ranges:{FAIL:"context checker '"+e+"' is not registered."}};ft.prototype.resetContextsRanges=function(){var e=this.registeredContexts;for(var t in e)if(e.hasOwnProperty(t)){var r=e[t];r.ranges=[]}};ft.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var e=this.tokens.map(function(n){return n.char}),t=0;t<e.length;t++){var r=new rr(e,t);this.runContextCheck(r)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ft.prototype.setEndOffset=function(e,t){var r=this.getContext(t).openRange.startIndex,n=new w1(r,e,t),s=this.getContext(t).ranges;return n.rangeId=t+"."+s.length,s.push(n),this.getContext(t).openRange=null,n};ft.prototype.runContextCheck=function(e){var t=this,r=e.index;this.contextCheckers.forEach(function(n){var s=n.contextName,o=t.getContext(s).openRange;if(!o&&n.checkStart(e)&&(o=new w1(r,null,s),t.getContext(s).openRange=o,t.dispatch("contextStart",[s,r])),o&&n.checkEnd(e)){var c=r-o.startIndex+1,l=t.setEndOffset(c,s);t.dispatch("contextEnd",[s,l])}})};ft.prototype.tokenize=function(e){this.tokens=[],this.resetContextsRanges();var t=Array.from(e);this.dispatch("start");for(var r=0;r<t.length;r++){var n=t[r],s=new rr(t,r);this.dispatch("next",[s]),this.runContextCheck(s);var o=new Zn(n);this.tokens.push(o),this.dispatch("newToken",[o,s])}return this.dispatch("end",[this.tokens]),this.tokens};function Qr(e){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(e)}function Af(e){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(e)}function Jr(e){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(e)}function Vo(e){return/[A-z]/.test(e)}function vb(e){return/\s/.test(e)}function qt(e){this.font=e,this.features={}}function cn(e){this.id=e.id,this.tag=e.tag,this.substitution=e.substitution}function ho(e,t){if(!e)return-1;switch(t.format){case 1:return t.glyphs.indexOf(e);case 2:for(var r=t.ranges,n=0;n<r.length;n++){var s=r[n];if(e>=s.start&&e<=s.end){var o=e-s.start;return s.index+o}}break;default:return-1}return-1}function gb(e,t){var r=ho(e,t.coverage);return r===-1?null:e+t.deltaGlyphId}function mb(e,t){var r=ho(e,t.coverage);return r===-1?null:t.substitute[r]}function pa(e,t){for(var r=[],n=0;n<e.length;n++){var s=e[n],o=t.current;o=Array.isArray(o)?o[0]:o;var c=ho(o,s);c!==-1&&r.push(c)}return r.length!==e.length?-1:r}function yb(e,t){var r=t.inputCoverage.length+t.lookaheadCoverage.length+t.backtrackCoverage.length;if(e.context.length<r)return[];var n=pa(t.inputCoverage,e);if(n===-1)return[];var s=t.inputCoverage.length-1;if(e.lookahead.length<t.lookaheadCoverage.length)return[];for(var o=e.lookahead.slice(s);o.length&&Jr(o[0].char);)o.shift();var c=new rr(o,0),l=pa(t.lookaheadCoverage,c),f=[].concat(e.backtrack);for(f.reverse();f.length&&Jr(f[0].char);)f.shift();if(f.length<t.backtrackCoverage.length)return[];var v=new rr(f,0),g=pa(t.backtrackCoverage,v),_=n.length===t.inputCoverage.length&&l.length===t.lookaheadCoverage.length&&g.length===t.backtrackCoverage.length,w=[];if(_)for(var T=0;T<t.lookupRecords.length;T++)for(var P=t.lookupRecords[T],R=P.lookupListIndex,O=this.getLookupByIndex(R),F=0;F<O.subtables.length;F++){var L=O.subtables[F],I=this.getLookupMethod(O,L),X=this.getSubstitutionType(O,L);if(X==="12")for(var te=0;te<n.length;te++){var ue=e.get(te),ae=I(ue);ae&&w.push(ae)}}return w}function wb(e,t){var r=e.current,n=ho(r,t.coverage);if(n===-1)return null;for(var s,o=t.ligatureSets[n],c=0;c<o.length;c++){s=o[c];for(var l=0;l<s.components.length;l++){var f=e.lookahead[l],v=s.components[l];if(f!==v)break;if(l===s.components.length-1)return s}}return null}function _b(e,t){var r=ho(e,t.coverage);return r===-1?null:t.sequences[r]}qt.prototype.getDefaultScriptFeaturesIndexes=function(){for(var e=this.font.tables.gsub.scripts,t=0;t<e.length;t++){var r=e[t];if(r.tag==="DFLT")return r.script.defaultLangSys.featureIndexes}return[]};qt.prototype.getScriptFeaturesIndexes=function(e){var t=this.font.tables;if(!t.gsub)return[];if(!e)return this.getDefaultScriptFeaturesIndexes();for(var r=this.font.tables.gsub.scripts,n=0;n<r.length;n++){var s=r[n];if(s.tag===e&&s.script.defaultLangSys)return s.script.defaultLangSys.featureIndexes;var o=s.langSysRecords;if(o)for(var c=0;c<o.length;c++){var l=o[c];if(l.tag===e){var f=l.langSys;return f.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};qt.prototype.mapTagsToFeatures=function(e,t){for(var r={},n=0;n<e.length;n++){var s=e[n].tag,o=e[n].feature;r[s]=o}this.features[t].tags=r};qt.prototype.getScriptFeatures=function(e){var t=this.features[e];if(this.features.hasOwnProperty(e))return t;var r=this.getScriptFeaturesIndexes(e);if(!r)return null;var n=this.font.tables.gsub;return t=r.map(function(s){return n.features[s]}),this.features[e]=t,this.mapTagsToFeatures(t,e),t};qt.prototype.getSubstitutionType=function(e,t){var r=e.lookupType.toString(),n=t.substFormat.toString();return r+n};qt.prototype.getLookupMethod=function(e,t){var r=this,n=this.getSubstitutionType(e,t);switch(n){case"11":return function(s){return gb.apply(r,[s,t])};case"12":return function(s){return mb.apply(r,[s,t])};case"63":return function(s){return yb.apply(r,[s,t])};case"41":return function(s){return wb.apply(r,[s,t])};case"21":return function(s){return _b.apply(r,[s,t])};default:throw new Error("lookupType: "+e.lookupType+" - substFormat: "+t.substFormat+" is not yet supported")}};qt.prototype.lookupFeature=function(e){var t=e.contextParams,r=t.index,n=this.getFeature({tag:e.tag,script:e.script});if(!n)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+e.tag+"' for script '"+e.script+"'.");for(var s=this.getFeatureLookups(n),o=[].concat(t.context),c=0;c<s.length;c++)for(var l=s[c],f=this.getLookupSubtables(l),v=0;v<f.length;v++){var g=f[v],_=this.getSubstitutionType(l,g),w=this.getLookupMethod(l,g),T=void 0;switch(_){case"11":T=w(t.current),T&&o.splice(r,1,new cn({id:11,tag:e.tag,substitution:T}));break;case"12":T=w(t.current),T&&o.splice(r,1,new cn({id:12,tag:e.tag,substitution:T}));break;case"63":T=w(t),Array.isArray(T)&&T.length&&o.splice(r,1,new cn({id:63,tag:e.tag,substitution:T}));break;case"41":T=w(t),T&&o.splice(r,1,new cn({id:41,tag:e.tag,substitution:T}));break;case"21":T=w(t.current),T&&o.splice(r,1,new cn({id:21,tag:e.tag,substitution:T}));break}t=new rr(o,r),!(Array.isArray(T)&&!T.length)&&(T=null)}return o.length?o:null};qt.prototype.supports=function(e){if(!e.script)return!1;this.getScriptFeatures(e.script);var t=this.features.hasOwnProperty(e.script);if(!e.tag)return t;var r=this.features[e.script].some(function(n){return n.tag===e.tag});return t&&r};qt.prototype.getLookupSubtables=function(e){return e.subtables||null};qt.prototype.getLookupByIndex=function(e){var t=this.font.tables.gsub.lookups;return t[e]||null};qt.prototype.getFeatureLookups=function(e){return e.lookupListIndexes.map(this.getLookupByIndex.bind(this))};qt.prototype.getFeature=function(t){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(t.script)||this.getScriptFeatures(t.script);var r=this.features[t.script];return r?r.tags[t.tag]?this.features[t.script].tags[t.tag]:null:{FAIL:"No feature for script "+t.script}};function bb(e){var t=e.current,r=e.get(-1);return r===null&&Qr(t)||!Qr(r)&&Qr(t)}function Sb(e){var t=e.get(1);return t===null||!Qr(t)}var Eb={startCheck:bb,endCheck:Sb};function Tb(e){var t=e.current,r=e.get(-1);return(Qr(t)||Jr(t))&&!Qr(r)}function kb(e){var t=e.get(1);switch(!0){case t===null:return!0;case(!Qr(t)&&!Jr(t)):var r=vb(t);if(!r)return!0;if(r){var n=!1;if(n=e.lookahead.some(function(s){return Qr(s)||Jr(s)}),!n)return!0}break;default:return!1}}var xb={startCheck:Tb,endCheck:kb};function Pb(e,t,r){t[r].setState(e.tag,e.substitution)}function Ab(e,t,r){t[r].setState(e.tag,e.substitution)}function Cb(e,t,r){e.substitution.forEach(function(n,s){var o=t[r+s];o.setState(e.tag,n)})}function Rb(e,t,r){var n=t[r];n.setState(e.tag,e.substitution.ligGlyph);for(var s=e.substitution.components.length,o=0;o<s;o++)n=t[r+o+1],n.setState("deleted",!0)}var gc={11:Pb,12:Ab,63:Cb,41:Rb};function _1(e,t,r){e instanceof cn&&gc[e.id]&&gc[e.id](e,t,r)}function Ob(e){for(var t=[].concat(e.backtrack),r=t.length-1;r>=0;r--){var n=t[r],s=Af(n),o=Jr(n);if(!s&&!o)return!0;if(s)return!1}return!1}function Db(e){if(Af(e.current))return!1;for(var t=0;t<e.lookahead.length;t++){var r=e.lookahead[t],n=Jr(r);if(!n)return!0}return!1}function Ib(e){var t=this,r="arab",n=this.featuresTags[r],s=this.tokenizer.getRangeTokens(e);if(s.length!==1){var o=new rr(s.map(function(l){return l.getState("glyphIndex")}),0),c=new rr(s.map(function(l){return l.char}),0);s.forEach(function(l,f){if(!Jr(l.char)){o.setCurrentIndex(f),c.setCurrentIndex(f);var v=0;Ob(c)&&(v|=1),Db(c)&&(v|=2);var g;switch(v){case 1:g="fina";break;case 2:g="init";break;case 3:g="medi";break}if(n.indexOf(g)!==-1){var _=t.query.lookupFeature({tag:g,script:r,contextParams:o});if(_ instanceof Error)return console.info(_.message);_.forEach(function(w,T){w instanceof cn&&(_1(w,s,T),o.context[T]=w.substitution)})}}})}}function mc(e,t){var r=e.map(function(n){return n.activeState.value});return new rr(r,0)}function Lb(e){var t=this,r="arab",n=this.tokenizer.getRangeTokens(e),s=mc(n);s.context.forEach(function(o,c){s.setCurrentIndex(c);var l=t.query.lookupFeature({tag:"rlig",script:r,contextParams:s});l.length&&(l.forEach(function(f){return _1(f,n,c)}),s=mc(n))})}function Fb(e){var t=e.current,r=e.get(-1);return r===null&&Vo(t)||!Vo(r)&&Vo(t)}function Mb(e){var t=e.get(1);return t===null||!Vo(t)}var Bb={startCheck:Fb,endCheck:Mb};function yc(e,t){var r=e.map(function(n){return n.activeState.value});return new rr(r,0)}function Ub(e){var t=this,r="latn",n=this.tokenizer.getRangeTokens(e),s=yc(n);s.context.forEach(function(o,c){s.setCurrentIndex(c);var l=t.query.lookupFeature({tag:"liga",script:r,contextParams:s});l.length&&(l.forEach(function(f){return _1(f,n,c)}),s=yc(n))})}function ir(e){this.baseDir=e||"ltr",this.tokenizer=new ft,this.featuresTags={}}ir.prototype.setText=function(e){this.text=e};ir.prototype.contextChecks={latinWordCheck:Bb,arabicWordCheck:Eb,arabicSentenceCheck:xb};function ha(e){var t=this.contextChecks[e+"Check"];return this.tokenizer.registerContextChecker(e,t.startCheck,t.endCheck)}function Nb(){return ha.call(this,"latinWord"),ha.call(this,"arabicWord"),ha.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function Gb(){var e=this,t=this.tokenizer.getContextRanges("arabicSentence");t.forEach(function(r){var n=e.tokenizer.getRangeTokens(r);e.tokenizer.replaceRange(r.startIndex,r.endOffset,n.reverse())})}ir.prototype.registerFeatures=function(e,t){var r=this,n=t.filter(function(s){return r.query.supports({script:e,tag:s})});this.featuresTags.hasOwnProperty(e)?this.featuresTags[e]=this.featuresTags[e].concat(n):this.featuresTags[e]=n};ir.prototype.applyFeatures=function(e,t){if(!e)throw new Error("No valid font was provided to apply features");this.query||(this.query=new qt(e));for(var r=0;r<t.length;r++){var n=t[r];this.query.supports({script:n.script})&&this.registerFeatures(n.script,n.tags)}};ir.prototype.registerModifier=function(e,t,r){this.tokenizer.registerModifier(e,t,r)};function b1(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function Hb(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){b1.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(n){Ib.call(e,n)})}}function Wb(){var e=this,t="arab";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("rlig")!==-1){b1.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(s){Lb.call(e,s)})}}}function Vb(){var e=this,t="latn";if(this.featuresTags.hasOwnProperty(t)){var r=this.featuresTags[t];if(r.indexOf("liga")!==-1){b1.call(this);var n=this.tokenizer.getContextRanges("latinWord");n.forEach(function(s){Ub.call(e,s)})}}}ir.prototype.checkContextReady=function(e){return!!this.tokenizer.getContext(e)};ir.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(Hb.call(this),Wb.call(this)),this.checkContextReady("latinWord")&&Vb.call(this),this.checkContextReady("arabicSentence")&&Gb.call(this)};ir.prototype.processText=function(e){(!this.text||this.text!==e)&&(this.setText(e),Nb.call(this),this.applyFeaturesToContexts())};ir.prototype.getBidiText=function(e){return this.processText(e),this.tokenizer.getText()};ir.prototype.getTextGlyphs=function(e){this.processText(e);for(var t=[],r=0;r<this.tokenizer.tokens.length;r++){var n=this.tokenizer.tokens[r];if(!n.state.deleted){var s=n.activeState.value;t.push(Array.isArray(s)?s[0]:s)}}return t};function Qe(e){e=e||{},e.tables=e.tables||{},e.empty||(Os(e.familyName,"When creating a new Font object, familyName is required."),Os(e.styleName,"When creating a new Font object, styleName is required."),Os(e.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Os(e.ascender,"When creating a new Font object, ascender is required."),Os(e.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:e.familyName||" "},fontSubfamily:{en:e.styleName||" "},fullName:{en:e.fullName||e.familyName+" "+e.styleName},postScriptName:{en:e.postScriptName||(e.familyName+e.styleName).replace(/\s/g,"")},designer:{en:e.designer||" "},designerURL:{en:e.designerURL||" "},manufacturer:{en:e.manufacturer||" "},manufacturerURL:{en:e.manufacturerURL||" "},license:{en:e.license||" "},licenseURL:{en:e.licenseURL||" "},version:{en:e.version||"Version 0.1"},description:{en:e.description||" "},copyright:{en:e.copyright||" "},trademark:{en:e.trademark||" "}},this.unitsPerEm=e.unitsPerEm||1e3,this.ascender=e.ascender,this.descender=e.descender,this.createdTimestamp=e.createdTimestamp,this.tables=Object.assign(e.tables,{os2:Object.assign({usWeightClass:e.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:e.widthClass||this.usWidthClasses.MEDIUM,fsSelection:e.fsSelection||this.fsSelectionValues.REGULAR},e.tables.os2)})),this.supported=!0,this.glyphs=new hr.GlyphSet(this,e.glyphs||[]),this.encoding=new sf(this),this.position=new lo(this),this.substitution=new Vt(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new Tf(this)}})}Qe.prototype.hasChar=function(e){return this.encoding.charToGlyphIndex(e)!==null};Qe.prototype.charToGlyphIndex=function(e){return this.encoding.charToGlyphIndex(e)};Qe.prototype.charToGlyph=function(e){var t=this.charToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Qe.prototype.updateFeatures=function(e){return this.defaultRenderOptions.features.map(function(t){return t.script==="latn"?{script:"latn",tags:t.tags.filter(function(r){return e[r]})}:t})};Qe.prototype.stringToGlyphs=function(e,t){var r=this,n=new ir,s=function(_){return r.charToGlyphIndex(_.char)};n.registerModifier("glyphIndex",null,s);var o=t?this.updateFeatures(t.features):this.defaultRenderOptions.features;n.applyFeatures(this,o);for(var c=n.getTextGlyphs(e),l=c.length,f=new Array(l),v=this.glyphs.get(0),g=0;g<l;g+=1)f[g]=this.glyphs.get(c[g])||v;return f};Qe.prototype.nameToGlyphIndex=function(e){return this.glyphNames.nameToGlyphIndex(e)};Qe.prototype.nameToGlyph=function(e){var t=this.nameToGlyphIndex(e),r=this.glyphs.get(t);return r||(r=this.glyphs.get(0)),r};Qe.prototype.glyphIndexToName=function(e){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(e):""};Qe.prototype.getKerningValue=function(e,t){e=e.index||e,t=t.index||t;var r=this.position.defaultKerningTables;return r?this.position.getKerningValue(r,e,t):this.kerningPairs[e+","+t]||0};Qe.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};Qe.prototype.forEachGlyph=function(e,t,r,n,s,o){t=t!==void 0?t:0,r=r!==void 0?r:0,n=n!==void 0?n:72,s=Object.assign({},this.defaultRenderOptions,s);var c=1/this.unitsPerEm*n,l=this.stringToGlyphs(e,s),f;if(s.kerning){var v=s.script||this.position.getDefaultScriptName();f=this.position.getKerningTables(v,s.language)}for(var g=0;g<l.length;g+=1){var _=l[g];if(o.call(this,_,t,r,n,s),_.advanceWidth&&(t+=_.advanceWidth*c),s.kerning&&g<l.length-1){var w=f?this.position.getKerningValue(f,_.index,l[g+1].index):this.getKerningValue(_,l[g+1]);t+=w*c}s.letterSpacing?t+=s.letterSpacing*n:s.tracking&&(t+=s.tracking/1e3*n)}return t};Qe.prototype.getPath=function(e,t,r,n,s){var o=new bt;return this.forEachGlyph(e,t,r,n,s,function(c,l,f,v){var g=c.getPath(l,f,v,s,this);o.extend(g)}),o};Qe.prototype.getPaths=function(e,t,r,n,s){var o=[];return this.forEachGlyph(e,t,r,n,s,function(c,l,f,v){var g=c.getPath(l,f,v,s,this);o.push(g)}),o};Qe.prototype.getAdvanceWidth=function(e,t,r){return this.forEachGlyph(e,0,0,t,r,function(){})};Qe.prototype.draw=function(e,t,r,n,s,o){this.getPath(t,r,n,s,o).draw(e)};Qe.prototype.drawPoints=function(e,t,r,n,s,o){this.forEachGlyph(t,r,n,s,o,function(c,l,f,v){c.drawPoints(e,l,f,v)})};Qe.prototype.drawMetrics=function(e,t,r,n,s,o){this.forEachGlyph(t,r,n,s,o,function(c,l,f,v){c.drawMetrics(e,l,f,v)})};Qe.prototype.getEnglishName=function(e){var t=this.names[e];if(t)return t.en};Qe.prototype.validate=function(){var e=this;function t(n,s){}function r(n){var s=e.getEnglishName(n);s&&s.trim().length>0}r("fontFamily"),r("weightName"),r("manufacturer"),r("copyright"),r("version"),this.unitsPerEm>0};Qe.prototype.toTables=function(){return Cw.fontToTable(this)};Qe.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};Qe.prototype.toArrayBuffer=function(){for(var e=this.toTables(),t=e.encode(),r=new ArrayBuffer(t.length),n=new Uint8Array(r),s=0;s<t.length;s++)n[s]=t[s];return r};Qe.prototype.download=function(e){var t=this.getEnglishName("fontFamily"),r=this.getEnglishName("fontSubfamily");e=e||t.replace(/\s/g,"")+"-"+r+".otf";var n=this.toArrayBuffer();if(Ow())if(window.URL=window.URL||window.webkitURL,window.URL){var s=new DataView(n),o=new Blob([s],{type:"font/opentype"}),c=document.createElement("a");c.href=window.URL.createObjectURL(o),c.download=e;var l=document.createEvent("MouseEvents");l.initEvent("click",!0,!1),c.dispatchEvent(l)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var f=require("fs"),v=Dw(n);f.writeFileSync(e,v)}};Qe.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};Qe.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};Qe.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Or=new Array(10);Or[1]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();if(r===1)return{posFormat:1,coverage:this.parsePointer(M.coverage),value:this.parseValueRecord()};if(r===2)return{posFormat:2,coverage:this.parsePointer(M.coverage),values:this.parseValueRecordList()};Se.assert(!1,"0x"+t.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};Or[2]=function(){var t=this.offset+this.relativeOffset,r=this.parseUShort();Se.assert(r===1||r===2,"0x"+t.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var n=this.parsePointer(M.coverage),s=this.parseUShort(),o=this.parseUShort();if(r===1)return{posFormat:r,coverage:n,valueFormat1:s,valueFormat2:o,pairSets:this.parseList(M.pointer(M.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(s),value2:this.parseValueRecord(o)}})))};if(r===2){var c=this.parsePointer(M.classDef),l=this.parsePointer(M.classDef),f=this.parseUShort(),v=this.parseUShort();return{posFormat:r,coverage:n,valueFormat1:s,valueFormat2:o,classDef1:c,classDef2:l,class1Count:f,class2Count:v,classRecords:this.parseList(f,M.list(v,function(){return{value1:this.parseValueRecord(s),value2:this.parseValueRecord(o)}}))}}};Or[3]=function(){return{error:"GPOS Lookup 3 not supported"}};Or[4]=function(){return{error:"GPOS Lookup 4 not supported"}};Or[5]=function(){return{error:"GPOS Lookup 5 not supported"}};Or[6]=function(){return{error:"GPOS Lookup 6 not supported"}};Or[7]=function(){return{error:"GPOS Lookup 7 not supported"}};Or[8]=function(){return{error:"GPOS Lookup 8 not supported"}};Or[9]=function(){return{error:"GPOS Lookup 9 not supported"}};new Array(10);const fn=1e-8,Ln=(e,t)=>Ot(e,t,fn*10),qb=(e,t,r,n)=>{const s=vt([[vt([[e[0],e[1]],[t[0],t[1]]]),vt([[e[0],1],[t[0],1]])],[vt([[r[0],r[1]],[n[0],n[1]]]),vt([[r[0],1],[n[0],1]])]])/vt([[vt([[e[0],1],[t[0],1]]),vt([[e[1],1],[t[1],1]])],[vt([[r[0],1],[n[0],1]]),vt([[r[1],1],[n[1],1]])]]),o=vt([[vt([[e[0],e[1]],[t[0],t[1]]]),vt([[e[1],1],[t[1],1]])],[vt([[r[0],r[1]],[n[0],n[1]]]),vt([[r[1],1],[n[1],1]])]])/vt([[vt([[e[0],1],[t[0],1]]),vt([[e[1],1],[t[1],1]])],[vt([[r[0],1],[n[0],1]]),vt([[r[1],1],[n[1],1]])]]);return[s,o]};function jb(e,t,r,n,s){const o=Cl(t,r,n.original.lastPoint);e(n),e(o)}function zb(e,t,r,n,s){const o=Kr(t,r);e(n),e(o)}function Xb(e,t,r,n,s){const o=n.offset instanceof Ye?Ei(t,n.offset.tangentAt(1)):n.offset.firstPoint,c=s.offset instanceof Ye?vn(r,s.offset.tangentAt(0)):s.offset.lastPoint,l=qb(o,t,r,c),f=Kr(t,l),v=Kr(l,r);e(n),e(f),e(v)}const Yb={round:jb,bevel:zb,miter:Xb};function Zb(e,t,r={}){const n=e.orientation==="clockwise"?-t:t,s=e.curves.map(g=>({offset:zs(g,n),original:g})),o=[];let c=null,l=s.at(-1);if(!l)return[];if(o.length===1)return o;function f(g){if(g instanceof Ye){o.push(g);return}c?g.offset instanceof Ye?o.push(g.offset):Ln(g.offset.firstPoint,g.offset.lastPoint)||o.push(Kr(g.offset.firstPoint,g.offset.lastPoint)):c=g}const v=function*(){for(const g of s.slice(0,-1))yield g;if(!c)throw new Error("Bug in the offset algorithm");yield c};for(const g of v()){const _=l.offset.lastPoint,w=g.offset.firstPoint;if(Ln(_,w)){f(l),l=g;continue}let T=[];if(l.offset instanceof Ye&&g.offset instanceof Ye){const{intersections:R,commonSegmentsPoints:O}=$r(l.offset,g.offset,fn/100);T=[...R,...O]}if(T.length>0){let R=T[0];if(T.length>1){const L=l?.original.lastPoint,I=T.map(X=>Ym(X,L));R=T[I.indexOf(Math.min(...I))]}const O=l.offset.splitAt([R],fn)[0],F=g.offset.splitAt([R],fn).at(-1);if(!F)throw new Error("Bug in the splitting algo in offset");f({offset:O,original:l.original}),l={offset:F,original:g.original};continue}const P=Yb[r.lineJoinType??"round"];P(f,_,w,l,g),l=g}return f(l),o}function $b(e,t,r={}){const n=Zb(e,t,r);if(n.length<2)return null;const s=new Map,o=(g,_)=>{const w=s.get(g)||[];s.set(g,[...w,..._])};if(n.forEach((g,_)=>{n.slice(_+1).forEach((w,T)=>{const{intersections:P,commonSegmentsPoints:R}=$r(g,w,fn),O=[...P,...R].filter(F=>{const L=Ln(F,g.firstPoint)||Ln(F,g.lastPoint),I=Ln(F,w.firstPoint)||Ln(F,w.lastPoint);return!(L&&I)});O.length&&(o(_,O),o(T+_+1,O))})}),!s.size){const g=new xe(n);return e.intersects(g)?null:g}const l=n.flatMap((g,_)=>{if(!s.has(_))return g;const w=s.get(_)||[];return g.splitAt(w,fn*100)}).filter(g=>!e.curves.find(w=>w.distanceFrom(g)<Math.abs(t)-fn));if(!l.length)return null;const v=l0(l).filter(g=>g.length>1).map(g=>new xe(g)).filter(g=>g.isClosed());return v.length?v.length===1?v[0]:new _e(v):null}const wc=e=>{let t=e[0];for(let r=1;r<e.length;r++)t=xr(t,e[r]);return t};function qo(e,t,r={}){if(e instanceof xe)return $b(e,t,r);if(e instanceof _e)return wc(e.blueprints.map(n=>qo(n,t,r)));if(e instanceof We){const n=wc(e.blueprints.slice(1).map(s=>qo(s,t,r)));return jr(qo(e.blueprints[0],t,r),n)}return null}function _c(e,t,r,n){let s=()=>!0;n&&(s=n.shouldKeep.bind(n));const o=[t.curves[0]],c=(f,v)=>{s({firstCurve:f,secondCurve:v,point:f.lastPoint})?o.push(...e(f,v,r)):o.push(f,v)};t.curves.slice(1).forEach(f=>{const v=o.pop();if(!v)throw new Error("Bug in the blueprint filletting algo");c(v,f)});const l=o.at(-1);if(!l)throw new Error("Bug in the blueprint corner algo");if(Ot(o[0].firstPoint,l.lastPoint)&&o.length>1){const f=o.pop(),v=o.shift();if(!f||!v)throw new Error("Bug in the blueprint filletting algo");c(f,v)}return new xe(o)}function S1(e,t,r,n){if(t instanceof xe)return _c(e,t,r,n);if(t instanceof We)return new We(t.blueprints.map(s=>_c(e,s,r,n)));if(t instanceof _e){const s=t.blueprints.map(o=>S1(e,o,r,n)).filter(o=>o!==null);return new _e(s)}return null}function Qb(e,t,r){return S1(Ol,e,t,r)}function Kb(e,t,r){return S1(Dl,e,t,r)}function Ba(e,t){return e instanceof xe?new xe(Ko(e.curves,t)):e instanceof We?new We(e.blueprints.map(r=>Ba(r,t))):e instanceof _e?new _e(e.blueprints.map(r=>Ba(r,t))):e}class gt{constructor(t=null){this.innerShape=t}clone(){var t;return new gt(((t=this.innerShape)==null?void 0:t.clone())||null)}serialize(){function t(r){if(r instanceof We)return{type:"CompoundBlueprint",blueprints:r.blueprints.map(t)};if(r instanceof _e)return{type:"Blueprints",blueprints:r.blueprints.map(t)};if(r instanceof xe)return{type:"Blueprint",curves:r.curves.map(n=>n.serialize())};throw new Error("Unknown shape type for serialization")}return JSON.stringify(t(this.innerShape))}get boundingBox(){return this.innerShape?this.innerShape.boundingBox:new oo}stretch(t,r,n){return this.innerShape?new gt(this.innerShape.stretch(t,r,n)):new gt}get repr(){return this.innerShape===null?"=== empty shape":this.innerShape.repr}rotate(t,r){return this.innerShape?new gt(this.innerShape.rotate(t,r)):new gt}translate(t,r=0){return this.innerShape?new gt(this.innerShape.translate(t,r)):new gt}scale(t,r){return this.innerShape?new gt(this.innerShape.scale(t,r)):new gt}mirror(t,r,n){return this.innerShape?new gt(this.innerShape.mirror(t,r,n)):new gt}cut(t){return new gt(jr(this.innerShape,t.innerShape))}fuse(t){return new gt(xr(this.innerShape,t.innerShape))}intersect(t){return new gt(Ms(this.innerShape,t.innerShape))}fillet(t,r){const n=r&&r(new ri);return new gt(Qb(this.innerShape,t,n))}chamfer(t,r){const n=r&&r(new ri);return new gt(Kb(this.innerShape,t,n))}sketchOnPlane(t,r){if(!this.innerShape)throw new Error("Trying to sketch an empty drawing");return this.innerShape.sketchOnPlane(t,r)}sketchOnFace(t,r){if(!this.innerShape)throw new Error("Trying to sketch an empty drawing");return this.innerShape.sketchOnFace(t,r)}punchHole(t,r,n={}){return this.innerShape?this.innerShape.punchHole(t,r,n):t}toSVG(t){var r;return((r=this.innerShape)==null?void 0:r.toSVG(t))||""}toSVGViewBox(t=1){var r;return((r=this.innerShape)==null?void 0:r.toSVGViewBox(t))||""}toSVGPaths(){var t;return((t=this.innerShape)==null?void 0:t.toSVGPaths())||[]}offset(t,r={}){return new gt(qo(this.innerShape,t,r))}approximate(t,r={}){if(t!=="svg")throw new Error("Only 'svg' is supported for now");return new gt(Ba(this.innerShape,r))}get blueprint(){if(!(this.innerShape instanceof xe)){if(this.innerShape instanceof _e&&this.innerShape.blueprints.length===1&&this.innerShape.blueprints[0]instanceof xe)return this.innerShape.blueprints[0];throw new Error("This drawing is not a blueprint")}return this.innerShape}}class Jb extends F0{constructor(t=[0,0]){super(),this.pointer=t,this.firstPoint=t,this.pendingCurves=[]}done(){return new gt(new xe(this.pendingCurves))}close(){return this._closeSketch(),this.done()}closeWithMirror(){return this._closeWithMirror(),this.close()}closeWithCustomCorner(t,r="fillet"){return this._closeSketch(),this._customCornerLastWithFirst(t,r),this.done()}}function pS(e){const t=new Jb;return e&&t.movePointerTo(e),t}var hS=(()=>{var e=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(e=e||__filename),(function(r){r=r||{};var r=typeof r<"u"?r:{},n,s;r.ready=new Promise(function(i,a){n=i,s=a});var o=Object.assign({},r),c="./this.program",l=(i,a)=>{throw a},f=typeof window=="object",v=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_="";function w(i){return r.locateFile?r.locateFile(i,_):_+i}var T,P,R,O,F,L;g?(v?_=require("path").dirname(_)+"/":_=__dirname+"/",L=()=>{F||(O=require("fs"),F=require("path"))},T=function(a,p){return L(),a=F.normalize(a),O.readFileSync(a,p?void 0:"utf8")},R=i=>{var a=T(i,!0);return a.buffer||(a=new Uint8Array(a)),a},P=(i,a,p)=>{L(),i=F.normalize(i),O.readFile(i,function(d,m){d?p(d):a(m.buffer)})},process.argv.length>1&&(c=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",function(i){if(!(i instanceof z1))throw i}),process.on("unhandledRejection",function(i){throw i}),l=(i,a)=>{throw process.exitCode=i,a},r.inspect=function(){return"[Emscripten Module object]"}):(f||v)&&(v?_=self.location.href:typeof document<"u"&&document.currentScript&&(_=document.currentScript.src),e&&(_=e),_.indexOf("blob:")!==0?_=_.substr(0,_.replace(/[?#].*/,"").lastIndexOf("/")+1):_="",T=i=>{var a=new XMLHttpRequest;return a.open("GET",i,!1),a.send(null),a.responseText},v&&(R=i=>{var a=new XMLHttpRequest;return a.open("GET",i,!1),a.responseType="arraybuffer",a.send(null),new Uint8Array(a.response)}),P=(i,a,p)=>{var d=new XMLHttpRequest;d.open("GET",i,!0),d.responseType="arraybuffer",d.onload=()=>{if(d.status==200||d.status==0&&d.response){a(d.response);return}p()},d.onerror=p,d.send(null)});var I=r.print||console.log.bind(console),X=r.printErr||console.warn.bind(console);Object.assign(r,o),o=null,r.arguments&&r.arguments,r.thisProgram&&(c=r.thisProgram),r.quit&&(l=r.quit);var te=4,ue;r.wasmBinary&&(ue=r.wasmBinary),r.noExitRuntime,typeof WebAssembly!="object"&&zt("no native wasm support detected");var ae,fe=!1;function Te(i,a){i||zt(a)}var De=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function Pe(i,a,p){for(var d=a+p,m=a;i[m]&&!(m>=d);)++m;if(m-a>16&&i.buffer&&De)return De.decode(i.subarray(a,m));for(var b="";a<m;){var E=i[a++];if(!(E&128)){b+=String.fromCharCode(E);continue}var k=i[a++]&63;if((E&224)==192){b+=String.fromCharCode((E&31)<<6|k);continue}var C=i[a++]&63;if((E&240)==224?E=(E&15)<<12|k<<6|C:E=(E&7)<<18|k<<12|C<<6|i[a++]&63,E<65536)b+=String.fromCharCode(E);else{var U=E-65536;b+=String.fromCharCode(55296|U>>10,56320|U&1023)}}return b}function Ie(i,a){return i?Pe(q,i,a):""}function Ke(i,a,p,d){if(!(d>0))return 0;for(var m=p,b=p+d-1,E=0;E<i.length;++E){var k=i.charCodeAt(E);if(k>=55296&&k<=57343){var C=i.charCodeAt(++E);k=65536+((k&1023)<<10)|C&1023}if(k<=127){if(p>=b)break;a[p++]=k}else if(k<=2047){if(p+1>=b)break;a[p++]=192|k>>6,a[p++]=128|k&63}else if(k<=65535){if(p+2>=b)break;a[p++]=224|k>>12,a[p++]=128|k>>6&63,a[p++]=128|k&63}else{if(p+3>=b)break;a[p++]=240|k>>18,a[p++]=128|k>>12&63,a[p++]=128|k>>6&63,a[p++]=128|k&63}}return a[p]=0,p-m}function Me(i,a,p){return Ke(i,q,a,p)}function He(i){for(var a=0,p=0;p<i.length;++p){var d=i.charCodeAt(p);d>=55296&&d<=57343&&(d=65536+((d&1023)<<10)|i.charCodeAt(++p)&1023),d<=127?++a:d<=2047?a+=2:d<=65535?a+=3:a+=4}return a}var Ve=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0;function Le(i,a){for(var p=i,d=p>>1,m=d+a/2;!(d>=m)&&le[d];)++d;if(p=d<<1,p-i>32&&Ve)return Ve.decode(q.subarray(i,p));for(var b="",E=0;!(E>=a/2);++E){var k=Q[i+E*2>>1];if(k==0)break;b+=String.fromCharCode(k)}return b}function ve(i,a,p){if(p===void 0&&(p=2147483647),p<2)return 0;p-=2;for(var d=a,m=p<i.length*2?p/2:i.length,b=0;b<m;++b){var E=i.charCodeAt(b);Q[a>>1]=E,a+=2}return Q[a>>1]=0,a-d}function Ze(i){return i.length*2}function Je(i,a){for(var p=0,d="";!(p>=a/4);){var m=B[i+p*4>>2];if(m==0)break;if(++p,m>=65536){var b=m-65536;d+=String.fromCharCode(55296|b>>10,56320|b&1023)}else d+=String.fromCharCode(m)}return d}function Ue(i,a,p){if(p===void 0&&(p=2147483647),p<4)return 0;for(var d=a,m=d+p-4,b=0;b<i.length;++b){var E=i.charCodeAt(b);if(E>=55296&&E<=57343){var k=i.charCodeAt(++b);E=65536+((E&1023)<<10)|k&1023}if(B[a>>2]=E,a+=4,a+4>m)break}return B[a>>2]=0,a-d}function qe(i){for(var a=0,p=0;p<i.length;++p){var d=i.charCodeAt(p);d>=55296&&d<=57343&&++p,a+=4}return a}function Ct(i){var a=He(i)+1,p=Sr(a);return p&&Ke(i,V,p,a),p}function jt(i,a){V.set(i,a)}function H(i,a,p){for(var d=0;d<i.length;++d)V[a++>>0]=i.charCodeAt(d);V[a>>0]=0}var W,V,q,Q,le,B,re,Ae,je;function pt(i){W=i,r.HEAP8=V=new Int8Array(i),r.HEAP16=Q=new Int16Array(i),r.HEAP32=B=new Int32Array(i),r.HEAPU8=q=new Uint8Array(i),r.HEAPU16=le=new Uint16Array(i),r.HEAPU32=re=new Uint32Array(i),r.HEAPF32=Ae=new Float32Array(i),r.HEAPF64=je=new Float64Array(i)}r.INITIAL_MEMORY;var At,et=[],wt=[],_t=[];function mr(){if(r.preRun)for(typeof r.preRun=="function"&&(r.preRun=[r.preRun]);r.preRun.length;)$n(r.preRun.shift());sn(et)}function Dr(){!r.noFSInit&&!y.init.initialized&&y.init(),y.ignorePermissions=!1,sn(wt)}function rn(){if(r.postRun)for(typeof r.postRun=="function"&&(r.postRun=[r.postRun]);r.postRun.length;)Kn(r.postRun.shift());sn(_t)}function $n(i){et.unshift(i)}function Qn(i){wt.unshift(i)}function Kn(i){_t.unshift(i)}var $t=0,yr=null;function vo(i){return i}function nn(i){$t++,r.monitorRunDependencies&&r.monitorRunDependencies($t)}function Ir(i){if($t--,r.monitorRunDependencies&&r.monitorRunDependencies($t),$t==0&&yr){var a=yr;yr=null,a()}}function zt(i){r.onAbort&&r.onAbort(i),i="Aborted("+i+")",X(i),fe=!0,i+=". Build with -sASSERTIONS for more info.";var a=new WebAssembly.RuntimeError(i);throw s(a),a}var Jn="data:application/octet-stream;base64,";function Sn(i){return i.startsWith(Jn)}function En(i){return i.startsWith("file://")}var St;St="replicad_single.wasm",Sn(St)||(St=w(St));function Tn(i){try{if(i==St&&ue)return new Uint8Array(ue);if(R)return R(i);throw"both async and sync fetching of the wasm failed"}catch(a){zt(a)}}function es(){if(!ue&&(f||v)){if(typeof fetch=="function"&&!En(St))return fetch(St,{credentials:"same-origin"}).then(function(i){if(!i.ok)throw"failed to load wasm binary file at '"+St+"'";return i.arrayBuffer()}).catch(function(){return Tn(St)});if(P)return new Promise(function(i,a){P(St,function(p){i(new Uint8Array(p))},a)})}return Promise.resolve().then(function(){return Tn(St)})}function ts(){var i={a:Ch};function a(E,k){var C=E.exports;r.asm=C,ae=r.asm.oa,pt(ae.buffer),At=r.asm.va,Qn(r.asm.pa),Ir()}nn();function p(E){a(E.instance)}function d(E){return es().then(function(k){return WebAssembly.instantiate(k,i)}).then(function(k){return k}).then(E,function(k){X("failed to asynchronously prepare wasm: "+k),zt(k)})}function m(){return!ue&&typeof WebAssembly.instantiateStreaming=="function"&&!Sn(St)&&!En(St)&&!g&&typeof fetch=="function"?fetch(St,{credentials:"same-origin"}).then(function(E){var k=WebAssembly.instantiateStreaming(E,i);return k.then(p,function(C){return X("wasm streaming compile failed: "+C),X("falling back to ArrayBuffer instantiation"),d(p)})}):d(p)}if(r.instantiateWasm)try{var b=r.instantiateWasm(i,a);return b}catch(E){return X("Module.instantiateWasm callback failed with error: "+E),!1}return m().catch(s),{}}var at,Bt;function rs(){return r.HEAP8.length}function sn(i){for(;i.length>0;){var a=i.shift();if(typeof a=="function"){a(r);continue}var p=a.func;typeof p=="number"?a.arg===void 0?Fr(p)():Fr(p)(a.arg):p(a.arg===void 0?null:a.arg)}}var Lr=[];function Fr(i){var a=Lr[i];return a||(i>=Lr.length&&(Lr.length=i+1),Lr[i]=a=At.get(i)),a}function ns(i,a,p,d){zt("Assertion failed: "+Ie(i)+", at: "+[a?Ie(a):"unknown filename",p,d?Ie(d):"unknown function"])}function ss(i){return Sr(i+24)+24}function os(i){this.excPtr=i,this.ptr=i-24,this.set_type=function(a){re[this.ptr+4>>2]=a},this.get_type=function(){return re[this.ptr+4>>2]},this.set_destructor=function(a){re[this.ptr+8>>2]=a},this.get_destructor=function(){return re[this.ptr+8>>2]},this.set_refcount=function(a){B[this.ptr>>2]=a},this.set_caught=function(a){a=a?1:0,V[this.ptr+12>>0]=a},this.get_caught=function(){return V[this.ptr+12>>0]!=0},this.set_rethrown=function(a){a=a?1:0,V[this.ptr+13>>0]=a},this.get_rethrown=function(){return V[this.ptr+13>>0]!=0},this.init=function(a,p){this.set_adjusted_ptr(0),this.set_type(a),this.set_destructor(p),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var a=B[this.ptr>>2];B[this.ptr>>2]=a+1},this.release_ref=function(){var a=B[this.ptr>>2];return B[this.ptr>>2]=a-1,a===1},this.set_adjusted_ptr=function(a){re[this.ptr+16>>2]=a},this.get_adjusted_ptr=function(){return re[this.ptr+16>>2]},this.get_exception_ptr=function(){var a=j1(this.get_type());if(a)return re[this.excPtr>>2];var p=this.get_adjusted_ptr();return p!==0?p:this.excPtr}}function is(i,a,p){var d=new os(i);throw d.init(a,p),i}var Re={isAbs:i=>i.charAt(0)==="/",splitPath:i=>{var a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return a.exec(i).slice(1)},normalizeArray:(i,a)=>{for(var p=0,d=i.length-1;d>=0;d--){var m=i[d];m==="."?i.splice(d,1):m===".."?(i.splice(d,1),p++):p&&(i.splice(d,1),p--)}if(a)for(;p;p--)i.unshift("..");return i},normalize:i=>{var a=Re.isAbs(i),p=i.substr(-1)==="/";return i=Re.normalizeArray(i.split("/").filter(d=>!!d),!a).join("/"),!i&&!a&&(i="."),i&&p&&(i+="/"),(a?"/":"")+i},dirname:i=>{var a=Re.splitPath(i),p=a[0],d=a[1];return!p&&!d?".":(d&&(d=d.substr(0,d.length-1)),p+d)},basename:i=>{if(i==="/")return"/";i=Re.normalize(i),i=i.replace(/\/$/,"");var a=i.lastIndexOf("/");return a===-1?i:i.substr(a+1)},join:function(){var i=Array.prototype.slice.call(arguments,0);return Re.normalize(i.join("/"))},join2:(i,a)=>Re.normalize(i+"/"+a)};function as(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var i=new Uint8Array(1);return function(){return crypto.getRandomValues(i),i[0]}}else if(g)try{var a=require("crypto");return function(){return a.randomBytes(1)[0]}}catch{}return function(){zt("randomDevice")}}var Ut={resolve:function(){for(var i="",a=!1,p=arguments.length-1;p>=-1&&!a;p--){var d=p>=0?arguments[p]:y.cwd();if(typeof d!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!d)return"";i=d+"/"+i,a=Re.isAbs(d)}return i=Re.normalizeArray(i.split("/").filter(m=>!!m),!a).join("/"),(a?"/":"")+i||"."},relative:(i,a)=>{i=Ut.resolve(i).substr(1),a=Ut.resolve(a).substr(1);function p(U){for(var Z=0;Z<U.length&&U[Z]==="";Z++);for(var $=U.length-1;$>=0&&U[$]==="";$--);return Z>$?[]:U.slice(Z,$-Z+1)}for(var d=p(i.split("/")),m=p(a.split("/")),b=Math.min(d.length,m.length),E=b,k=0;k<b;k++)if(d[k]!==m[k]){E=k;break}for(var C=[],k=E;k<d.length;k++)C.push("..");return C=C.concat(m.slice(E)),C.join("/")}},Qt={ttys:[],init:function(){},shutdown:function(){},register:function(i,a){Qt.ttys[i]={input:[],output:[],ops:a},y.registerDevice(i,Qt.stream_ops)},stream_ops:{open:function(i){var a=Qt.ttys[i.node.rdev];if(!a)throw new y.ErrnoError(43);i.tty=a,i.seekable=!1},close:function(i){i.tty.ops.flush(i.tty)},flush:function(i){i.tty.ops.flush(i.tty)},read:function(i,a,p,d,m){if(!i.tty||!i.tty.ops.get_char)throw new y.ErrnoError(60);for(var b=0,E=0;E<d;E++){var k;try{k=i.tty.ops.get_char(i.tty)}catch{throw new y.ErrnoError(29)}if(k===void 0&&b===0)throw new y.ErrnoError(6);if(k==null)break;b++,a[p+E]=k}return b&&(i.node.timestamp=Date.now()),b},write:function(i,a,p,d,m){if(!i.tty||!i.tty.ops.put_char)throw new y.ErrnoError(60);try{for(var b=0;b<d;b++)i.tty.ops.put_char(i.tty,a[p+b])}catch{throw new y.ErrnoError(29)}return d&&(i.node.timestamp=Date.now()),b}},default_tty_ops:{get_char:function(i){if(!i.input.length){var a=null;if(g){var p=256,d=Buffer.alloc(p),m=0;try{m=O.readSync(process.stdin.fd,d,0,p,-1)}catch(b){if(b.toString().includes("EOF"))m=0;else throw b}m>0?a=d.slice(0,m).toString("utf-8"):a=null}else typeof window<"u"&&typeof window.prompt=="function"?(a=window.prompt("Input: "),a!==null&&(a+=`
`)):typeof readline=="function"&&(a=readline(),a!==null&&(a+=`
`));if(!a)return null;i.input=Po(a,!0)}return i.input.shift()},put_char:function(i,a){a===null||a===10?(I(Pe(i.output,0)),i.output=[]):a!=0&&i.output.push(a)},flush:function(i){i.output&&i.output.length>0&&(I(Pe(i.output,0)),i.output=[])}},default_tty1_ops:{put_char:function(i,a){a===null||a===10?(X(Pe(i.output,0)),i.output=[]):a!=0&&i.output.push(a)},flush:function(i){i.output&&i.output.length>0&&(X(Pe(i.output,0)),i.output=[])}}};function us(i,a){q.fill(0,i,i+a)}function cs(i,a){return Math.ceil(i/a)*a}function kn(i){i=cs(i,65536);var a=q1(65536,i);return a?(us(a,i),a):0}var ge={ops_table:null,mount:function(i){return ge.createNode(null,"/",16895,0)},createNode:function(i,a,p,d){if(y.isBlkdev(p)||y.isFIFO(p))throw new y.ErrnoError(63);ge.ops_table||(ge.ops_table={dir:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,lookup:ge.node_ops.lookup,mknod:ge.node_ops.mknod,rename:ge.node_ops.rename,unlink:ge.node_ops.unlink,rmdir:ge.node_ops.rmdir,readdir:ge.node_ops.readdir,symlink:ge.node_ops.symlink},stream:{llseek:ge.stream_ops.llseek}},file:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:{llseek:ge.stream_ops.llseek,read:ge.stream_ops.read,write:ge.stream_ops.write,allocate:ge.stream_ops.allocate,mmap:ge.stream_ops.mmap,msync:ge.stream_ops.msync}},link:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr,readlink:ge.node_ops.readlink},stream:{}},chrdev:{node:{getattr:ge.node_ops.getattr,setattr:ge.node_ops.setattr},stream:y.chrdev_stream_ops}});var m=y.createNode(i,a,p,d);return y.isDir(m.mode)?(m.node_ops=ge.ops_table.dir.node,m.stream_ops=ge.ops_table.dir.stream,m.contents={}):y.isFile(m.mode)?(m.node_ops=ge.ops_table.file.node,m.stream_ops=ge.ops_table.file.stream,m.usedBytes=0,m.contents=null):y.isLink(m.mode)?(m.node_ops=ge.ops_table.link.node,m.stream_ops=ge.ops_table.link.stream):y.isChrdev(m.mode)&&(m.node_ops=ge.ops_table.chrdev.node,m.stream_ops=ge.ops_table.chrdev.stream),m.timestamp=Date.now(),i&&(i.contents[a]=m,i.timestamp=m.timestamp),m},getFileDataAsTypedArray:function(i){return i.contents?i.contents.subarray?i.contents.subarray(0,i.usedBytes):new Uint8Array(i.contents):new Uint8Array(0)},expandFileStorage:function(i,a){var p=i.contents?i.contents.length:0;if(!(p>=a)){var d=1024*1024;a=Math.max(a,p*(p<d?2:1.125)>>>0),p!=0&&(a=Math.max(a,256));var m=i.contents;i.contents=new Uint8Array(a),i.usedBytes>0&&i.contents.set(m.subarray(0,i.usedBytes),0)}},resizeFileStorage:function(i,a){if(i.usedBytes!=a)if(a==0)i.contents=null,i.usedBytes=0;else{var p=i.contents;i.contents=new Uint8Array(a),p&&i.contents.set(p.subarray(0,Math.min(a,i.usedBytes))),i.usedBytes=a}},node_ops:{getattr:function(i){var a={};return a.dev=y.isChrdev(i.mode)?i.id:1,a.ino=i.id,a.mode=i.mode,a.nlink=1,a.uid=0,a.gid=0,a.rdev=i.rdev,y.isDir(i.mode)?a.size=4096:y.isFile(i.mode)?a.size=i.usedBytes:y.isLink(i.mode)?a.size=i.link.length:a.size=0,a.atime=new Date(i.timestamp),a.mtime=new Date(i.timestamp),a.ctime=new Date(i.timestamp),a.blksize=4096,a.blocks=Math.ceil(a.size/a.blksize),a},setattr:function(i,a){a.mode!==void 0&&(i.mode=a.mode),a.timestamp!==void 0&&(i.timestamp=a.timestamp),a.size!==void 0&&ge.resizeFileStorage(i,a.size)},lookup:function(i,a){throw y.genericErrors[44]},mknod:function(i,a,p,d){return ge.createNode(i,a,p,d)},rename:function(i,a,p){if(y.isDir(i.mode)){var d;try{d=y.lookupNode(a,p)}catch{}if(d)for(var m in d.contents)throw new y.ErrnoError(55)}delete i.parent.contents[i.name],i.parent.timestamp=Date.now(),i.name=p,a.contents[p]=i,a.timestamp=i.parent.timestamp,i.parent=a},unlink:function(i,a){delete i.contents[a],i.timestamp=Date.now()},rmdir:function(i,a){var p=y.lookupNode(i,a);for(var d in p.contents)throw new y.ErrnoError(55);delete i.contents[a],i.timestamp=Date.now()},readdir:function(i){var a=[".",".."];for(var p in i.contents)i.contents.hasOwnProperty(p)&&a.push(p);return a},symlink:function(i,a,p){var d=ge.createNode(i,a,41471,0);return d.link=p,d},readlink:function(i){if(!y.isLink(i.mode))throw new y.ErrnoError(28);return i.link}},stream_ops:{read:function(i,a,p,d,m){var b=i.node.contents;if(m>=i.node.usedBytes)return 0;var E=Math.min(i.node.usedBytes-m,d);if(E>8&&b.subarray)a.set(b.subarray(m,m+E),p);else for(var k=0;k<E;k++)a[p+k]=b[m+k];return E},write:function(i,a,p,d,m,b){if(a.buffer===V.buffer&&(b=!1),!d)return 0;var E=i.node;if(E.timestamp=Date.now(),a.subarray&&(!E.contents||E.contents.subarray)){if(b)return E.contents=a.subarray(p,p+d),E.usedBytes=d,d;if(E.usedBytes===0&&m===0)return E.contents=a.slice(p,p+d),E.usedBytes=d,d;if(m+d<=E.usedBytes)return E.contents.set(a.subarray(p,p+d),m),d}if(ge.expandFileStorage(E,m+d),E.contents.subarray&&a.subarray)E.contents.set(a.subarray(p,p+d),m);else for(var k=0;k<d;k++)E.contents[m+k]=a[p+k];return E.usedBytes=Math.max(E.usedBytes,m+d),d},llseek:function(i,a,p){var d=a;if(p===1?d+=i.position:p===2&&y.isFile(i.node.mode)&&(d+=i.node.usedBytes),d<0)throw new y.ErrnoError(28);return d},allocate:function(i,a,p){ge.expandFileStorage(i.node,a+p),i.node.usedBytes=Math.max(i.node.usedBytes,a+p)},mmap:function(i,a,p,d,m){if(!y.isFile(i.node.mode))throw new y.ErrnoError(43);var b,E,k=i.node.contents;if(!(m&2)&&k.buffer===W)E=!1,b=k.byteOffset;else{if((p>0||p+a<k.length)&&(k.subarray?k=k.subarray(p,p+a):k=Array.prototype.slice.call(k,p,p+a)),E=!0,b=kn(a),!b)throw new y.ErrnoError(48);V.set(k,b)}return{ptr:b,allocated:E}},msync:function(i,a,p,d,m){if(!y.isFile(i.node.mode))throw new y.ErrnoError(43);return m&2||ge.stream_ops.write(i,a,0,d,p,!1),0}}};function ls(i,a,p,d){var m="al "+i;P(i,function(b){Te(b,'Loading data file "'+i+'" failed (no arrayBuffer).'),a(new Uint8Array(b)),m&&Ir()},function(b){if(p)p();else throw'Loading data file "'+i+'" failed.'}),m&&nn()}var y={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:(i,a={})=>{if(i=Ut.resolve(y.cwd(),i),!i)return{path:"",node:null};var p={follow_mount:!0,recurse_count:0};if(a=Object.assign(p,a),a.recurse_count>8)throw new y.ErrnoError(32);for(var d=Re.normalizeArray(i.split("/").filter($=>!!$),!1),m=y.root,b="/",E=0;E<d.length;E++){var k=E===d.length-1;if(k&&a.parent)break;if(m=y.lookupNode(m,d[E]),b=Re.join2(b,d[E]),y.isMountpoint(m)&&(!k||k&&a.follow_mount)&&(m=m.mounted.root),!k||a.follow)for(var C=0;y.isLink(m.mode);){var U=y.readlink(b);b=Ut.resolve(Re.dirname(b),U);var Z=y.lookupPath(b,{recurse_count:a.recurse_count+1});if(m=Z.node,C++>40)throw new y.ErrnoError(32)}}return{path:b,node:m}},getPath:i=>{for(var a;;){if(y.isRoot(i)){var p=i.mount.mountpoint;return a?p[p.length-1]!=="/"?p+"/"+a:p+a:p}a=a?i.name+"/"+a:i.name,i=i.parent}},hashName:(i,a)=>{for(var p=0,d=0;d<a.length;d++)p=(p<<5)-p+a.charCodeAt(d)|0;return(i+p>>>0)%y.nameTable.length},hashAddNode:i=>{var a=y.hashName(i.parent.id,i.name);i.name_next=y.nameTable[a],y.nameTable[a]=i},hashRemoveNode:i=>{var a=y.hashName(i.parent.id,i.name);if(y.nameTable[a]===i)y.nameTable[a]=i.name_next;else for(var p=y.nameTable[a];p;){if(p.name_next===i){p.name_next=i.name_next;break}p=p.name_next}},lookupNode:(i,a)=>{var p=y.mayLookup(i);if(p)throw new y.ErrnoError(p,i);for(var d=y.hashName(i.id,a),m=y.nameTable[d];m;m=m.name_next){var b=m.name;if(m.parent.id===i.id&&b===a)return m}return y.lookup(i,a)},createNode:(i,a,p,d)=>{var m=new y.FSNode(i,a,p,d);return y.hashAddNode(m),m},destroyNode:i=>{y.hashRemoveNode(i)},isRoot:i=>i===i.parent,isMountpoint:i=>!!i.mounted,isFile:i=>(i&61440)===32768,isDir:i=>(i&61440)===16384,isLink:i=>(i&61440)===40960,isChrdev:i=>(i&61440)===8192,isBlkdev:i=>(i&61440)===24576,isFIFO:i=>(i&61440)===4096,isSocket:i=>(i&49152)===49152,flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:i=>{var a=y.flagModes[i];if(typeof a>"u")throw new Error("Unknown file open mode: "+i);return a},flagsToPermissionString:i=>{var a=["r","w","rw"][i&3];return i&512&&(a+="w"),a},nodePermissions:(i,a)=>y.ignorePermissions?0:a.includes("r")&&!(i.mode&292)||a.includes("w")&&!(i.mode&146)||a.includes("x")&&!(i.mode&73)?2:0,mayLookup:i=>{var a=y.nodePermissions(i,"x");return a||(i.node_ops.lookup?0:2)},mayCreate:(i,a)=>{try{var p=y.lookupNode(i,a);return 20}catch{}return y.nodePermissions(i,"wx")},mayDelete:(i,a,p)=>{var d;try{d=y.lookupNode(i,a)}catch(b){return b.errno}var m=y.nodePermissions(i,"wx");if(m)return m;if(p){if(!y.isDir(d.mode))return 54;if(y.isRoot(d)||y.getPath(d)===y.cwd())return 10}else if(y.isDir(d.mode))return 31;return 0},mayOpen:(i,a)=>i?y.isLink(i.mode)?32:y.isDir(i.mode)&&(y.flagsToPermissionString(a)!=="r"||a&512)?31:y.nodePermissions(i,y.flagsToPermissionString(a)):44,MAX_OPEN_FDS:4096,nextfd:(i=0,a=y.MAX_OPEN_FDS)=>{for(var p=i;p<=a;p++)if(!y.streams[p])return p;throw new y.ErrnoError(33)},getStream:i=>y.streams[i],createStream:(i,a,p)=>{y.FSStream||(y.FSStream=function(){this.shared={}},y.FSStream.prototype={},Object.defineProperties(y.FSStream.prototype,{object:{get:function(){return this.node},set:function(m){this.node=m}},isRead:{get:function(){return(this.flags&2097155)!==1}},isWrite:{get:function(){return(this.flags&2097155)!==0}},isAppend:{get:function(){return this.flags&1024}},flags:{get:function(){return this.shared.flags},set:function(m){this.shared.flags=m}},position:{get:function(){return this.shared.position},set:function(m){this.shared.position=m}}})),i=Object.assign(new y.FSStream,i);var d=y.nextfd(a,p);return i.fd=d,y.streams[d]=i,i},closeStream:i=>{y.streams[i]=null},chrdev_stream_ops:{open:i=>{var a=y.getDevice(i.node.rdev);i.stream_ops=a.stream_ops,i.stream_ops.open&&i.stream_ops.open(i)},llseek:()=>{throw new y.ErrnoError(70)}},major:i=>i>>8,minor:i=>i&255,makedev:(i,a)=>i<<8|a,registerDevice:(i,a)=>{y.devices[i]={stream_ops:a}},getDevice:i=>y.devices[i],getMounts:i=>{for(var a=[],p=[i];p.length;){var d=p.pop();a.push(d),p.push.apply(p,d.mounts)}return a},syncfs:(i,a)=>{typeof i=="function"&&(a=i,i=!1),y.syncFSRequests++,y.syncFSRequests>1&&X("warning: "+y.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var p=y.getMounts(y.root.mount),d=0;function m(E){return y.syncFSRequests--,a(E)}function b(E){if(E)return b.errored?void 0:(b.errored=!0,m(E));++d>=p.length&&m(null)}p.forEach(E=>{if(!E.type.syncfs)return b(null);E.type.syncfs(E,i,b)})},mount:(i,a,p)=>{var d=p==="/",m=!p,b;if(d&&y.root)throw new y.ErrnoError(10);if(!d&&!m){var E=y.lookupPath(p,{follow_mount:!1});if(p=E.path,b=E.node,y.isMountpoint(b))throw new y.ErrnoError(10);if(!y.isDir(b.mode))throw new y.ErrnoError(54)}var k={type:i,opts:a,mountpoint:p,mounts:[]},C=i.mount(k);return C.mount=k,k.root=C,d?y.root=C:b&&(b.mounted=k,b.mount&&b.mount.mounts.push(k)),C},unmount:i=>{var a=y.lookupPath(i,{follow_mount:!1});if(!y.isMountpoint(a.node))throw new y.ErrnoError(28);var p=a.node,d=p.mounted,m=y.getMounts(d);Object.keys(y.nameTable).forEach(E=>{for(var k=y.nameTable[E];k;){var C=k.name_next;m.includes(k.mount)&&y.destroyNode(k),k=C}}),p.mounted=null;var b=p.mount.mounts.indexOf(d);p.mount.mounts.splice(b,1)},lookup:(i,a)=>i.node_ops.lookup(i,a),mknod:(i,a,p)=>{var d=y.lookupPath(i,{parent:!0}),m=d.node,b=Re.basename(i);if(!b||b==="."||b==="..")throw new y.ErrnoError(28);var E=y.mayCreate(m,b);if(E)throw new y.ErrnoError(E);if(!m.node_ops.mknod)throw new y.ErrnoError(63);return m.node_ops.mknod(m,b,a,p)},create:(i,a)=>(a=a!==void 0?a:438,a&=4095,a|=32768,y.mknod(i,a,0)),mkdir:(i,a)=>(a=a!==void 0?a:511,a&=1023,a|=16384,y.mknod(i,a,0)),mkdirTree:(i,a)=>{for(var p=i.split("/"),d="",m=0;m<p.length;++m)if(p[m]){d+="/"+p[m];try{y.mkdir(d,a)}catch(b){if(b.errno!=20)throw b}}},mkdev:(i,a,p)=>(typeof p>"u"&&(p=a,a=438),a|=8192,y.mknod(i,a,p)),symlink:(i,a)=>{if(!Ut.resolve(i))throw new y.ErrnoError(44);var p=y.lookupPath(a,{parent:!0}),d=p.node;if(!d)throw new y.ErrnoError(44);var m=Re.basename(a),b=y.mayCreate(d,m);if(b)throw new y.ErrnoError(b);if(!d.node_ops.symlink)throw new y.ErrnoError(63);return d.node_ops.symlink(d,m,i)},rename:(i,a)=>{var p=Re.dirname(i),d=Re.dirname(a),m=Re.basename(i),b=Re.basename(a),E,k,C;if(E=y.lookupPath(i,{parent:!0}),k=E.node,E=y.lookupPath(a,{parent:!0}),C=E.node,!k||!C)throw new y.ErrnoError(44);if(k.mount!==C.mount)throw new y.ErrnoError(75);var U=y.lookupNode(k,m),Z=Ut.relative(i,d);if(Z.charAt(0)!==".")throw new y.ErrnoError(28);if(Z=Ut.relative(a,p),Z.charAt(0)!==".")throw new y.ErrnoError(55);var $;try{$=y.lookupNode(C,b)}catch{}if(U!==$){var z=y.isDir(U.mode),K=y.mayDelete(k,m,z);if(K)throw new y.ErrnoError(K);if(K=$?y.mayDelete(C,b,z):y.mayCreate(C,b),K)throw new y.ErrnoError(K);if(!k.node_ops.rename)throw new y.ErrnoError(63);if(y.isMountpoint(U)||$&&y.isMountpoint($))throw new y.ErrnoError(10);if(C!==k&&(K=y.nodePermissions(k,"w"),K))throw new y.ErrnoError(K);y.hashRemoveNode(U);try{k.node_ops.rename(U,C,b)}catch(ce){throw ce}finally{y.hashAddNode(U)}}},rmdir:i=>{var a=y.lookupPath(i,{parent:!0}),p=a.node,d=Re.basename(i),m=y.lookupNode(p,d),b=y.mayDelete(p,d,!0);if(b)throw new y.ErrnoError(b);if(!p.node_ops.rmdir)throw new y.ErrnoError(63);if(y.isMountpoint(m))throw new y.ErrnoError(10);p.node_ops.rmdir(p,d),y.destroyNode(m)},readdir:i=>{var a=y.lookupPath(i,{follow:!0}),p=a.node;if(!p.node_ops.readdir)throw new y.ErrnoError(54);return p.node_ops.readdir(p)},unlink:i=>{var a=y.lookupPath(i,{parent:!0}),p=a.node;if(!p)throw new y.ErrnoError(44);var d=Re.basename(i),m=y.lookupNode(p,d),b=y.mayDelete(p,d,!1);if(b)throw new y.ErrnoError(b);if(!p.node_ops.unlink)throw new y.ErrnoError(63);if(y.isMountpoint(m))throw new y.ErrnoError(10);p.node_ops.unlink(p,d),y.destroyNode(m)},readlink:i=>{var a=y.lookupPath(i),p=a.node;if(!p)throw new y.ErrnoError(44);if(!p.node_ops.readlink)throw new y.ErrnoError(28);return Ut.resolve(y.getPath(p.parent),p.node_ops.readlink(p))},stat:(i,a)=>{var p=y.lookupPath(i,{follow:!a}),d=p.node;if(!d)throw new y.ErrnoError(44);if(!d.node_ops.getattr)throw new y.ErrnoError(63);return d.node_ops.getattr(d)},lstat:i=>y.stat(i,!0),chmod:(i,a,p)=>{var d;if(typeof i=="string"){var m=y.lookupPath(i,{follow:!p});d=m.node}else d=i;if(!d.node_ops.setattr)throw new y.ErrnoError(63);d.node_ops.setattr(d,{mode:a&4095|d.mode&-4096,timestamp:Date.now()})},lchmod:(i,a)=>{y.chmod(i,a,!0)},fchmod:(i,a)=>{var p=y.getStream(i);if(!p)throw new y.ErrnoError(8);y.chmod(p.node,a)},chown:(i,a,p,d)=>{var m;if(typeof i=="string"){var b=y.lookupPath(i,{follow:!d});m=b.node}else m=i;if(!m.node_ops.setattr)throw new y.ErrnoError(63);m.node_ops.setattr(m,{timestamp:Date.now()})},lchown:(i,a,p)=>{y.chown(i,a,p,!0)},fchown:(i,a,p)=>{var d=y.getStream(i);if(!d)throw new y.ErrnoError(8);y.chown(d.node,a,p)},truncate:(i,a)=>{if(a<0)throw new y.ErrnoError(28);var p;if(typeof i=="string"){var d=y.lookupPath(i,{follow:!0});p=d.node}else p=i;if(!p.node_ops.setattr)throw new y.ErrnoError(63);if(y.isDir(p.mode))throw new y.ErrnoError(31);if(!y.isFile(p.mode))throw new y.ErrnoError(28);var m=y.nodePermissions(p,"w");if(m)throw new y.ErrnoError(m);p.node_ops.setattr(p,{size:a,timestamp:Date.now()})},ftruncate:(i,a)=>{var p=y.getStream(i);if(!p)throw new y.ErrnoError(8);if((p.flags&2097155)===0)throw new y.ErrnoError(28);y.truncate(p.node,a)},utime:(i,a,p)=>{var d=y.lookupPath(i,{follow:!0}),m=d.node;m.node_ops.setattr(m,{timestamp:Math.max(a,p)})},open:(i,a,p)=>{if(i==="")throw new y.ErrnoError(44);a=typeof a=="string"?y.modeStringToFlags(a):a,p=typeof p>"u"?438:p,a&64?p=p&4095|32768:p=0;var d;if(typeof i=="object")d=i;else{i=Re.normalize(i);try{var m=y.lookupPath(i,{follow:!(a&131072)});d=m.node}catch{}}var b=!1;if(a&64)if(d){if(a&128)throw new y.ErrnoError(20)}else d=y.mknod(i,p,0),b=!0;if(!d)throw new y.ErrnoError(44);if(y.isChrdev(d.mode)&&(a&=-513),a&65536&&!y.isDir(d.mode))throw new y.ErrnoError(54);if(!b){var E=y.mayOpen(d,a);if(E)throw new y.ErrnoError(E)}a&512&&!b&&y.truncate(d,0),a&=-131713;var k=y.createStream({node:d,path:y.getPath(d),flags:a,seekable:!0,position:0,stream_ops:d.stream_ops,ungotten:[],error:!1});return k.stream_ops.open&&k.stream_ops.open(k),r.logReadFiles&&!(a&1)&&(y.readFiles||(y.readFiles={}),i in y.readFiles||(y.readFiles[i]=1)),k},close:i=>{if(y.isClosed(i))throw new y.ErrnoError(8);i.getdents&&(i.getdents=null);try{i.stream_ops.close&&i.stream_ops.close(i)}catch(a){throw a}finally{y.closeStream(i.fd)}i.fd=null},isClosed:i=>i.fd===null,llseek:(i,a,p)=>{if(y.isClosed(i))throw new y.ErrnoError(8);if(!i.seekable||!i.stream_ops.llseek)throw new y.ErrnoError(70);if(p!=0&&p!=1&&p!=2)throw new y.ErrnoError(28);return i.position=i.stream_ops.llseek(i,a,p),i.ungotten=[],i.position},read:(i,a,p,d,m)=>{if(d<0||m<0)throw new y.ErrnoError(28);if(y.isClosed(i))throw new y.ErrnoError(8);if((i.flags&2097155)===1)throw new y.ErrnoError(8);if(y.isDir(i.node.mode))throw new y.ErrnoError(31);if(!i.stream_ops.read)throw new y.ErrnoError(28);var b=typeof m<"u";if(!b)m=i.position;else if(!i.seekable)throw new y.ErrnoError(70);var E=i.stream_ops.read(i,a,p,d,m);return b||(i.position+=E),E},write:(i,a,p,d,m,b)=>{if(d<0||m<0)throw new y.ErrnoError(28);if(y.isClosed(i))throw new y.ErrnoError(8);if((i.flags&2097155)===0)throw new y.ErrnoError(8);if(y.isDir(i.node.mode))throw new y.ErrnoError(31);if(!i.stream_ops.write)throw new y.ErrnoError(28);i.seekable&&i.flags&1024&&y.llseek(i,0,2);var E=typeof m<"u";if(!E)m=i.position;else if(!i.seekable)throw new y.ErrnoError(70);var k=i.stream_ops.write(i,a,p,d,m,b);return E||(i.position+=k),k},allocate:(i,a,p)=>{if(y.isClosed(i))throw new y.ErrnoError(8);if(a<0||p<=0)throw new y.ErrnoError(28);if((i.flags&2097155)===0)throw new y.ErrnoError(8);if(!y.isFile(i.node.mode)&&!y.isDir(i.node.mode))throw new y.ErrnoError(43);if(!i.stream_ops.allocate)throw new y.ErrnoError(138);i.stream_ops.allocate(i,a,p)},mmap:(i,a,p,d,m)=>{if((d&2)!==0&&(m&2)===0&&(i.flags&2097155)!==2)throw new y.ErrnoError(2);if((i.flags&2097155)===1)throw new y.ErrnoError(2);if(!i.stream_ops.mmap)throw new y.ErrnoError(43);return i.stream_ops.mmap(i,a,p,d,m)},msync:(i,a,p,d,m)=>!i||!i.stream_ops.msync?0:i.stream_ops.msync(i,a,p,d,m),munmap:i=>0,ioctl:(i,a,p)=>{if(!i.stream_ops.ioctl)throw new y.ErrnoError(59);return i.stream_ops.ioctl(i,a,p)},readFile:(i,a={})=>{if(a.flags=a.flags||0,a.encoding=a.encoding||"binary",a.encoding!=="utf8"&&a.encoding!=="binary")throw new Error('Invalid encoding type "'+a.encoding+'"');var p,d=y.open(i,a.flags),m=y.stat(i),b=m.size,E=new Uint8Array(b);return y.read(d,E,0,b,0),a.encoding==="utf8"?p=Pe(E,0):a.encoding==="binary"&&(p=E),y.close(d),p},writeFile:(i,a,p={})=>{p.flags=p.flags||577;var d=y.open(i,p.flags,p.mode);if(typeof a=="string"){var m=new Uint8Array(He(a)+1),b=Ke(a,m,0,m.length);y.write(d,m,0,b,void 0,p.canOwn)}else if(ArrayBuffer.isView(a))y.write(d,a,0,a.byteLength,void 0,p.canOwn);else throw new Error("Unsupported data type");y.close(d)},cwd:()=>y.currentPath,chdir:i=>{var a=y.lookupPath(i,{follow:!0});if(a.node===null)throw new y.ErrnoError(44);if(!y.isDir(a.node.mode))throw new y.ErrnoError(54);var p=y.nodePermissions(a.node,"x");if(p)throw new y.ErrnoError(p);y.currentPath=a.path},createDefaultDirectories:()=>{y.mkdir("/tmp"),y.mkdir("/home"),y.mkdir("/home/web_user")},createDefaultDevices:()=>{y.mkdir("/dev"),y.registerDevice(y.makedev(1,3),{read:()=>0,write:(a,p,d,m,b)=>m}),y.mkdev("/dev/null",y.makedev(1,3)),Qt.register(y.makedev(5,0),Qt.default_tty_ops),Qt.register(y.makedev(6,0),Qt.default_tty1_ops),y.mkdev("/dev/tty",y.makedev(5,0)),y.mkdev("/dev/tty1",y.makedev(6,0));var i=as();y.createDevice("/dev","random",i),y.createDevice("/dev","urandom",i),y.mkdir("/dev/shm"),y.mkdir("/dev/shm/tmp")},createSpecialDirectories:()=>{y.mkdir("/proc");var i=y.mkdir("/proc/self");y.mkdir("/proc/self/fd"),y.mount({mount:()=>{var a=y.createNode(i,"fd",16895,73);return a.node_ops={lookup:(p,d)=>{var m=+d,b=y.getStream(m);if(!b)throw new y.ErrnoError(8);var E={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>b.path}};return E.parent=E,E}},a}},{},"/proc/self/fd")},createStandardStreams:()=>{r.stdin?y.createDevice("/dev","stdin",r.stdin):y.symlink("/dev/tty","/dev/stdin"),r.stdout?y.createDevice("/dev","stdout",null,r.stdout):y.symlink("/dev/tty","/dev/stdout"),r.stderr?y.createDevice("/dev","stderr",null,r.stderr):y.symlink("/dev/tty1","/dev/stderr"),y.open("/dev/stdin",0),y.open("/dev/stdout",1),y.open("/dev/stderr",1)},ensureErrnoError:()=>{y.ErrnoError||(y.ErrnoError=function(a,p){this.node=p,this.setErrno=function(d){this.errno=d},this.setErrno(a),this.message="FS error"},y.ErrnoError.prototype=new Error,y.ErrnoError.prototype.constructor=y.ErrnoError,[44].forEach(i=>{y.genericErrors[i]=new y.ErrnoError(i),y.genericErrors[i].stack="<generic error, no stack>"}))},staticInit:()=>{y.ensureErrnoError(),y.nameTable=new Array(4096),y.mount(ge,{},"/"),y.createDefaultDirectories(),y.createDefaultDevices(),y.createSpecialDirectories(),y.filesystems={MEMFS:ge}},init:(i,a,p)=>{y.init.initialized=!0,y.ensureErrnoError(),r.stdin=i||r.stdin,r.stdout=a||r.stdout,r.stderr=p||r.stderr,y.createStandardStreams()},quit:()=>{y.init.initialized=!1;for(var i=0;i<y.streams.length;i++){var a=y.streams[i];a&&y.close(a)}},getMode:(i,a)=>{var p=0;return i&&(p|=365),a&&(p|=146),p},findObject:(i,a)=>{var p=y.analyzePath(i,a);return p.exists?p.object:null},analyzePath:(i,a)=>{try{var p=y.lookupPath(i,{follow:!a});i=p.path}catch{}var d={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{var p=y.lookupPath(i,{parent:!0});d.parentExists=!0,d.parentPath=p.path,d.parentObject=p.node,d.name=Re.basename(i),p=y.lookupPath(i,{follow:!a}),d.exists=!0,d.path=p.path,d.object=p.node,d.name=p.node.name,d.isRoot=p.path==="/"}catch(m){d.error=m.errno}return d},createPath:(i,a,p,d)=>{i=typeof i=="string"?i:y.getPath(i);for(var m=a.split("/").reverse();m.length;){var b=m.pop();if(b){var E=Re.join2(i,b);try{y.mkdir(E)}catch{}i=E}}return E},createFile:(i,a,p,d,m)=>{var b=Re.join2(typeof i=="string"?i:y.getPath(i),a),E=y.getMode(d,m);return y.create(b,E)},createDataFile:(i,a,p,d,m,b)=>{var E=a;i&&(i=typeof i=="string"?i:y.getPath(i),E=a?Re.join2(i,a):i);var k=y.getMode(d,m),C=y.create(E,k);if(p){if(typeof p=="string"){for(var U=new Array(p.length),Z=0,$=p.length;Z<$;++Z)U[Z]=p.charCodeAt(Z);p=U}y.chmod(C,k|146);var z=y.open(C,577);y.write(z,p,0,p.length,0,b),y.close(z),y.chmod(C,k)}return C},createDevice:(i,a,p,d)=>{var m=Re.join2(typeof i=="string"?i:y.getPath(i),a),b=y.getMode(!!p,!!d);y.createDevice.major||(y.createDevice.major=64);var E=y.makedev(y.createDevice.major++,0);return y.registerDevice(E,{open:k=>{k.seekable=!1},close:k=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(k,C,U,Z,$)=>{for(var z=0,K=0;K<Z;K++){var ce;try{ce=p()}catch{throw new y.ErrnoError(29)}if(ce===void 0&&z===0)throw new y.ErrnoError(6);if(ce==null)break;z++,C[U+K]=ce}return z&&(k.node.timestamp=Date.now()),z},write:(k,C,U,Z,$)=>{for(var z=0;z<Z;z++)try{d(C[U+z])}catch{throw new y.ErrnoError(29)}return Z&&(k.node.timestamp=Date.now()),z}}),y.mkdev(m,b,E)},forceLoadFile:i=>{if(i.isDevice||i.isFolder||i.link||i.contents)return!0;if(typeof XMLHttpRequest<"u")throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(T)try{i.contents=Po(T(i.url),!0),i.usedBytes=i.contents.length}catch{throw new y.ErrnoError(29)}else throw new Error("Cannot load without read() or XMLHttpRequest.")},createLazyFile:(i,a,p,d,m)=>{function b(){this.lengthKnown=!1,this.chunks=[]}if(b.prototype.get=function(K){if(!(K>this.length-1||K<0)){var ce=K%this.chunkSize,Ne=K/this.chunkSize|0;return this.getter(Ne)[ce]}},b.prototype.setDataGetter=function(K){this.getter=K},b.prototype.cacheLength=function(){var K=new XMLHttpRequest;if(K.open("HEAD",p,!1),K.send(null),!(K.status>=200&&K.status<300||K.status===304))throw new Error("Couldn't load "+p+". Status: "+K.status);var ce=Number(K.getResponseHeader("Content-length")),Ne,it=(Ne=K.getResponseHeader("Accept-Ranges"))&&Ne==="bytes",ut=(Ne=K.getResponseHeader("Content-Encoding"))&&Ne==="gzip",j=1024*1024;it||(j=ce);var oe=(ze,Lt)=>{if(ze>Lt)throw new Error("invalid range ("+ze+", "+Lt+") or no bytes requested!");if(Lt>ce-1)throw new Error("only "+ce+" bytes available! programmer error!");var ct=new XMLHttpRequest;if(ct.open("GET",p,!1),ce!==j&&ct.setRequestHeader("Range","bytes="+ze+"-"+Lt),ct.responseType="arraybuffer",ct.overrideMimeType&&ct.overrideMimeType("text/plain; charset=x-user-defined"),ct.send(null),!(ct.status>=200&&ct.status<300||ct.status===304))throw new Error("Couldn't load "+p+". Status: "+ct.status);return ct.response!==void 0?new Uint8Array(ct.response||[]):Po(ct.responseText||"",!0)},dt=this;dt.setDataGetter(ze=>{var Lt=ze*j,ct=(ze+1)*j-1;if(ct=Math.min(ct,ce-1),typeof dt.chunks[ze]>"u"&&(dt.chunks[ze]=oe(Lt,ct)),typeof dt.chunks[ze]>"u")throw new Error("doXHR failed!");return dt.chunks[ze]}),(ut||!ce)&&(j=ce=1,ce=this.getter(0).length,j=ce,I("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=ce,this._chunkSize=j,this.lengthKnown=!0},typeof XMLHttpRequest<"u"){if(!v)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var E=new b;Object.defineProperties(E,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var k={isDevice:!1,contents:E}}else var k={isDevice:!1,url:p};var C=y.createFile(i,a,k,d,m);k.contents?C.contents=k.contents:k.url&&(C.contents=null,C.url=k.url),Object.defineProperties(C,{usedBytes:{get:function(){return this.contents.length}}});var U={},Z=Object.keys(C.stream_ops);Z.forEach(z=>{var K=C.stream_ops[z];U[z]=function(){return y.forceLoadFile(C),K.apply(null,arguments)}});function $(z,K,ce,Ne,it){var ut=z.node.contents;if(it>=ut.length)return 0;var j=Math.min(ut.length-it,Ne);if(ut.slice)for(var oe=0;oe<j;oe++)K[ce+oe]=ut[it+oe];else for(var oe=0;oe<j;oe++)K[ce+oe]=ut.get(it+oe);return j}return U.read=(z,K,ce,Ne,it)=>(y.forceLoadFile(C),$(z,K,ce,Ne,it)),U.mmap=(z,K,ce,Ne,it)=>{y.forceLoadFile(C);var ut=kn(K);if(!ut)throw new y.ErrnoError(48);return $(z,V,ut,K,ce),{ptr:ut,allocated:!0}},C.stream_ops=U,C},createPreloadedFile:(i,a,p,d,m,b,E,k,C,U)=>{var Z=a?Ut.resolve(Re.join2(i,a)):i;function $(z){function K(ce){U&&U(),k||y.createDataFile(i,a,ce,d,m,C),b&&b(),Ir()}Browser.handledByPreloadPlugin(z,Z,K,()=>{E&&E(),Ir()})||K(z)}nn(),typeof p=="string"?ls(p,z=>$(z),E):$(p)},indexedDB:()=>window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,DB_NAME:()=>"EM_FS_"+window.location.pathname,DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:(i,a,p)=>{a=a||(()=>{}),p=p||(()=>{});var d=y.indexedDB();try{var m=d.open(y.DB_NAME(),y.DB_VERSION)}catch(b){return p(b)}m.onupgradeneeded=()=>{I("creating db");var b=m.result;b.createObjectStore(y.DB_STORE_NAME)},m.onsuccess=()=>{var b=m.result,E=b.transaction([y.DB_STORE_NAME],"readwrite"),k=E.objectStore(y.DB_STORE_NAME),C=0,U=0,Z=i.length;function $(){U==0?a():p()}i.forEach(z=>{var K=k.put(y.analyzePath(z).object.contents,z);K.onsuccess=()=>{C++,C+U==Z&&$()},K.onerror=()=>{U++,C+U==Z&&$()}}),E.onerror=p},m.onerror=p},loadFilesFromDB:(i,a,p)=>{a=a||(()=>{}),p=p||(()=>{});var d=y.indexedDB();try{var m=d.open(y.DB_NAME(),y.DB_VERSION)}catch(b){return p(b)}m.onupgradeneeded=p,m.onsuccess=()=>{var b=m.result;try{var E=b.transaction([y.DB_STORE_NAME],"readonly")}catch(z){p(z);return}var k=E.objectStore(y.DB_STORE_NAME),C=0,U=0,Z=i.length;function $(){U==0?a():p()}i.forEach(z=>{var K=k.get(z);K.onsuccess=()=>{y.analyzePath(z).exists&&y.unlink(z),y.createDataFile(Re.dirname(z),Re.basename(z),K.result,!0,!0,!0),C++,C+U==Z&&$()},K.onerror=()=>{U++,C+U==Z&&$()}}),E.onerror=p},m.onerror=p}},Oe={DEFAULT_POLLMASK:5,calculateAt:function(i,a,p){if(Re.isAbs(a))return a;var d;if(i===-100)d=y.cwd();else{var m=y.getStream(i);if(!m)throw new y.ErrnoError(8);d=m.path}if(a.length==0){if(!p)throw new y.ErrnoError(44);return d}return Re.join2(d,a)},doStat:function(i,a,p){try{var d=i(a)}catch(m){if(m&&m.node&&Re.normalize(a)!==Re.normalize(y.getPath(m.node)))return-54;throw m}return B[p>>2]=d.dev,B[p+4>>2]=0,B[p+8>>2]=d.ino,B[p+12>>2]=d.mode,B[p+16>>2]=d.nlink,B[p+20>>2]=d.uid,B[p+24>>2]=d.gid,B[p+28>>2]=d.rdev,B[p+32>>2]=0,Bt=[d.size>>>0,(at=d.size,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],B[p+40>>2]=Bt[0],B[p+44>>2]=Bt[1],B[p+48>>2]=4096,B[p+52>>2]=d.blocks,B[p+56>>2]=d.atime.getTime()/1e3|0,B[p+60>>2]=0,B[p+64>>2]=d.mtime.getTime()/1e3|0,B[p+68>>2]=0,B[p+72>>2]=d.ctime.getTime()/1e3|0,B[p+76>>2]=0,Bt=[d.ino>>>0,(at=d.ino,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],B[p+80>>2]=Bt[0],B[p+84>>2]=Bt[1],0},doMsync:function(i,a,p,d,m){var b=q.slice(i,i+p);y.msync(a,b,m,p,d)},varargs:void 0,get:function(){Oe.varargs+=4;var i=B[Oe.varargs-4>>2];return i},getStr:function(i){var a=Ie(i);return a},getStreamFromFD:function(i){var a=y.getStream(i);if(!a)throw new y.ErrnoError(8);return a}};function fs(i,a){try{return i=Oe.getStr(i),y.chmod(i,a),0}catch(p){if(typeof y>"u"||!(p instanceof y.ErrnoError))throw p;return-p.errno}}function ps(i,a,p,d){try{if(a=Oe.getStr(a),a=Oe.calculateAt(i,a),p&-8)return-28;var m=y.lookupPath(a,{follow:!0}),b=m.node;if(!b)return-44;var E="";return p&4&&(E+="r"),p&2&&(E+="w"),p&1&&(E+="x"),E&&y.nodePermissions(b,E)?-2:0}catch(k){if(typeof y>"u"||!(k instanceof y.ErrnoError))throw k;return-k.errno}}function hs(i){return B[H1()>>2]=i,i}function ds(i,a,p){Oe.varargs=p;try{var d=Oe.getStreamFromFD(i);switch(a){case 0:{var m=Oe.get();if(m<0)return-28;var b;return b=y.createStream(d,m),b.fd}case 1:case 2:return 0;case 3:return d.flags;case 4:{var m=Oe.get();return d.flags|=m,0}case 5:{var m=Oe.get(),E=0;return Q[m+E>>1]=2,0}case 6:case 7:return 0;case 16:case 8:return-28;case 9:return hs(28),-1;default:return-28}}catch(k){if(typeof y>"u"||!(k instanceof y.ErrnoError))throw k;return-k.errno}}function vs(i,a){try{var p=Oe.getStreamFromFD(i);return Oe.doStat(y.stat,p.path,a)}catch(d){if(typeof y>"u"||!(d instanceof y.ErrnoError))throw d;return-d.errno}}function gs(i,a,p){Oe.varargs=p;try{var d=Oe.getStreamFromFD(i);switch(a){case 21509:case 21505:return d.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return d.tty?0:-59;case 21519:{if(!d.tty)return-59;var m=Oe.get();return B[m>>2]=0,0}case 21520:return d.tty?-28:-59;case 21531:{var m=Oe.get();return y.ioctl(d,a,m)}case 21523:return d.tty?0:-59;case 21524:return d.tty?0:-59;default:zt("bad ioctl syscall "+a)}}catch(b){if(typeof y>"u"||!(b instanceof y.ErrnoError))throw b;return-b.errno}}function ms(i,a){try{return i=Oe.getStr(i),Oe.doStat(y.lstat,i,a)}catch(p){if(typeof y>"u"||!(p instanceof y.ErrnoError))throw p;return-p.errno}}function ys(i,a,p,d){try{a=Oe.getStr(a);var m=d&256,b=d&4096;return d=d&-4353,a=Oe.calculateAt(i,a,b),Oe.doStat(m?y.lstat:y.stat,a,p)}catch(E){if(typeof y>"u"||!(E instanceof y.ErrnoError))throw E;return-E.errno}}function ws(i,a,p,d){Oe.varargs=d;try{a=Oe.getStr(a),a=Oe.calculateAt(i,a);var m=d?Oe.get():0;return y.open(a,p,m).fd}catch(b){if(typeof y>"u"||!(b instanceof y.ErrnoError))throw b;return-b.errno}}function Ri(i,a){try{return i=Oe.getStr(i),Oe.doStat(y.stat,i,a)}catch(p){if(typeof y>"u"||!(p instanceof y.ErrnoError))throw p;return-p.errno}}function Oi(i,a,p,d,m){}function xn(i){switch(i){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+i)}}function Di(){for(var i=new Array(256),a=0;a<256;++a)i[a]=String.fromCharCode(a);go=i}var go=void 0;function Et(i){for(var a="",p=i;q[p];)a+=go[q[p++]];return a}var Mr={},wr={},Pn={},Ii=48,Li=57;function An(i){if(i===void 0)return"_unknown";i=i.replace(/[^a-zA-Z0-9_]/g,"$");var a=i.charCodeAt(0);return a>=Ii&&a<=Li?"_"+i:i}function Cn(i,a){return i=An(i),new Function("body","return function "+i+`() {
    "use strict";    return body.apply(this, arguments);
};
`)(a)}function _s(i,a){var p=Cn(a,function(d){this.name=a,this.message=d;var m=new Error(d).stack;m!==void 0&&(this.stack=this.toString()+`
`+m.replace(/^Error(:[^\n]*)?\n/,""))});return p.prototype=Object.create(i.prototype),p.prototype.constructor=p,p.prototype.toString=function(){return this.message===void 0?this.name:this.name+": "+this.message},p}var Br=void 0;function Fe(i){throw new Br(i)}var E1=void 0;function mo(i){throw new E1(i)}function on(i,a,p){i.forEach(function(k){Pn[k]=a});function d(k){var C=p(k);C.length!==i.length&&mo("Mismatched type converter count");for(var U=0;U<i.length;++U)ar(i[U],C[U])}var m=new Array(a.length),b=[],E=0;a.forEach((k,C)=>{wr.hasOwnProperty(k)?m[C]=wr[k]:(b.push(k),Mr.hasOwnProperty(k)||(Mr[k]=[]),Mr[k].push(()=>{m[C]=wr[k],++E,E===b.length&&d(m)}))}),b.length===0&&d(m)}function ar(i,a,p={}){if(!("argPackAdvance"in a))throw new TypeError("registerType registeredInstance requires argPackAdvance");var d=a.name;if(i||Fe('type "'+d+'" must have a positive integer typeid pointer'),wr.hasOwnProperty(i)){if(p.ignoreDuplicateRegistrations)return;Fe("Cannot register type '"+d+"' twice")}if(wr[i]=a,delete Pn[i],Mr.hasOwnProperty(i)){var m=Mr[i];delete Mr[i],m.forEach(b=>b())}}function Cf(i,a,p,d,m){var b=xn(p);a=Et(a),ar(i,{name:a,fromWireType:function(E){return!!E},toWireType:function(E,k){return k?d:m},argPackAdvance:8,readValueFromPointer:function(E){var k;if(p===1)k=V;else if(p===2)k=Q;else if(p===4)k=B;else throw new TypeError("Unknown boolean type size: "+a);return this.fromWireType(k[E>>b])},destructorFunction:null})}function Rf(i){if(!(this instanceof Ur)||!(i instanceof Ur))return!1;for(var a=this.$$.ptrType.registeredClass,p=this.$$.ptr,d=i.$$.ptrType.registeredClass,m=i.$$.ptr;a.baseClass;)p=a.upcast(p),a=a.baseClass;for(;d.baseClass;)m=d.upcast(m),d=d.baseClass;return a===d&&p===m}function Of(i){return{count:i.count,deleteScheduled:i.deleteScheduled,preservePointerOnDelete:i.preservePointerOnDelete,ptr:i.ptr,ptrType:i.ptrType,smartPtr:i.smartPtr,smartPtrType:i.smartPtrType}}function Fi(i){function a(p){return p.$$.ptrType.registeredClass.name}Fe(a(i)+" instance already deleted")}var Mi=!1;function T1(i){}function Df(i){i.smartPtr?i.smartPtrType.rawDestructor(i.smartPtr):i.ptrType.registeredClass.rawDestructor(i.ptr)}function k1(i){i.count.value-=1;var a=i.count.value===0;a&&Df(i)}function x1(i,a,p){if(a===p)return i;if(p.baseClass===void 0)return null;var d=x1(i,a,p.baseClass);return d===null?null:p.downcast(d)}var P1={};function If(){return Object.keys(Es).length}function Lf(){var i=[];for(var a in Es)Es.hasOwnProperty(a)&&i.push(Es[a]);return i}var bs=[];function Bi(){for(;bs.length;){var i=bs.pop();i.$$.deleteScheduled=!1,i.delete()}}var Ss=void 0;function Ff(i){Ss=i,bs.length&&Ss&&Ss(Bi)}function Mf(){r.getInheritedInstanceCount=If,r.getLiveInheritedInstances=Lf,r.flushPendingDeletes=Bi,r.setDelayFunction=Ff}var Es={};function Bf(i,a){for(a===void 0&&Fe("ptr should not be undefined");i.baseClass;)a=i.upcast(a),i=i.baseClass;return a}function Uf(i,a){return a=Bf(i,a),Es[a]}function yo(i,a){(!a.ptrType||!a.ptr)&&mo("makeClassHandle requires ptr and ptrType");var p=!!a.smartPtrType,d=!!a.smartPtr;return p!==d&&mo("Both smartPtrType and smartPtr must be specified"),a.count={value:1},Ts(Object.create(i,{$$:{value:a}}))}function Nf(i){var a=this.getPointee(i);if(!a)return this.destructor(i),null;var p=Uf(this.registeredClass,a);if(p!==void 0){if(p.$$.count.value===0)return p.$$.ptr=a,p.$$.smartPtr=i,p.clone();var d=p.clone();return this.destructor(i),d}function m(){return this.isSmartPointer?yo(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:a,smartPtrType:this,smartPtr:i}):yo(this.registeredClass.instancePrototype,{ptrType:this,ptr:i})}var b=this.registeredClass.getActualType(a),E=P1[b];if(!E)return m.call(this);var k;this.isConst?k=E.constPointerType:k=E.pointerType;var C=x1(a,this.registeredClass,k.registeredClass);return C===null?m.call(this):this.isSmartPointer?yo(k.registeredClass.instancePrototype,{ptrType:k,ptr:C,smartPtrType:this,smartPtr:i}):yo(k.registeredClass.instancePrototype,{ptrType:k,ptr:C})}function Ts(i){return typeof FinalizationRegistry>"u"?(Ts=a=>a,i):(Mi=new FinalizationRegistry(a=>{k1(a.$$)}),Ts=a=>{var p=a.$$,d=!!p.smartPtr;if(d){var m={$$:p};Mi.register(a,m,a)}return a},T1=a=>Mi.unregister(a),Ts(i))}function Gf(){if(this.$$.ptr||Fi(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var i=Ts(Object.create(Object.getPrototypeOf(this),{$$:{value:Of(this.$$)}}));return i.$$.count.value+=1,i.$$.deleteScheduled=!1,i}function Hf(){this.$$.ptr||Fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),T1(this),k1(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function Wf(){return!this.$$.ptr}function Vf(){return this.$$.ptr||Fi(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&Fe("Object already scheduled for deletion"),bs.push(this),bs.length===1&&Ss&&Ss(Bi),this.$$.deleteScheduled=!0,this}function qf(){Ur.prototype.isAliasOf=Rf,Ur.prototype.clone=Gf,Ur.prototype.delete=Hf,Ur.prototype.isDeleted=Wf,Ur.prototype.deleteLater=Vf}function Ur(){}function Ui(i,a,p){if(i[a].overloadTable===void 0){var d=i[a];i[a]=function(){return i[a].overloadTable.hasOwnProperty(arguments.length)||Fe("Function '"+p+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+i[a].overloadTable+")!"),i[a].overloadTable[arguments.length].apply(this,arguments)},i[a].overloadTable=[],i[a].overloadTable[d.argCount]=d}}function A1(i,a,p){r.hasOwnProperty(i)?(Fe("Cannot register public name '"+i+"' twice"),Ui(r,i,i),r.hasOwnProperty(p)&&Fe("Cannot register multiple overloads of a function with the same number of arguments ("+p+")!"),r[i].overloadTable[p]=a):r[i]=a}function jf(i,a,p,d,m,b,E,k){this.name=i,this.constructor=a,this.instancePrototype=p,this.rawDestructor=d,this.baseClass=m,this.getActualType=b,this.upcast=E,this.downcast=k,this.pureVirtualFunctions=[]}function Ni(i,a,p){for(;a!==p;)a.upcast||Fe("Expected null or instance of "+p.name+", got an instance of "+a.name),i=a.upcast(i),a=a.baseClass;return i}function zf(i,a){if(a===null)return this.isReference&&Fe("null is not a valid "+this.name),0;a.$$||Fe('Cannot pass "'+qi(a)+'" as a '+this.name),a.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name);var p=a.$$.ptrType.registeredClass,d=Ni(a.$$.ptr,p,this.registeredClass);return d}function Xf(i,a){var p;if(a===null)return this.isReference&&Fe("null is not a valid "+this.name),this.isSmartPointer?(p=this.rawConstructor(),i!==null&&i.push(this.rawDestructor,p),p):0;a.$$||Fe('Cannot pass "'+qi(a)+'" as a '+this.name),a.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&a.$$.ptrType.isConst&&Fe("Cannot convert argument of type "+(a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name)+" to parameter type "+this.name);var d=a.$$.ptrType.registeredClass;if(p=Ni(a.$$.ptr,d,this.registeredClass),this.isSmartPointer)switch(a.$$.smartPtr===void 0&&Fe("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:a.$$.smartPtrType===this?p=a.$$.smartPtr:Fe("Cannot convert argument of type "+(a.$$.smartPtrType?a.$$.smartPtrType.name:a.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:p=a.$$.smartPtr;break;case 2:if(a.$$.smartPtrType===this)p=a.$$.smartPtr;else{var m=a.clone();p=this.rawShare(p,ht.toHandle(function(){m.delete()})),i!==null&&i.push(this.rawDestructor,p)}break;default:Fe("Unsupporting sharing policy")}return p}function Yf(i,a){if(a===null)return this.isReference&&Fe("null is not a valid "+this.name),0;a.$$||Fe('Cannot pass "'+qi(a)+'" as a '+this.name),a.$$.ptr||Fe("Cannot pass deleted object as a pointer of type "+this.name),a.$$.ptrType.isConst&&Fe("Cannot convert argument of type "+a.$$.ptrType.name+" to parameter type "+this.name);var p=a.$$.ptrType.registeredClass,d=Ni(a.$$.ptr,p,this.registeredClass);return d}function wo(i){return this.fromWireType(re[i>>2])}function Zf(i){return this.rawGetPointee&&(i=this.rawGetPointee(i)),i}function $f(i){this.rawDestructor&&this.rawDestructor(i)}function Qf(i){i!==null&&i.delete()}function Kf(){_r.prototype.getPointee=Zf,_r.prototype.destructor=$f,_r.prototype.argPackAdvance=8,_r.prototype.readValueFromPointer=wo,_r.prototype.deleteObject=Qf,_r.prototype.fromWireType=Nf}function _r(i,a,p,d,m,b,E,k,C,U,Z){this.name=i,this.registeredClass=a,this.isReference=p,this.isConst=d,this.isSmartPointer=m,this.pointeeType=b,this.sharingPolicy=E,this.rawGetPointee=k,this.rawConstructor=C,this.rawShare=U,this.rawDestructor=Z,!m&&a.baseClass===void 0?d?(this.toWireType=zf,this.destructorFunction=null):(this.toWireType=Yf,this.destructorFunction=null):this.toWireType=Xf}function Jf(i,a,p){r.hasOwnProperty(i)||mo("Replacing nonexistant public symbol"),r[i].overloadTable!==void 0&&p!==void 0||(r[i]=a,r[i].argCount=p)}function ep(i,a,p){var d=r["dynCall_"+i];return p&&p.length?d.apply(null,[a].concat(p)):d.call(null,a)}function tp(i,a,p){return i.includes("j")?ep(i,a,p):Fr(a).apply(null,p)}function rp(i,a){var p=[];return function(){return p.length=0,Object.assign(p,arguments),tp(i,a,p)}}function an(i,a){i=Et(i);function p(){return i.includes("j")?rp(i,a):Fr(a)}var d=p();return typeof d!="function"&&Fe("unknown function pointer with signature "+i+": "+a),d}var C1=void 0;function R1(i){var a=W1(i),p=Et(a);return Er(a),p}function _o(i,a){var p=[],d={};function m(b){if(!d[b]&&!wr[b]){if(Pn[b]){Pn[b].forEach(m);return}p.push(b),d[b]=!0}}throw a.forEach(m),new C1(i+": "+p.map(R1).join([", "]))}function np(i,a,p,d,m,b,E,k,C,U,Z,$,z){Z=Et(Z),b=an(m,b),k&&(k=an(E,k)),U&&(U=an(C,U)),z=an($,z);var K=An(Z);A1(K,function(){_o("Cannot construct "+Z+" due to unbound types",[d])}),on([i,a,p],d?[d]:[],function(ce){ce=ce[0];var Ne,it;d?(Ne=ce.registeredClass,it=Ne.instancePrototype):it=Ur.prototype;var ut=Cn(K,function(){if(Object.getPrototypeOf(this)!==j)throw new Br("Use 'new' to construct "+Z);if(oe.constructor_body===void 0)throw new Br(Z+" has no accessible constructor");var ct=oe.constructor_body[arguments.length];if(ct===void 0)throw new Br("Tried to invoke ctor of "+Z+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(oe.constructor_body).toString()+") parameters instead!");return ct.apply(this,arguments)}),j=Object.create(it,{constructor:{value:ut}});ut.prototype=j;var oe=new jf(Z,ut,j,z,Ne,b,k,U),dt=new _r(Z,oe,!0,!1,!1),ze=new _r(Z+"*",oe,!1,!1,!1),Lt=new _r(Z+" const*",oe,!1,!0,!1);return P1[i]={pointerType:ze,constPointerType:Lt},Jf(K,ut),[dt,ze,Lt]})}function O1(i,a){if(!(i instanceof Function))throw new TypeError("new_ called with constructor type "+typeof i+" which is not a function");var p=Cn(i.name||"unknownFunctionName",function(){});p.prototype=i.prototype;var d=new p,m=i.apply(d,a);return m instanceof Object?m:d}function D1(i){for(;i.length;){var a=i.pop(),p=i.pop();p(a)}}function Gi(i,a,p,d,m){var b=a.length;b<2&&Fe("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var E=a[1]!==null&&p!==null,k=!1,C=1;C<a.length;++C)if(a[C]!==null&&a[C].destructorFunction===void 0){k=!0;break}for(var U=a[0].name!=="void",Z="",$="",C=0;C<b-2;++C)Z+=(C!==0?", ":"")+"arg"+C,$+=(C!==0?", ":"")+"arg"+C+"Wired";var z="return function "+An(i)+"("+Z+`) {
if (arguments.length !== `+(b-2)+`) {
throwBindingError('function `+i+" called with ' + arguments.length + ' arguments, expected "+(b-2)+` args!');
}
`;k&&(z+=`var destructors = [];
`);var K=k?"destructors":"null",ce=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],Ne=[Fe,d,m,D1,a[0],a[1]];E&&(z+="var thisWired = classParam.toWireType("+K+`, this);
`);for(var C=0;C<b-2;++C)z+="var arg"+C+"Wired = argType"+C+".toWireType("+K+", arg"+C+"); // "+a[C+2].name+`
`,ce.push("argType"+C),Ne.push(a[C+2]);if(E&&($="thisWired"+($.length>0?", ":"")+$),z+=(U?"var rv = ":"")+"invoker(fn"+($.length>0?", ":"")+$+`);
`,k)z+=`runDestructors(destructors);
`;else for(var C=E?1:2;C<a.length;++C){var it=C===1?"thisWired":"arg"+(C-2)+"Wired";a[C].destructorFunction!==null&&(z+=it+"_dtor("+it+"); // "+a[C].name+`
`,ce.push(it+"_dtor"),Ne.push(a[C].destructorFunction))}U&&(z+=`var ret = retType.fromWireType(rv);
return ret;
`),z+=`}
`,ce.push(z);var ut=O1(Function,ce).apply(null,Ne);return ut}function Hi(i,a){for(var p=[],d=0;d<i;d++)p.push(B[(a>>2)+d]);return p}function sp(i,a,p,d,m,b,E){var k=Hi(p,d);a=Et(a),b=an(m,b),on([],[i],function(C){C=C[0];var U=C.name+"."+a;function Z(){_o("Cannot call "+U+" due to unbound types",k)}a.startsWith("@@")&&(a=Symbol[a.substring(2)]);var $=C.registeredClass.constructor;return $[a]===void 0?(Z.argCount=p-1,$[a]=Z):(Ui($,a,U),$[a].overloadTable[p-1]=Z),on([],k,function(z){var K=[z[0],null].concat(z.slice(1)),ce=Gi(U,K,null,b,E);return $[a].overloadTable===void 0?(ce.argCount=p-1,$[a]=ce):$[a].overloadTable[p-1]=ce,[]}),[]})}function op(i,a,p,d,m,b){Te(a>0);var E=Hi(a,p);m=an(d,m),on([],[i],function(k){k=k[0];var C="constructor "+k.name;if(k.registeredClass.constructor_body===void 0&&(k.registeredClass.constructor_body=[]),k.registeredClass.constructor_body[a-1]!==void 0)throw new Br("Cannot register multiple constructors with identical number of parameters ("+(a-1)+") for class '"+k.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return k.registeredClass.constructor_body[a-1]=()=>{_o("Cannot construct "+k.name+" due to unbound types",E)},on([],E,function(U){return U.splice(1,0,null),k.registeredClass.constructor_body[a-1]=Gi(C,U,null,m,b),[]}),[]})}function ip(i,a,p,d,m,b,E,k){var C=Hi(p,d);a=Et(a),b=an(m,b),on([],[i],function(U){U=U[0];var Z=U.name+"."+a;a.startsWith("@@")&&(a=Symbol[a.substring(2)]),k&&U.registeredClass.pureVirtualFunctions.push(a);function $(){_o("Cannot call "+Z+" due to unbound types",C)}var z=U.registeredClass.instancePrototype,K=z[a];return K===void 0||K.overloadTable===void 0&&K.className!==U.name&&K.argCount===p-2?($.argCount=p-2,$.className=U.name,z[a]=$):(Ui(z,a,Z),z[a].overloadTable[p-2]=$),on([],C,function(ce){var Ne=Gi(Z,ce,U,b,E);return z[a].overloadTable===void 0?(Ne.argCount=p-2,z[a]=Ne):z[a].overloadTable[p-2]=Ne,[]}),[]})}var Wi=[],Kt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Vi(i){i>4&&--Kt[i].refcount===0&&(Kt[i]=void 0,Wi.push(i))}function ap(){for(var i=0,a=5;a<Kt.length;++a)Kt[a]!==void 0&&++i;return i}function up(){for(var i=5;i<Kt.length;++i)if(Kt[i]!==void 0)return Kt[i];return null}function cp(){r.count_emval_handles=ap,r.get_first_emval=up}var ht={toValue:i=>(i||Fe("Cannot use deleted val. handle = "+i),Kt[i].value),toHandle:i=>{switch(i){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:{var a=Wi.length?Wi.pop():Kt.length;return Kt[a]={refcount:1,value:i},a}}}};function lp(i,a){a=Et(a),ar(i,{name:a,fromWireType:function(p){var d=ht.toValue(p);return Vi(p),d},toWireType:function(p,d){return ht.toHandle(d)},argPackAdvance:8,readValueFromPointer:wo,destructorFunction:null})}function fp(i,a,p){switch(a){case 0:return function(d){var m=p?V:q;return this.fromWireType(m[d])};case 1:return function(d){var m=p?Q:le;return this.fromWireType(m[d>>1])};case 2:return function(d){var m=p?B:re;return this.fromWireType(m[d>>2])};default:throw new TypeError("Unknown integer type: "+i)}}function pp(i,a,p,d){var m=xn(p);a=Et(a);function b(){}b.values={},ar(i,{name:a,constructor:b,fromWireType:function(E){return this.constructor.values[E]},toWireType:function(E,k){return k.value},argPackAdvance:8,readValueFromPointer:fp(a,m,d),destructorFunction:null}),A1(a,b)}function bo(i,a){var p=wr[i];return p===void 0&&Fe(a+" has unknown type "+R1(i)),p}function hp(i,a,p){var d=bo(i,"enum");a=Et(a);var m=d.constructor,b=Object.create(d.constructor.prototype,{value:{value:p},constructor:{value:Cn(d.name+"_"+a,function(){})}});m.values[p]=b,m[a]=b}function qi(i){if(i===null)return"null";var a=typeof i;return a==="object"||a==="array"||a==="function"?i.toString():""+i}function dp(i,a){switch(a){case 2:return function(p){return this.fromWireType(Ae[p>>2])};case 3:return function(p){return this.fromWireType(je[p>>3])};default:throw new TypeError("Unknown float type: "+i)}}function vp(i,a,p){var d=xn(p);a=Et(a),ar(i,{name:a,fromWireType:function(m){return m},toWireType:function(m,b){return b},argPackAdvance:8,readValueFromPointer:dp(a,d),destructorFunction:null})}function gp(i,a,p){switch(a){case 0:return p?function(m){return V[m]}:function(m){return q[m]};case 1:return p?function(m){return Q[m>>1]}:function(m){return le[m>>1]};case 2:return p?function(m){return B[m>>2]}:function(m){return re[m>>2]};default:throw new TypeError("Unknown integer type: "+i)}}function mp(i,a,p,d,m){a=Et(a);var b=xn(p),E=$=>$;if(d===0){var k=32-8*p;E=$=>$<<k>>>k}var C=a.includes("unsigned"),U=($,z)=>{},Z;C?Z=function($,z){return U(z,this.name),z>>>0}:Z=function($,z){return U(z,this.name),z},ar(i,{name:a,fromWireType:E,toWireType:Z,argPackAdvance:8,readValueFromPointer:gp(a,b,d!==0),destructorFunction:null})}function yp(i,a,p){var d=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],m=d[a];function b(E){E=E>>2;var k=re,C=k[E],U=k[E+1];return new m(W,U,C)}p=Et(p),ar(i,{name:p,fromWireType:b,argPackAdvance:8,readValueFromPointer:b},{ignoreDuplicateRegistrations:!0})}function wp(i,a){a=Et(a);var p=a==="std::string";ar(i,{name:a,fromWireType:function(d){var m=re[d>>2],b;if(p)for(var E=d+4,k=0;k<=m;++k){var C=d+4+k;if(k==m||q[C]==0){var U=C-E,Z=Ie(E,U);b===void 0?b=Z:(b+="\0",b+=Z),E=C+1}}else{for(var $=new Array(m),k=0;k<m;++k)$[k]=String.fromCharCode(q[d+4+k]);b=$.join("")}return Er(d),b},toWireType:function(d,m){m instanceof ArrayBuffer&&(m=new Uint8Array(m));var b,E=typeof m=="string";E||m instanceof Uint8Array||m instanceof Uint8ClampedArray||m instanceof Int8Array||Fe("Cannot pass non-string to std::string"),p&&E?b=()=>He(m):b=()=>m.length;var k=b(),C=Sr(4+k+1);if(re[C>>2]=k,p&&E)Me(m,C+4,k+1);else if(E)for(var U=0;U<k;++U){var Z=m.charCodeAt(U);Z>255&&(Er(C),Fe("String has UTF-16 code units that do not fit in 8 bits")),q[C+4+U]=Z}else for(var U=0;U<k;++U)q[C+4+U]=m[U];return d!==null&&d.push(Er,C),C},argPackAdvance:8,readValueFromPointer:wo,destructorFunction:function(d){Er(d)}})}function _p(i,a,p){p=Et(p);var d,m,b,E,k;a===2?(d=Le,m=ve,E=Ze,b=()=>le,k=1):a===4&&(d=Je,m=Ue,E=qe,b=()=>re,k=2),ar(i,{name:p,fromWireType:function(C){for(var U=re[C>>2],Z=b(),$,z=C+4,K=0;K<=U;++K){var ce=C+4+K*a;if(K==U||Z[ce>>k]==0){var Ne=ce-z,it=d(z,Ne);$===void 0?$=it:($+="\0",$+=it),z=ce+a}}return Er(C),$},toWireType:function(C,U){typeof U!="string"&&Fe("Cannot pass non-string to C++ string type "+p);var Z=E(U),$=Sr(4+Z+a);return re[$>>2]=Z>>k,m(U,$+4,Z+a),C!==null&&C.push(Er,$),$},argPackAdvance:8,readValueFromPointer:wo,destructorFunction:function(C){Er(C)}})}function bp(i,a){a=Et(a),ar(i,{isVoid:!0,name:a,argPackAdvance:0,fromWireType:function(){},toWireType:function(p,d){}})}function Sp(){return Date.now()}var Ep=!0;function Tp(){return Ep}function kp(i,a,p){i=ht.toValue(i),a=bo(a,"emval::as");var d=[],m=ht.toHandle(d);return B[p>>2]=m,a.toWireType(d,i)}function xp(i){var a=[];return B[i>>2]=ht.toHandle(a),a}var Pp={};function ji(i){var a=Pp[i];return a===void 0?Et(i):a}var zi=[];function Ap(i,a,p,d,m){return i=zi[i],a=ht.toValue(a),p=ji(p),i(a,p,xp(d),m)}function I1(){return typeof globalThis=="object"?globalThis:(function(){return Function})()("return this")()}function Cp(i){return i===0?ht.toHandle(I1()):(i=ji(i),ht.toHandle(I1()[i]))}function Rp(i){var a=zi.length;return zi.push(i),a}function Op(i,a){for(var p=new Array(i),d=0;d<i;++d)p[d]=bo(re[a+d*te>>2],"parameter "+d);return p}var L1=[];function Dp(i,a){var p=Op(i,a),d=p[0],m=d.name+"_$"+p.slice(1).map(function(ce){return ce.name}).join("_")+"$",b=L1[m];if(b!==void 0)return b;for(var E=["retType"],k=[d],C="",U=0;U<i-1;++U)C+=(U!==0?", ":"")+"arg"+U,E.push("argType"+U),k.push(p[1+U]);for(var Z=An("methodCaller_"+m),$="return function "+Z+`(handle, name, destructors, args) {
`,z=0,U=0;U<i-1;++U)$+="    var arg"+U+" = argType"+U+".readValueFromPointer(args"+(z?"+"+z:"")+`);
`,z+=p[U+1].argPackAdvance;$+="    var rv = handle[name]("+C+`);
`;for(var U=0;U<i-1;++U)p[U+1].deleteObject&&($+="    argType"+U+".deleteObject(arg"+U+`);
`);d.isVoid||($+=`    return retType.toWireType(destructors, rv);
`),$+=`};
`,E.push($);var K=O1(Function,E).apply(null,k);return b=Rp(K),L1[m]=b,b}function Ip(i,a){return i=ht.toValue(i),a=ht.toValue(a),ht.toHandle(i[a])}function Lp(i){i>4&&(Kt[i].refcount+=1)}function Fp(i){return ht.toHandle(ji(i))}function Mp(i){var a=ht.toValue(i);D1(a),Vi(i)}function Bp(i,a,p){i=ht.toValue(i),a=ht.toValue(a),p=ht.toValue(p),i[a]=p}function Up(i,a){i=bo(i,"_emval_take_value");var p=i.readValueFromPointer(a);return ht.toHandle(p)}function Np(i){return i=ht.toValue(i),ht.toHandle(typeof i)}function Gp(i,a){var p=new Date(B[i>>2]*1e3);B[a>>2]=p.getSeconds(),B[a+4>>2]=p.getMinutes(),B[a+8>>2]=p.getHours(),B[a+12>>2]=p.getDate(),B[a+16>>2]=p.getMonth(),B[a+20>>2]=p.getFullYear()-1900,B[a+24>>2]=p.getDay();var d=new Date(p.getFullYear(),0,1),m=(p.getTime()-d.getTime())/(1e3*60*60*24)|0;B[a+28>>2]=m,B[a+36>>2]=-(p.getTimezoneOffset()*60);var b=new Date(p.getFullYear(),6,1).getTimezoneOffset(),E=d.getTimezoneOffset(),k=(b!=E&&p.getTimezoneOffset()==Math.min(E,b))|0;B[a+32>>2]=k}function Hp(i,a,p,d,m,b){try{var E=y.getStream(m);E&&(p&2&&Oe.doMsync(i,E,a,d,b),y.munmap(E))}catch(k){if(typeof y>"u"||!(k instanceof y.ErrnoError))throw k;return-k.errno}}function Wp(i,a,p){var d=new Date().getFullYear(),m=new Date(d,0,1),b=new Date(d,6,1),E=m.getTimezoneOffset(),k=b.getTimezoneOffset(),C=Math.max(E,k);B[i>>2]=C*60,B[a>>2]=+(E!=k);function U(ce){var Ne=ce.toTimeString().match(/\(([A-Za-z ]+)\)$/);return Ne?Ne[1]:"GMT"}var Z=U(m),$=U(b),z=Ct(Z),K=Ct($);k<E?(re[p>>2]=z,re[p+4>>2]=K):(re[p>>2]=K,re[p+4>>2]=z)}function Xi(i,a,p){Xi.called||(Xi.called=!0,Wp(i,a,p))}function Vp(){zt("")}function F1(){return 2147483648}function qp(){return F1()}function jp(i,a,p){q.copyWithin(i,a,a+p)}function zp(i){try{return ae.grow(i-W.byteLength+65535>>>16),pt(ae.buffer),1}catch{}}function Xp(i){var a=q.length;i=i>>>0;var p=F1();if(i>p)return!1;let d=(C,U)=>C+(U-C%U)%U;for(var m=1;m<=4;m*=2){var b=a*(1+.2/m);b=Math.min(b,i+100663296);var E=Math.min(p,d(Math.max(i,b),65536)),k=zp(E);if(k)return!0}return!1}var Yi={};function Yp(){return c||"./this.program"}function ks(){if(!ks.strings){var i=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",a={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:i,_:Yp()};for(var p in Yi)Yi[p]===void 0?delete a[p]:a[p]=Yi[p];var d=[];for(var p in a)d.push(p+"="+a[p]);ks.strings=d}return ks.strings}function Zp(i,a){var p=0;return ks().forEach(function(d,m){var b=a+p;re[i+m*4>>2]=b,H(d,b),p+=d.length+1}),0}function $p(i,a){var p=ks();re[i>>2]=p.length;var d=0;return p.forEach(function(m){d+=m.length+1}),re[a>>2]=d,0}function Qp(i){Rh(i)}function Kp(i){try{var a=Oe.getStreamFromFD(i);return y.close(a),0}catch(p){if(typeof y>"u"||!(p instanceof y.ErrnoError))throw p;return p.errno}}function Jp(i,a,p,d){for(var m=0,b=0;b<p;b++){var E=re[a>>2],k=re[a+4>>2];a+=8;var C=y.read(i,V,E,k,d);if(C<0)return-1;if(m+=C,C<k)break}return m}function eh(i,a,p,d){try{var m=Oe.getStreamFromFD(i),b=Jp(m,a,p);return B[d>>2]=b,0}catch(E){if(typeof y>"u"||!(E instanceof y.ErrnoError))throw E;return E.errno}}function th(i,a){return a+2097152>>>0<4194305-!!i?(i>>>0)+a*4294967296:NaN}function rh(i,a,p,d,m){try{var b=th(a,p);if(isNaN(b))return 61;var E=Oe.getStreamFromFD(i);return y.llseek(E,b,d),Bt=[E.position>>>0,(at=E.position,+Math.abs(at)>=1?at>0?(Math.min(+Math.floor(at/4294967296),4294967295)|0)>>>0:~~+Math.ceil((at-+(~~at>>>0))/4294967296)>>>0:0)],B[m>>2]=Bt[0],B[m+4>>2]=Bt[1],E.getdents&&b===0&&d===0&&(E.getdents=null),0}catch(k){if(typeof y>"u"||!(k instanceof y.ErrnoError))throw k;return k.errno}}function nh(i,a,p,d){for(var m=0,b=0;b<p;b++){var E=re[a>>2],k=re[a+4>>2];a+=8;var C=y.write(i,V,E,k,d);if(C<0)return-1;m+=C}return m}function sh(i,a,p,d){try{var m=Oe.getStreamFromFD(i),b=nh(m,a,p);return re[d>>2]=b,0}catch(E){if(typeof y>"u"||!(E instanceof y.ErrnoError))throw E;return E.errno}}function M1(i){for(var a=i.split("."),p=0;p<4;p++){var d=Number(a[p]);if(isNaN(d))return null;a[p]=d}return(a[0]|a[1]<<8|a[2]<<16|a[3]<<24)>>>0}function xs(i){return parseInt(i)}function oh(i){var a,p,d,m,b=/^((?=.*::)(?!.*::.+::)(::)?([\dA-F]{1,4}:(:|\b)|){5}|([\dA-F]{1,4}:){6})((([\dA-F]{1,4}((?!\3)::|:\b|$))|(?!\2\3)){2}|(((2[0-4]|1\d|[1-9])?\d|25[0-5])\.?\b){4})$/i,E=[];if(!b.test(i))return null;if(i==="::")return[0,0,0,0,0,0,0,0];for(i.startsWith("::")?i=i.replace("::","Z:"):i=i.replace("::",":Z:"),i.indexOf(".")>0?(i=i.replace(new RegExp("[.]","g"),":"),a=i.split(":"),a[a.length-4]=xs(a[a.length-4])+xs(a[a.length-3])*256,a[a.length-3]=xs(a[a.length-2])+xs(a[a.length-1])*256,a=a.slice(0,a.length-2)):a=i.split(":"),d=0,m=0,p=0;p<a.length;p++)if(typeof a[p]=="string")if(a[p]==="Z"){for(m=0;m<8-a.length+1;m++)E[p+m]=0;d=m-1}else E[p+d]=V1(parseInt(a[p],16));else E[p+d]=a[p];return[E[1]<<16|E[0],E[3]<<16|E[2],E[5]<<16|E[4],E[7]<<16|E[6]]}var Nr={address_map:{id:1,addrs:{},names:{}},lookup_name:function(i){var a=M1(i);if(a!==null||(a=oh(i),a!==null))return i;var p;if(Nr.address_map.addrs[i])p=Nr.address_map.addrs[i];else{var d=Nr.address_map.id++;Te(d<65535,"exceeded max address mappings of 65535"),p="172.29."+(d&255)+"."+(d&65280),Nr.address_map.names[p]=i,Nr.address_map.addrs[i]=p}return p},lookup_addr:function(i){return Nr.address_map.names[i]?Nr.address_map.names[i]:null}};function ih(i){var a=Sr(20),p=Sr(i.length+1);Me(i,p,i.length+1),re[a>>2]=p;var d=Sr(4);re[d>>2]=0,re[a+4>>2]=d;var m=2;B[a+8>>2]=m,B[a+12>>2]=4;var b=Sr(12);return re[b>>2]=b+8,re[b+4>>2]=0,B[b+8>>2]=M1(Nr.lookup_name(i)),re[a+16>>2]=b,a}function ah(i){return ih(Ie(i))}function uh(i){var a=i.getExtension("ANGLE_instanced_arrays");if(a)return i.vertexAttribDivisor=function(p,d){a.vertexAttribDivisorANGLE(p,d)},i.drawArraysInstanced=function(p,d,m,b){a.drawArraysInstancedANGLE(p,d,m,b)},i.drawElementsInstanced=function(p,d,m,b,E){a.drawElementsInstancedANGLE(p,d,m,b,E)},1}function ch(i){var a=i.getExtension("OES_vertex_array_object");if(a)return i.createVertexArray=function(){return a.createVertexArrayOES()},i.deleteVertexArray=function(p){a.deleteVertexArrayOES(p)},i.bindVertexArray=function(p){a.bindVertexArrayOES(p)},i.isVertexArray=function(p){return a.isVertexArrayOES(p)},1}function lh(i){var a=i.getExtension("WEBGL_draw_buffers");if(a)return i.drawBuffers=function(p,d){a.drawBuffersWEBGL(p,d)},1}function fh(i){return!!(i.multiDrawWebgl=i.getExtension("WEBGL_multi_draw"))}var tt={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:[],offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function(a){tt.lastError||(tt.lastError=a)},getNewId:function(i){for(var a=tt.counter++,p=i.length;p<a;p++)i[p]=null;return a},getSource:function(i,a,p,d){for(var m="",b=0;b<a;++b){var E=d?B[d+b*4>>2]:-1;m+=Ie(B[p+b*4>>2],E<0?void 0:E)}return m},createContext:function(i,a){if(!i.getContextSafariWebGL2Fixed){let m=function(b,E){var k=i.getContextSafariWebGL2Fixed(b,E);return b=="webgl"==k instanceof WebGLRenderingContext?k:null};i.getContextSafariWebGL2Fixed=i.getContext,i.getContext=m}var p=i.getContext("webgl",a);if(!p)return 0;var d=tt.registerContext(p,a);return d},registerContext:function(i,a){var p=tt.getNewId(tt.contexts),d={handle:p,attributes:a,version:a.majorVersion,GLctx:i};return i.canvas&&(i.canvas.GLctxObject=d),tt.contexts[p]=d,(typeof a.enableExtensionsByDefault>"u"||a.enableExtensionsByDefault)&&tt.initExtensions(d),p},makeContextCurrent:function(i){return tt.currentContext=tt.contexts[i],r.ctx=Dt=tt.currentContext&&tt.currentContext.GLctx,!(i&&!Dt)},getContext:function(i){return tt.contexts[i]},deleteContext:function(i){tt.currentContext===tt.contexts[i]&&(tt.currentContext=null),typeof JSEvents=="object"&&JSEvents.removeAllHandlersOnTarget(tt.contexts[i].GLctx.canvas),tt.contexts[i]&&tt.contexts[i].GLctx.canvas&&(tt.contexts[i].GLctx.canvas.GLctxObject=void 0),tt.contexts[i]=null},initExtensions:function(i){if(i||(i=tt.currentContext),!i.initExtensionsDone){i.initExtensionsDone=!0;var a=i.GLctx;uh(a),ch(a),lh(a),a.disjointTimerQueryExt=a.getExtension("EXT_disjoint_timer_query"),fh(a);var p=a.getSupportedExtensions()||[];p.forEach(function(d){!d.includes("lose_context")&&!d.includes("debug")&&a.getExtension(d)})}}};function B1(i){return i.slice(-1)=="]"&&i.lastIndexOf("[")}function ph(i){var a=i.uniformLocsById,p=i.uniformSizeAndIdsByName,d,m;if(!a)for(i.uniformLocsById=a={},i.uniformArrayNamesById={},d=0;d<Dt.getProgramParameter(i,35718);++d){var b=Dt.getActiveUniform(i,d),E=b.name,k=b.size,C=B1(E),U=C>0?E.slice(0,C):E,Z=i.uniformIdCounter;for(i.uniformIdCounter+=k,p[U]=[k,Z],m=0;m<k;++m)a[Z]=m,i.uniformArrayNamesById[Z++]=U}}function hh(i,a){if(a=Ie(a),i=tt.programs[i]){ph(i);var p=i.uniformLocsById,d=0,m=a,b=B1(a);b>0&&(d=xs(a.slice(b+1))>>>0,m=a.slice(0,b));var E=i.uniformSizeAndIdsByName[m];if(E&&d<E[0]&&(d+=E[1],p[d]=p[d]||Dt.getUniformLocation(i,a)))return d}else tt.recordError(1281);return-1}function Gr(i){var a=Dt.currentProgram;if(a){var p=a.uniformLocsById[i];return typeof p=="number"&&(a.uniformLocsById[i]=p=Dt.getUniformLocation(a,a.uniformArrayNamesById[i]+(p>0?"["+p+"]":""))),p}else tt.recordError(1282)}function dh(i,a){Dt.uniform1f(Gr(i),a)}function vh(i,a){Dt.uniform1i(Gr(i),a)}var So=[];function gh(i,a,p){if(a<=144)for(var d=So[2*a-1],m=0;m<2*a;m+=2)d[m]=Ae[p+4*m>>2],d[m+1]=Ae[p+(4*m+4)>>2];else var d=Ae.subarray(p>>2,p+a*8>>2);Dt.uniform2fv(Gr(i),d)}var Eo=[];function mh(i,a,p){if(a<=144)for(var d=Eo[2*a-1],m=0;m<2*a;m+=2)d[m]=B[p+4*m>>2],d[m+1]=B[p+(4*m+4)>>2];else var d=B.subarray(p>>2,p+a*8>>2);Dt.uniform2iv(Gr(i),d)}function yh(i,a,p){if(a<=96)for(var d=So[3*a-1],m=0;m<3*a;m+=3)d[m]=Ae[p+4*m>>2],d[m+1]=Ae[p+(4*m+4)>>2],d[m+2]=Ae[p+(4*m+8)>>2];else var d=Ae.subarray(p>>2,p+a*12>>2);Dt.uniform3fv(Gr(i),d)}function wh(i,a,p){if(a<=96)for(var d=Eo[3*a-1],m=0;m<3*a;m+=3)d[m]=B[p+4*m>>2],d[m+1]=B[p+(4*m+4)>>2],d[m+2]=B[p+(4*m+8)>>2];else var d=B.subarray(p>>2,p+a*12>>2);Dt.uniform3iv(Gr(i),d)}function _h(i,a,p){if(a<=72){var d=So[4*a-1],m=Ae;p>>=2;for(var b=0;b<4*a;b+=4){var E=p+b;d[b]=m[E],d[b+1]=m[E+1],d[b+2]=m[E+2],d[b+3]=m[E+3]}}else var d=Ae.subarray(p>>2,p+a*16>>2);Dt.uniform4fv(Gr(i),d)}function bh(i,a,p){if(a<=72)for(var d=Eo[4*a-1],m=0;m<4*a;m+=4)d[m]=B[p+4*m>>2],d[m+1]=B[p+(4*m+4)>>2],d[m+2]=B[p+(4*m+8)>>2],d[m+3]=B[p+(4*m+12)>>2];else var d=B.subarray(p>>2,p+a*16>>2);Dt.uniform4iv(Gr(i),d)}function Sh(i){}function To(i){return i%4===0&&(i%100!==0||i%400===0)}function Eh(i,a){for(var p=0,d=0;d<=a;p+=i[d++]);return p}var U1=[31,29,31,30,31,30,31,31,30,31,30,31],N1=[31,28,31,30,31,30,31,31,30,31,30,31];function Th(i,a){for(var p=new Date(i.getTime());a>0;){var d=To(p.getFullYear()),m=p.getMonth(),b=(d?U1:N1)[m];if(a>b-p.getDate())a-=b-p.getDate()+1,p.setDate(1),m<11?p.setMonth(m+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else return p.setDate(p.getDate()+a),p}return p}function kh(i,a,p,d){var m=B[d+40>>2],b={tm_sec:B[d>>2],tm_min:B[d+4>>2],tm_hour:B[d+8>>2],tm_mday:B[d+12>>2],tm_mon:B[d+16>>2],tm_year:B[d+20>>2],tm_wday:B[d+24>>2],tm_yday:B[d+28>>2],tm_isdst:B[d+32>>2],tm_gmtoff:B[d+36>>2],tm_zone:m?Ie(m):""},E=Ie(p),k={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var C in k)E=E.replace(new RegExp(C,"g"),k[C]);var U=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Z=["January","February","March","April","May","June","July","August","September","October","November","December"];function $(j,oe,dt){for(var ze=typeof j=="number"?j.toString():j||"";ze.length<oe;)ze=dt[0]+ze;return ze}function z(j,oe){return $(j,oe,"0")}function K(j,oe){function dt(Lt){return Lt<0?-1:Lt>0?1:0}var ze;return(ze=dt(j.getFullYear()-oe.getFullYear()))===0&&(ze=dt(j.getMonth()-oe.getMonth()))===0&&(ze=dt(j.getDate()-oe.getDate())),ze}function ce(j){switch(j.getDay()){case 0:return new Date(j.getFullYear()-1,11,29);case 1:return j;case 2:return new Date(j.getFullYear(),0,3);case 3:return new Date(j.getFullYear(),0,2);case 4:return new Date(j.getFullYear(),0,1);case 5:return new Date(j.getFullYear()-1,11,31);case 6:return new Date(j.getFullYear()-1,11,30)}}function Ne(j){var oe=Th(new Date(j.tm_year+1900,0,1),j.tm_yday),dt=new Date(oe.getFullYear(),0,4),ze=new Date(oe.getFullYear()+1,0,4),Lt=ce(dt),ct=ce(ze);return K(Lt,oe)<=0?K(ct,oe)<=0?oe.getFullYear()+1:oe.getFullYear():oe.getFullYear()-1}var it={"%a":function(j){return U[j.tm_wday].substring(0,3)},"%A":function(j){return U[j.tm_wday]},"%b":function(j){return Z[j.tm_mon].substring(0,3)},"%B":function(j){return Z[j.tm_mon]},"%C":function(j){var oe=j.tm_year+1900;return z(oe/100|0,2)},"%d":function(j){return z(j.tm_mday,2)},"%e":function(j){return $(j.tm_mday,2," ")},"%g":function(j){return Ne(j).toString().substring(2)},"%G":function(j){return Ne(j)},"%H":function(j){return z(j.tm_hour,2)},"%I":function(j){var oe=j.tm_hour;return oe==0?oe=12:oe>12&&(oe-=12),z(oe,2)},"%j":function(j){return z(j.tm_mday+Eh(To(j.tm_year+1900)?U1:N1,j.tm_mon-1),3)},"%m":function(j){return z(j.tm_mon+1,2)},"%M":function(j){return z(j.tm_min,2)},"%n":function(){return`
`},"%p":function(j){return j.tm_hour>=0&&j.tm_hour<12?"AM":"PM"},"%S":function(j){return z(j.tm_sec,2)},"%t":function(){return"	"},"%u":function(j){return j.tm_wday||7},"%U":function(j){var oe=j.tm_yday+7-j.tm_wday;return z(Math.floor(oe/7),2)},"%V":function(j){var oe=Math.floor((j.tm_yday+7-(j.tm_wday+6)%7)/7);if((j.tm_wday+371-j.tm_yday-2)%7<=2&&oe++,oe){if(oe==53){var ze=(j.tm_wday+371-j.tm_yday)%7;ze!=4&&(ze!=3||!To(j.tm_year))&&(oe=1)}}else{oe=52;var dt=(j.tm_wday+7-j.tm_yday-1)%7;(dt==4||dt==5&&To(j.tm_year%400-1))&&oe++}return z(oe,2)},"%w":function(j){return j.tm_wday},"%W":function(j){var oe=j.tm_yday+7-(j.tm_wday+6)%7;return z(Math.floor(oe/7),2)},"%y":function(j){return(j.tm_year+1900).toString().substring(2)},"%Y":function(j){return j.tm_year+1900},"%z":function(j){var oe=j.tm_gmtoff,dt=oe>=0;return oe=Math.abs(oe)/60,oe=oe/60*100+oe%60,(dt?"+":"-")+("0000"+oe).slice(-4)},"%Z":function(j){return j.tm_zone},"%%":function(){return"%"}};E=E.replace(/%%/g,"\0\0");for(var C in it)E.includes(C)&&(E=E.replace(new RegExp(C,"g"),it[C](b)));E=E.replace(/\0\0/g,"%");var ut=Po(E,!1);return ut.length>a?0:(jt(ut,i),ut.length-1)}function xh(i,a,p,d){return kh(i,a,p,d)}var G1=function(i,a,p,d){i||(i=this),this.parent=i,this.mount=i.mount,this.mounted=null,this.id=y.nextInode++,this.name=a,this.mode=p,this.node_ops={},this.stream_ops={},this.rdev=d},ko=365,xo=146;Object.defineProperties(G1.prototype,{read:{get:function(){return(this.mode&ko)===ko},set:function(i){i?this.mode|=ko:this.mode&=~ko}},write:{get:function(){return(this.mode&xo)===xo},set:function(i){i?this.mode|=xo:this.mode&=~xo}},isFolder:{get:function(){return y.isDir(this.mode)}},isDevice:{get:function(){return y.isChrdev(this.mode)}}}),y.FSNode=G1,y.staticInit(),Di(),Br=r.BindingError=_s(Error,"BindingError"),E1=r.InternalError=_s(Error,"InternalError"),qf(),Mf(),Kf(),C1=r.UnboundTypeError=_s(Error,"UnboundTypeError"),cp();for(var Dt,Ph=new Float32Array(288),br=0;br<288;++br)So[br]=Ph.subarray(0,br+1);for(var Ah=new Int32Array(288),br=0;br<288;++br)Eo[br]=Ah.subarray(0,br+1);function Po(i,a,p){var d=He(i)+1,m=new Array(d),b=Ke(i,m,0,m.length);return a&&(m.length=b),m}var Ch={ga:rs,k:ns,b:ss,c:is,Q:fs,R:ps,q:ds,K:vs,U:gs,I:ms,H:ys,u:ws,J:Ri,z:Oi,W:Cf,d:np,f:sp,e:op,a:ip,V:lp,g:pp,h:hp,v:vp,j:mp,i:yp,w:wp,r:_p,X:bp,N:Sp,M:Tp,m:kp,ka:Ap,x:Vi,la:Cp,ja:Dp,s:Ip,E:Lp,ia:Fp,ma:Mp,n:Bp,l:Up,na:Np,O:Gp,D:Hp,P:Xi,t:Vp,C:qp,L:jp,o:Xp,F:Zp,G:$p,fa:Qp,p:Kp,T:eh,y:rh,S:sh,ha:ah,ea:hh,ca:dh,da:vh,_:gh,ba:mh,Z:yh,aa:wh,Y:_h,$:bh,A:Sh,B:xh};ts(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.pa).apply(null,arguments)};var Sr=r._malloc=function(){return(Sr=r._malloc=r.asm.qa).apply(null,arguments)},Er=r._free=function(){return(Er=r._free=r.asm.ra).apply(null,arguments)},H1=r.___errno_location=function(){return(H1=r.___errno_location=r.asm.sa).apply(null,arguments)},W1=r.___getTypeName=function(){return(W1=r.___getTypeName=r.asm.ta).apply(null,arguments)};r.___embind_register_native_and_builtin_types=function(){return(r.___embind_register_native_and_builtin_types=r.asm.ua).apply(null,arguments)};var V1=r._htons=function(){return(V1=r._htons=r.asm.wa).apply(null,arguments)},q1=r._emscripten_builtin_memalign=function(){return(q1=r._emscripten_builtin_memalign=r.asm.xa).apply(null,arguments)},j1=r.___cxa_is_pointer_type=function(){return(j1=r.___cxa_is_pointer_type=r.asm.ya).apply(null,arguments)};r.dynCall_jiji=function(){return(r.dynCall_jiji=r.asm.za).apply(null,arguments)},r.dynCall_viiiiji=function(){return(r.dynCall_viiiiji=r.asm.Aa).apply(null,arguments)},r.dynCall_viijii=function(){return(r.dynCall_viijii=r.asm.Ba).apply(null,arguments)},r.dynCall_iiiiij=function(){return(r.dynCall_iiiiij=r.asm.Ca).apply(null,arguments)},r.dynCall_iiiiijj=function(){return(r.dynCall_iiiiijj=r.asm.Da).apply(null,arguments)},r.dynCall_iiiiiijj=function(){return(r.dynCall_iiiiiijj=r.asm.Ea).apply(null,arguments)},r.FS=y;var Ao;function z1(i){this.name="ExitStatus",this.message="Program terminated with exit("+i+")",this.status=i}yr=function i(){Ao||Zi(),Ao||(yr=i)};function Zi(i){if($t>0||(mr(),$t>0))return;function a(){Ao||(Ao=!0,r.calledRun=!0,!fe&&(Dr(),n(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),rn()))}r.setStatus?(r.setStatus("Running..."),setTimeout(function(){setTimeout(function(){r.setStatus("")},1),a()},1)):a()}r.run=Zi;function Rh(i,a){Oh(i)}function Oh(i){l(i,new z1(i))}if(r.preInit)for(typeof r.preInit=="function"&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();return Zi(),r.ready})})();export{x as C,he as I,ln as J,hS as M,u as T,tS as a,nS as b,A as c,sS as d,aS as e,rS as f,oS as g,vi as h,eS as i,vr as j,pS as k,cS as p,lS as s,uS as v};
