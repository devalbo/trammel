import { Meta } from '@storybook/blocks';

<Meta title="Tier 5 — Typed Constraints/35 Fit Between Anchors" />

# 023 — Fit Between Anchors

<div style={{
  padding: '12px 16px',
  marginBottom: 24,
  background: '#fff8e1',
  border: '1px solid #ffe082',
  borderRadius: 4,
  fontSize: 14,
  color: '#6d4c00',
}}>
  **Spec only** — this component is not yet implemented. The syntax below shows the target API.
</div>

## Description

A rect that stretches to fill the horizontal gap between two other rects. Width is implicit — determined by `left` and `right` virtual props targeting different shapes.

## Elements

| Element | Type | Purpose |
|---------|------|---------|
| `<Rect>` #wallL | Primitive | Left boundary |
| `<Rect>` #wallR | Primitive | Right boundary |
| `<Rect>` #beam | Primitive | Fills the gap |

## Syntax

```jsx
<Sprite viewBox="0 0 300 100">
  <Rect id="wallL" x={10} y={10} width={30} height={80} fill="#555" />
  <Rect id="wallR" x={260} y={10} width={30} height={80} fill="#555" />

  <Rect
    id="beam"
    left="#wallL.right"
    right="#wallR.left"
    centerY="#wallL.centerY"
    height={20}
    fill="#e74c3c"
  />
</Sprite>
```

## Resolver Trace

1. wallL: right = 40
2. wallR: left = 260
3. beam: left = 40, right = 260 → width = 260 - 40 = 220
4. beam: centerY = wallL.centerY = 10 + 80/2 = 50 → y = 50 - 20/2 = 40

## Expected SVG Output

```svg
<svg viewBox="0 0 300 100" xmlns="http://www.w3.org/2000/svg">
  <rect x="10" y="10" width="30" height="80" fill="#555" />
  <rect x="260" y="10" width="30" height="80" fill="#555" />
  <rect x="40" y="40" width="220" height="20" fill="#e74c3c" />
</svg>
```

## What This Validates

- When both `left` and `right` are specified, width is computed as `right - left`
- This is the virtual-prop shorthand for `DimFit`
- The shape auto-resizes if either wall moves
