import { Meta } from '@storybook/blocks';
import * as Stories from './02-CircleCenteredOnRect.stories';
import { LiveCanvas } from '../../components/LiveCanvas';

<Meta of={Stories} />

# Circle Centered on Rect

A circle whose center aligns with a rectangle's center using `centerX="#box.centerX"` and `centerY="#box.centerY"`.

## Elements

| Element | Type | Purpose |
|---------|------|---------|
| `<Rect>` #box | Primitive | Anchor shape |
| `<Circle>` #dot | Primitive | Centered on the rect |

## Default

<LiveCanvas code={`<Sprite viewBox="0 0 200 100">
  <Rect
    id="box"
    x={30}
    y={20}
    width={80}
    height={50}
    fill="#e8e8e8"
    stroke="#999"
  />
  <Circle
    id="dot"
    centerX="#box.centerX"
    centerY="#box.centerY"
    r={12}
    fill="#c0392b"
  />
</Sprite>`} />

## Resolver Trace

1. box resolves: x=30, y=20, w=80, h=50 â€” anchors: centerX=70, centerY=45
2. dot reads `#box.centerX` = 70, `#box.centerY` = 45
3. dot resolves: cx=70, cy=45, r=12

## What This Validates

- `centerX` and `centerY` anchors compute correctly for rects (x + w/2, y + h/2)
- Circle's `centerX`/`centerY` virtual props map directly to SVG `cx`/`cy`
- Cross-shape-type references work (Circle to Rect)
