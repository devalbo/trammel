import { Meta } from '@storybook/blocks';

<Meta title="Tier 6 — Layout & Variables/46 Dynamic Count (Array.from)" />

# 034 — Dynamic Count (Array.from)

<div style={{
  padding: '12px 16px',
  marginBottom: 24,
  background: '#fff8e1',
  border: '1px solid #ffe082',
  borderRadius: 4,
  fontSize: 14,
  color: '#6d4c00',
}}>
  **Spec only** — this component is not yet implemented. The syntax below shows the target API.
</div>

## Description

A variable-count row of circles generated from a `count` variable using `Array.from`. Tests the interaction between React's dynamic rendering and the constraint system.

## Elements

| Element | Type | Purpose |
|---------|------|---------|
| `<Layout>` | Container | Row distribution |
| `<Circle>` x N | Primitive | Dynamic count |

## Syntax

```jsx
<Sprite
  viewBox="0 0 300 60"
  vars={{ count: 5, radius: 8 }}
>
  <Layout
    direction="row"
    gap={12}
    padding={15}
    alignItems="center"
    x={0}
    y={0}
    width={300}
    height={60}
  >
    {Array.from({ length: vars.count }, (_, i) => (
      <Circle
        key={i}
        id={`dot_${i}`}
        r={vars.radius}
        fill="#4a90d9"
      />
    ))}
  </Layout>
</Sprite>
```

## With vars.count = 5, vars.radius = 8

5 circles, each diameter 16, gap 12, padding 15.

## With vars.count = 3, vars.radius = 12

3 circles, each diameter 24, gap 12, padding 15.

## What This Validates

- `Array.from` generates a dynamic number of shapes
- Layout adapts to changing child count
- Variable-driven `r` and `count` are reactive
- Each shape gets a unique `id` via template literal
