import { Meta } from '@storybook/blocks';
import * as Stories from './04-LineBetweenTwoShapes.stories';
import { LiveCanvas } from '../../components/LiveCanvas';

<Meta of={Stories} />

# Line Between Two Shapes

A line whose start and end points are anchored to the centers of two rectangles using `start="#a.center"` and `end="#b.center"`.

## Elements

| Element | Type | Purpose |
|---------|------|---------|
| `<Rect>` #a, #b | Primitive | Anchor shapes |
| `<Line>` #connector | Primitive | Connects the two rects |

## Default

<LiveCanvas code={`<Sprite viewBox="0 0 220 100">
  <Rect id="a" x={20} y={25} width={70} height={50} fill="#4a90d9" />
  <Rect id="b" x={130} y={25} width={70} height={50} fill="#d94a4a" />
  <Line
    id="connector"
    start="#a.center"
    end="#b.center"
    stroke="#333"
    strokeWidth={2}
  />
</Sprite>`} />

## Resolver Trace

1. a resolves — anchors: center = (55, 50)
2. b resolves — anchors: center = (165, 50)
3. connector reads `#a.center` = (55, 50), `#b.center` = (165, 50)

## What This Validates

- Line `start`/`end` accept AnchorRef strings
- The `.center` anchor resolves to a Point2D (both x and y)
- Lines use start/end directly, not the virtual prop system
